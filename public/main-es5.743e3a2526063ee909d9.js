(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return y}),n.d(e,"__await",function(){return m}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return g}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return E});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function g(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},"+tJ4":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},"+umK":function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},"/WYv":function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},0:function(t,e,n){t.exports=n("zUnb")},"0/uQ":function(t,e,n){"use strict";var r=n("6blF"),i=n("/WYv"),o=n("2ePl"),a=n("xTla"),s=n("En8+"),u=n("IUTb"),c=n("pugT"),l=n("S5XQ"),h=n("u67D"),f=n("JcRv"),p=n("Fxb1");function d(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(p.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?function(n){var r=new c.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:Object(f.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?function(n){var r=new c.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:Object(l.a)(t))}(t,e);if(Object(o.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?function(n){var r,i=new c.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[s.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return d})},"26FU":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("mrSG"),i=n("K9Ia"),o=n("8g8A"),a=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.__extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.a)},"2Bdj":function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},"2ePl":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"30Go":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return y}),n.d(e,"__await",function(){return m}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return g}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return E});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function g(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},"3fWJ":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},"60iU":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("G5J1"),i=n("F/XL"),o=n("XlPw"),a=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},"67Y/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(i.a)},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("os0x"),a=n("q/0M"),s=n("zVF4"),u=n("x7I3"),c=i.SDK_VERSION,l=new a.Logger("@firebase/firestore"),h=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function f(){return l.logLevel===a.LogLevel.DEBUG?h.DEBUG:l.logLevel===a.LogLevel.SILENT?h.SILENT:h.ERROR}function p(t){switch(t){case h.DEBUG:l.logLevel=a.LogLevel.DEBUG;break;case h.ERROR:l.logLevel=a.LogLevel.ERROR;break;case h.SILENT:l.logLevel=a.LogLevel.SILENT;break;default:l.error("Firestore ("+c+"): Invalid value passed to `setLogLevel`")}}function d(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(l.logLevel<=a.LogLevel.DEBUG){var i=n.map(m);l.debug.apply(l,o.__spread(["Firestore ("+c+") ["+t+"]: "+e],i))}}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=a.LogLevel.ERROR){var r=e.map(m);l.error.apply(l,o.__spread(["Firestore ("+c+"): "+t],r))}}function m(t){if("string"==typeof t)return t;var e=b.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function v(t){var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw y(e),new Error(e)}function g(t,e){t||v(e)}var b=function(){function t(){}return t.setPlatform=function(e){t.platform&&v("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||v("Platform not set"),t.platform},t}();function _(){return b.getPlatform().emptyByteString}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o.__extends(e,t),e}(Error);function S(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new E(w.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){return void 0!==t?t:e}function I(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function O(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A(t){for(var e in g(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function x(t,e){if(0!==e.length)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+K(e.length,"argument")+".")}function k(t,e,n){if(e.length!==n)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function N(t,e,n){if(e.length<n)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires at least "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function D(t,e,n,r){if(e.length<n||e.length>r)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+K(e.length,"argument")+".")}function P(t,e,n,r){V(t,e,H(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&P(t,e,n,r)}function M(t,e,n,r){V(t,e,n+" option",r)}function j(t,e,n,r){void 0!==r&&M(t,e,n,r)}function L(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){var a,s,u=[];try{for(var c=o.__values(i),l=c.next();!l.done;l=c.next()){var h=l.value;if(h===r)return;u.push(U(h))}}catch(p){a={error:p}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}var f=U(r);throw new E(w.INVALID_ARGUMENT,"Invalid value "+f+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+u.join(", "))}(t,0,n,r,i)}function V(t,e,n,r){if(!("object"===e?F(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=U(r);throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function F(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function U(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v("Unknown wrong type: "+typeof t)}function B(t,e,n){if(void 0===n)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+H(e)+" argument, but it was undefined.")}function q(t,e,n){O(e,function(e,r){if(n.indexOf(e)<0)throw new E(w.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function z(t,e,n,r){var i=U(r);return new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+H(n)+" argument to be a "+e+", but it was: "+i)}function H(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function K(t,e){return t+" "+e+(1===t?"":"s")}var G=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return g(20===e.length,"Invalid auto ID: "+e),e},t}();function Q(t,e){return t<e?-1:t>e?1:0}function W(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Y(t){return t+"\0"}function Z(){if("undefined"==typeof Uint8Array)throw new E(w.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function X(){if(!b.getPlatform().base64Available)throw new E(w.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var J=function(){function t(t){X(),this._binaryString=t}return t.fromBase64String=function(e){k("Blob.fromBase64String",arguments,1),P("Blob.fromBase64String","string",1,e),X();try{return new t(b.getPlatform().atob(e))}catch(n){throw new E(w.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+n)}},t.fromUint8Array=function(e){if(k("Blob.fromUint8Array",arguments,1),Z(),!(e instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return k("Blob.toBase64",arguments,0),X(),b.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){k("Blob.toUint8Array",arguments,0),Z();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return Q(this._binaryString,t._binaryString)},t}(),$=S(J,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),tt=function(){return function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}}(),et="(default)",nt=function(){function t(t,e){this.projectId=t,this.database=e||et}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===et},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return Q(this.projectId,t.projectId)||Q(this.database,t.database)},t}(),rt=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),it=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&v("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&v("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):v("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return g(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return g(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return g(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return g(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new E(w.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(it),at=/^[_a-zA-Z][_a-zA-Z0-9]*$/,st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.isValidIdentifier=function(t){return at.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new E(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new E(w.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new E(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new E(w.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(it),ut=function(){function t(e){this.path=e,g(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ot.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ot.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ot(e.slice()))},t.fromPathString=function(e){return new t(ot.fromString(e))},t.EMPTY=new t(new ot([])),t}(),ct=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}(),lt=function(t){return t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection",t}({}),ht=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(w.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),ft=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw y("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),g(e>=0,"Attempted to schedule an operation with a negative delay of "+e),g(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=ht.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&v("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){g(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){var e,n;try{for(var r=o.__values(this.delayedOperations),i=r.next();!i.done;i=r.next())if(i.value.timerId===t)return!0}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){var n,r;g(t===lt.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});try{for(var i=o.__values(e.delayedOperations),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.skipDelay(),t!==lt.All&&s.timerId===t)break}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);g(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),pt="\x01",dt="\x01",yt="\x10",mt="\x11";function vt(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=bt(e)),e=gt(t.get(n),e);return bt(e)}function gt(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=pt+yt;break;case pt:n+=pt+mt;break;default:n+=o}}return n}function bt(t){return t+pt+dt}function _t(t){var e=t.length;if(g(e>=2,"Invalid path "+t),2===e)return g(t.charAt(0)===pt&&t.charAt(1)===dt,"Non-empty path "+t+" had length 2"),ot.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(pt,o);switch((a<0||a>n)&&v('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case dt:var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case yt:i+=t.substring(o,a),i+="\0";break;case mt:i+=t.substring(o,a+1);break;default:v('Invalid encoded resource path: "'+t+'"')}o=a+2}return new ot(r)}var wt=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new E(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new E(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new E(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new E(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Q(this.nanoseconds,t.nanoseconds):Q(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),Et=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new wt(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new wt(0,0)),t}(),St=function(){function t(t,e){this.comparator=t,this.root=e||Ct.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Tt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Tt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Tt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Tt(this.root,t,this.comparator,!0)},t}(),Tt=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){g(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ct=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw v("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw v("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),It=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ct(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();Ct.EMPTY=new It;var Ot=function(){function t(t){this.comparator=t,this.data=new St(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new At(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new At(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),At=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),xt=new St(ut.comparator);function kt(){return xt}function Nt(){return kt()}var Dt=new St(ut.comparator);function Pt(){return Dt}var Rt=new St(ut.comparator);function Mt(){return Rt}var jt=new Ot(ut.comparator);function Lt(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=jt;try{for(var a=o.__values(n),s=a.next();!s.done;s=a.next())i=i.add(s.value)}catch(u){t={error:u}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return i}var Vt=new Ot(Q);function Ft(){return Vt}var Ut=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,g(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&g(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;g(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){var n,r,i,a;e&&g(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);try{for(var s=o.__values(this.baseMutations),u=s.next();!u.done;u=s.next())(f=u.value).key.isEqual(t)&&(e=f.applyToLocalView(e,e,this.localWriteTime))}catch(p){n={error:p}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}var c=e;try{for(var l=o.__values(this.mutations),h=l.next();!h.done;h=l.next()){var f;(f=h.value).key.isEqual(t)&&(e=f.applyToLocalView(e,c,this.localWriteTime))}}catch(d){i={error:d}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Lt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&W(this.mutations,t.mutations)&&W(this.baseMutations,t.baseMutations)},t}(),Bt=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){g(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=Mt(),a=e.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new t(e,n,r,i,o)},t}(),qt=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&v("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){var n,r,i=t.resolve(!1),a=function(e){i=i.next(function(n){return n?t.resolve(n):e()})};try{for(var s=o.__values(e),u=s.next();!u.done;u=s.next())a(u.value)}catch(c){n={error:c}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),zt=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,i){return g(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qt(t).iterate({index:Pe.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=Gt(n),Yt(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=Gt(e),Yt(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,a=Wt(t),s=Qt(t);return s.add({}).next(function(u){var c,l;g("number"==typeof u,"Auto-generated key is not a number");var h=new Ut(u,e,n,r),f=i.serializer.toDbMutationBatch(i.userId,h);i.documentKeysByBatchId[u]=h.keys();var p=[];try{for(var d=o.__values(r),y=d.next();!y.done;y=d.next()){var m=y.value,v=Re.key(i.userId,m.key.path,u);p.push(s.put(f)),p.push(a.put(v,Re.PLACEHOLDER)),p.push(i.indexManager.addToCollectionParentIndex(t,m.key.path.popLast()))}}catch(b){c={error:b}}finally{try{y&&!y.done&&(l=d.return)&&l.call(d)}finally{if(c)throw c.error}}return qt.waitFor(p).next(function(){return h})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Qt(t).get(e).next(function(t){return t?(g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?qt.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Qt(t).iterate({index:Pe.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(g(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(e)),i.done()}).next(function(){return o})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qt(t).loadAll(Pe.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Re.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),a=[];return Wt(t).iterate({range:i},function(r,i,s){var u=o.__read(r,3),c=u[0],l=u[2],h=_t(u[1]);if(c===n.userId&&e.path.isEqual(h))return Qt(t).get(l).next(function(t){if(!t)throw v("Dangling document-mutation reference found: "+r+" which points to "+l);g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+l),a.push(n.serializer.fromDbMutationBatch(t))});s.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ot(Q),i=[];return e.forEach(function(e){var a=Re.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(a),u=Wt(t).iterate({range:s},function(t,i,a){var s=o.__read(t,3),u=s[0],c=s[2],l=_t(s[1]);u===n.userId&&e.path.isEqual(l)?r=r.add(c):a.done()});i.push(u)}),qt.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;g(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,a=Re.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(a),u=new Ot(Q);return Wt(t).iterate({range:s},function(t,e,a){var s=o.__read(t,3),c=s[0],l=s[2],h=_t(s[1]);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(l)):a.done()}).next(function(){return n.lookupMutationBatches(t,u)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Qt(t).get(e).next(function(t){if(null===t)throw v("Dangling document-mutation reference found, which points to "+e);g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),qt.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Kt(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),qt.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return qt.resolve();var r=IDBKeyRange.lowerBound(Re.prefixForUser(e.userId)),i=[];return Wt(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=_t(t[1]);i.push(o)}else r.done()}).next(function(){g(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return Ht(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Yt(t).get(this.userId).next(function(t){return t||new De(e.userId,-1,"")})},t}();function Ht(t,e,n){var r=Re.prefixForPath(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),s=!1;return Wt(t).iterate({range:a,keysOnly:!0},function(t,n,r){var a=o.__read(t,3);a[0]===e&&a[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Kt(t,e,n){var r,i,a=t.store(Pe.store),s=t.store(Re.store),u=[],c=IDBKeyRange.only(n.batchId),l=0,h=a.iterate({range:c},function(t,e,n){return l++,n.delete()});u.push(h.next(function(){g(1===l,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));var f=[];try{for(var p=o.__values(n.mutations),d=p.next();!d.done;d=p.next()){var y=d.value,m=Re.key(e,y.key.path,n.batchId);u.push(s.delete(m)),f.push(y.key)}}catch(v){r={error:v}}finally{try{d&&!d.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}return qt.waitFor(u).next(function(){return f})}function Gt(t){return t instanceof Uint8Array?(g("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function Qt(t){return fn.getStore(t,Pe.store)}function Wt(t){return fn.getStore(t,Re.store)}function Yt(t){return fn.getStore(t,De.store)}var Zt=1,Xt=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),Jt=function(){function t(t,e){this.generatorId=t,g((t&Zt)===t,"Generator ID "+t+" contains more than "+Zt+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Zt,t},t.prototype.after=function(t){return this.seek(t+(1<<Zt)),this.next()},t.prototype.seek=function(t){g((t&Zt)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Xt.QueryCache,2)},t.forSyncEngine=function(){return new t(Xt.SyncEngine)},t}(),$t="SimpleDb",te=function(){function t(e){this.db=e,12.2===t.getIOSVersion(s.getUA())&&y("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.openOrCreate=function(e,n,r){return g(t.isAvailable(),"IndexedDB not supported in current environment."),d($t,"Opening database:",e),new qt(function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){i(new t(e.target.result))},a.onblocked=function(){o(new E(w.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new E(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},a.onupgradeneeded=function(t){d($t,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new ne(a.transaction);r.createOrUpgrade(n,i,t.oldVersion,Ae).next(function(){d($t,"Database upgrade to version "+Ae+" complete")})}}).toPromise()},t.delete=function(t){return d($t,"Removing database:",t),ie(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var e=s.getUA(),n=t.getIOSVersion(e),r=0<n&&n<10,i=t.getAndroidVersion(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.getStore=function(t,e){return t.store(e)},t.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){var r=ne.open(this.db,t,e),i=n(r).catch(function(t){return r.abort(t),qt.reject(t)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),ee=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return ie(this.dbCursor.delete())},t}(),ne=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new ct,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=ae(t.target.error);e.completionDeferred.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(d($t,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return g(!!e,"Object store not part of transaction: "+t),new re(e)},t}(),re=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d($t,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(d($t,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ie(n)},t.prototype.add=function(t){return d($t,"ADD",this.store.name,t,t),ie(this.store.add(t))},t.prototype.get=function(t){var e=this;return ie(this.store.get(t)).next(function(n){return void 0===n&&(n=null),d($t,"GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return d($t,"DELETE",this.store.name,t),ie(this.store.delete(t))},t.prototype.count=function(){return d($t,"COUNT",this.store.name),ie(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){d($t,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new qt(function(n,r){e.onerror=function(t){var e=ae(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new qt(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ee(i),a=e(i.primaryKey,i.value,o);if(a instanceof qt){var s=a.catch(function(t){return o.done(),qt.reject(t)});n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return qt.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(g(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ie(t){return new qt(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ae(t.target.error);n(e)}})}var oe=!1;function ae(t){var e=te.getIOSVersion(s.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new E("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return oe||(oe=!0,setTimeout(function(){throw r},0)),r}}return t}var se=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Jt.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return Et.fromTimestamp(new wt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return le(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return ue(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return g(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return ue(t).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=e&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(t,u)))}).next(function(){return qt.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return ue(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return ce(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,fn.getStore(n,Be.store)).put(Be.key,e);var n},t.prototype.saveQueryData=function(t,e){return ue(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return ue(t).iterate({range:i,index:Fe.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=he(t);return e.forEach(function(e){var a=vt(e.path);i.push(o.put(new Ue(n,a))),i.push(r.referenceDelegate.addReference(t,e))}),qt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=he(t);return qt.forEach(e,function(e){var o=vt(e.path);return qt.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=he(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=he(t),i=Lt();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=_t(t[1]),o=new ut(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=vt(e.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return he(t).iterate({index:Ue.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){0!==o.__read(t,2)[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return ue(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function ue(t){return fn.getStore(t,Fe.store)}function ce(t){return te.getStore(t,Be.store).get(Be.key).next(function(t){return g(null!==t,"Missing metadata row."),t})}function le(t){return ce(t).next(function(t){return t.highestListenSequenceNumber})}function he(t){return fn.getStore(t,Ue.store)}var fe=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return ut.comparator(t.key,e.key)},t}(),pe=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.data=r,a.proto=o,a.hasLocalMutations=!!i.hasLocalMutations,a.hasCommittedMutations=!!i.hasCommittedMutations,a}return o.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.compareTo(i):v("Trying to compare documents on fields that don't exist")},e}(fe),de=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(fe),ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(fe),me=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e,n,r=this.mapKeyFn(t),i=this.inner[r];if(void 0!==i)try{for(var a=o.__values(i),s=a.next();!s.done;s=a.next()){var u=o.__read(s.value,2),c=u[1];if(u[0].isEqual(t))return c}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){O(this.inner,function(e,n){var r,i;try{for(var a=o.__values(n),s=a.next();!s.done;s=a.next()){var u=o.__read(s.value,2);t(u[0],u[1])}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}})},t.prototype.isEmpty=function(){return A(this.inner)},t}(),ve=function(){function t(){this.changes=kt(),this.documentSizes=new me(function(t){return t.toString()})}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,r=this.assertChanges().get(e);return r?qt.resolve(r):this.getFromCache(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},t.prototype.getEntries=function(t,e){var n=this;return this.getAllFromCache(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return g(null!==this.changes,"Changes have already been applied."),this.changes},t}(),ge="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",be=function(){function t(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=te.getStore(t,He.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var r,i,a=[];if(e.length>0){var s=Ee(t),u=Lt();try{for(var c=o.__values(e),l=c.next();!l.done;l=c.next()){var h=l.value,f=h.key,p=h.doc;a.push(s.put(Te(f),p)),u=u.add(f),a.push(this.indexManager.addToCollectionParentIndex(t,f.path.popLast()))}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}this.keepDocumentChangeLog&&a.push(Se(t).put({changes:this.serializer.toDbResourcePaths(u)})),a.push(this.updateSize(t,n))}return qt.waitFor(a)},t.prototype.removeEntry=function(t,e){var n=Ee(t),r=Te(e);return n.get(r).next(function(t){return t?n.delete(r).next(function(){return Ce(t)}):qt.resolve(0)})},t.prototype.getEntry=function(t,e){var n=this;return Ee(t).get(Te(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return Ee(t).get(Te(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:Ce(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Nt();return this.forEachDbEntry(t,e,function(t,e){r=r.insert(t,e?n.serializer.fromDbRemoteDocument(e):null)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=Nt(),i=new St(ut.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),i=i.insert(t,Ce(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return qt.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Ee(t).iterate({range:r},function(t,e,r){for(var a=ut.fromSegments(t);o&&ut.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Pt(),i=e.path.length+1,o=e.path.toArray(),a=IDBKeyRange.lowerBound(o);return Ee(t).iterate({range:a},function(t,o,a){if(t.length===i){var s=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(s.key.path)?s instanceof pe&&e.matches(s)&&(r=r.insert(s.key,s)):a.done()}}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;g(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Lt(),r=kt(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=Se(t);return a.iterate({range:i},function(t,r){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(a).next(function(){return qt.reject(new E(w.DATA_LOSS,ge))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(e.getEntry(t,n).next(function(t){var e=t||new de(n,Et.forDeletedDoc());r=r.insert(n,e)}))}),qt.waitFor(i)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return Se(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new we(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return _e(t).get(Ve.key).next(function(t){return g(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return _e(t).put(Ve.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t}();function _e(t){return fn.getStore(t,Ve.store)}var we=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return o.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentCache.serializer.toDbRemoteDocument(n),a=e.documentSizes.get(t);g(void 0!==a,"Attempting to change document "+t.toString()+" without having read it first");var s=Ce(o);r+=s-a,i.push({key:t,doc:o})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(ve);function Ee(t){return fn.getStore(t,Le.store)}function Se(t){return fn.getStore(t,He.store)}function Te(t){return t.path.toArray()}function Ce(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var Ie=function(){function t(){this.collectionParentIndex=new Oe}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),qt.resolve()},t.prototype.getCollectionParents=function(t,e){return qt.resolve(this.collectionParentIndex.getEntries(e))},t}(),Oe=function(){function t(){this.index={}}return t.prototype.add=function(t){g(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ot(ot.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.getEntries=function(t){return(this.index[t]||new Ot(ot.comparator)).toArray()},t}(),Ae=8,xe=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;g(n<r&&n>=0&&r<=Ae,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(Ne.store)}(t),function(t){t.createObjectStore(De.store,{keyPath:De.keyPath}),t.createObjectStore(Pe.store,{keyPath:Pe.keyPath,autoIncrement:!0}).createIndex(Pe.userMutationsIndex,Pe.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Re.store)}(t),ze(t),function(t){t.createObjectStore(Le.store)}(t));var o=qt.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ue.store),t.deleteObjectStore(Fe.store),t.deleteObjectStore(Be.store)}(t),ze(t)),o=o.next(function(){return function(t){var e=t.store(Be.store),n=new Be(0,0,Et.MIN.toTimestamp(),0);return e.put(Be.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Pe.store).loadAll().next(function(n){t.deleteObjectStore(Pe.store),t.createObjectStore(Pe.store,{keyPath:Pe.keyPath,autoIncrement:!0}).createIndex(Pe.userMutationsIndex,Pe.userMutationsKeyPath,{unique:!0});var r=e.store(Pe.store),i=n.map(function(t){return r.put(t)});return qt.waitFor(i)})}(t,e)})),o=o.next(function(){!function(t){t.createObjectStore(Ke.store,{keyPath:Ke.keyPath})}(t),function(t){t.createObjectStore(He.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Ve.store)}(t),i.addDocumentGlobal(e)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(e)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(t,e)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Le.store).iterate(function(t,n){e+=Ce(n)}).next(function(){var n=new Ve(e);return t.store(Ve.store).put(Ve.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(De.store),r=t.store(Pe.store);return n.loadAll().next(function(n){return qt.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(Pe.userMutationsIndex,i).next(function(r){return qt.forEach(r,function(r){g(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return Kt(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Ue.store),n=t.store(Le.store);return le(t).next(function(t){var r=[];return n.iterate(function(n,i){var o=new ot(n),a=function(t){return[0,vt(t)]}(o);r.push(e.get(a).next(function(n){return n?qt.resolve():function(n){return e.put(new Ue(0,vt(n),t))}(o)}))}).next(function(){return qt.waitFor(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(qe.store,{keyPath:qe.keyPath});var n=e.store(qe.store),r=new Oe,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:vt(i)})}};return e.store(Le.store).iterate({keysOnly:!0},function(t,e){var n=new ot(t);return i(n.popLast())}).next(function(){return e.store(Re.store).iterate({keysOnly:!0},function(t,e){var n=_t(o.__read(t,3)[1]);return i(n.popLast())})})},t}(),ke=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),Ne=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),De=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Pe=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),Re=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,vt(e)]},t.key=function(t,e,n){return[t,vt(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Me=function(){return function(t,e){this.path=t,this.readTime=e}}(),je=function(){return function(t,e){this.path=t,this.version=e}}(),Le=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),Ve=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),Fe=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Ue=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,g(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),Be=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),qe=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function ze(t){t.createObjectStore(Ue.store,{keyPath:Ue.keyPath}).createIndex(Ue.documentTargetsIndex,Ue.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Fe.store,{keyPath:Fe.keyPath}).createIndex(Fe.queryTargetsIndexName,Fe.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Be.store)}var He=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}(),Ke=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}(),Ge=o.__spread([De.store,Pe.store,Re.store,Le.store,Fe.store,Ne.store,Be.store,Ue.store],[Ke.store,He.store]),Qe=o.__spread(Ge,[Ve.store]),We=o.__spread(Qe,[qe.store]),Ye=function(){function t(){this.collectionParentsCache=new Oe}return t.prototype.addToCollectionParentIndex=function(t,e){if(g(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(e)){g(e.length>=1,"Invalid collection path.");var n=e.lastSegment(),r=e.popLast();return Ze(t).put({collectionId:n,parent:vt(r)})}return qt.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Y(e),""],!1,!0);return Ze(t).loadAll(r).next(function(t){var r,i;try{for(var a=o.__values(t),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.collectionId!==e)break;n.push(_t(u.parent))}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return n})},t}();function Ze(t){return fn.getStore(t,qe.store)}var Xe=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),Je=function(){function t(t,e,n,r,i,o){void 0===i&&(i=Et.MIN),void 0===o&&(o=_()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),$e=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ut.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new de(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=ut.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new ye(e,n)):v("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof pe){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new Le(null,null,e,i=t.hasCommittedMutations)}if(t instanceof de){var n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),i=t.hasCommittedMutations;return new Le(null,new Me(n,r),null,i)}return t instanceof ye?(n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),new Le(new je(n,r),null,null,!0)):v("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new ke(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new wt(t.seconds,t.nanoseconds);return Et.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),i=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new Pe(t,e.batchId,e.localWriteTime.toMillis(),r,i)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),i=wt.fromMillis(t.localWriteTimeMs);return new Ut(t.batchId,i,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(vt(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){var e,n,r=Lt();try{for(var i=o.__values(t),a=i.next();!a.done;a=i.next())r=r.add(new ut(_t(a.value)))}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Je(e,t.targetId,Xe.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){g(Xe.Listen===t.purpose,"Only queries with purpose "+Xe.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(g("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new Fe(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function tn(t,e){var n=o.__read(t,2),r=n[0],i=n[1],a=o.__read(e,2),s=a[1],u=Q(r,a[0]);return 0===u?Q(i,s):u}var en=function(){function t(t){this.maxElements=t,this.buffer=new Ot(tn),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();tn(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),nn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rn=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),on=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.gcTask=null}return t.prototype.start=function(){g(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==rn.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;g(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(lt.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(pn)})},t}(),an=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return qt.resolve(rt.INVALID);var r=new en(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===rn.COLLECTION_DISABLED?(d("LruGarbageCollector","Garbage collection skipped; disabled"),qt.resolve(nn)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),nn):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),f()<=h.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),qt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),sn="IndexedDbPersistence",un="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",cn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",ln="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",hn=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return o.__extends(e,t),e}(function(){return function(){}}()),fn=function(){function t(e,n,r,i,o,a,s){if(this.persistenceKey=e,this.clientId=n,this.queue=i,this.multiClientParams=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new E(w.UNIMPLEMENTED,ln);if(this.referenceDelegate=new mn(this,a),this.dbName=e+t.MAIN_DATABASE,this.serializer=new $e(o),this.document=r.document,this.allowTabSynchronization=void 0!==s,this.queryCache=new se(this.referenceDelegate,this.serializer),this.indexManager=new Ye,this.remoteDocumentCache=new be(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new E(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof hn)return te.getStore(t.simpleDbTransaction,e);throw v("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,i,a,s){return o.__awaiter(this,void 0,void 0,function(){var u;return o.__generator(this,function(o){switch(o.label){case 0:return[4,(u=new t(e,n,r,i,a,s)).start()];case 1:return o.sent(),[2,u]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,r,i,a,s,u){return o.__awaiter(this,void 0,void 0,function(){var c;return o.__generator(this,function(o){switch(o.label){case 0:return[4,(c=new t(e,n,r,i,a,s,u)).start()];case 1:return o.sent(),[2,c]}})})},t.prototype.start=function(){var t=this;return g(!this.started,"IndexedDbPersistence double-started!"),g(null!==this.window,"Expected 'window' to be defined"),te.openOrCreate(this.dbName,Ae,new xe(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction("readonly",[Be.store],function(e){return le(e).next(function(e){t.listenSequence=new rt(e,t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",We,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener(function(n){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",We,function(e){return yn(e).put(new Ke(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return dn(t).get(Ne.key).next(function(t){return qt.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return yn(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return o.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return o.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var a=t.getStore(i,Ke.store);return a.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return qt.forEach(n,function(t){return a.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,o.__spread(t));return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(lt.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return dn(t).get(Ne.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new E(w.FAILED_PRECONDITION,cn);return!1}}return!(!e.networkEnabled||!e.inForeground)||yn(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&d(sn,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,function(){var t=this;return o.__generator(this,function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[Ne.store,Ke.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[Ke.store],function(e){return yn(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},t.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return t.isAvailable()?[4,te.delete(e+t.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return g(this.started,"Cannot initialize MutationQueue before persistence is started."),zt.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return g(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return g(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return g(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;return d(sn,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",We,function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next(function(e){if(!e)throw y("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new E(w.FAILED_PRECONDITION,un);return n(new hn(i,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new hn(i,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return dn(t).get(Ne.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new E(w.FAILED_PRECONDITION,cn)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new Ne(this.clientId,this.allowTabSynchronization,Date.now());return dn(t).put(Ne.key,e)},t.isAvailable=function(){return te.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=dn(t);return n.get(Ne.key).next(function(t){return e.isLocalClient(t)?(d(sn,"Releasing primary lease."),n.delete(Ne.key)):qt.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(y("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(g(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(g("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return d(sn,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return y(sn,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){y("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function pn(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){if(!function(t){return t.code===w.FAILED_PRECONDITION&&t.message===un}(t))throw t;return d(sn,"Unexpectedly lost primary lease"),[2]})})}function dn(t){return t.store(Ne.store)}function yn(t){return t.store(Ke.store)}var mn=function(){function t(t,e){this.db=t,this.garbageCollector=new an(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return vn(t,e)},t.prototype.removeReference=function(t,e){return vn(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return vn(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?qt.resolve(!0):function(t,e){var n=!1;return Yt(t).iterateSerial(function(r){return Ht(t,r,e).next(function(t){return t&&(n=!0),qt.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=0,o=[];return this.forEachOrphanedDocument(t,function(a,s){if(s<=e){var u=n.isPinned(t,a).next(function(e){if(!e)return r++,n.removeOrphanedDocument(t,a).next(function(t){i+=t})});o.push(u)}}).next(function(){return qt.waitFor(o)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(t,-i)}).next(function(){return r})},t.prototype.removeOrphanedDocument=function(t,e){var n,r=0,i=this.db.getRemoteDocumentCache();return qt.waitFor([he(t).delete((n=e,[0,vt(n.path)])),i.removeEntry(t,e).next(function(t){r+=t})]).next(function(){return r})},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return vn(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=he(t),i=rt.INVALID;return r.iterate({index:Ue.documentTargetsIndex},function(t,r){var a=o.__read(t,2),s=r.path,u=r.sequenceNumber;0===a[0]?(i!==rt.INVALID&&e(new ut(_t(n)),i),i=u,n=s):i=rt.INVALID}).next(function(){i!==rt.INVALID&&e(new ut(_t(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function vn(t,e){return he(t).put(function(t,e){return new Ue(0,vt(t.path),e)}(e,t.currentSequenceNumber))}var gn=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),bn=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),_n=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(bn.Estimate,n);case"previous":return new t(bn.Previous,n);case"none":case void 0:return new t(bn.Default,n);default:return v("fromSnapshotOptions() called with invalid options.")}},t}(),wn=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return g(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),Q(this.typeOrder,t.typeOrder)},t}(),En=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=gn.NullValue,e.internalValue=null,e}return o.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(wn),Sn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.BooleanValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Q(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(wn),Tn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.NumberValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(wn);function Cn(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var In=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Cn(this.internalValue,t.internalValue)},e}(Tn),On=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Cn(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Tn),An=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.StringValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Q(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(wn),xn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.TimestampValue,n}return o.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof kn?-1:this.defaultCompareTo(t)},e}(wn),kn=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=gn.TimestampValue,r}return o.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===bn.Estimate?new xn(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===bn.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof xn?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(wn),Nn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.BlobValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(wn),Dn=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=gn.RefValue,r}return o.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ut.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(wn),Pn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.GeoPointValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(wn),Rn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.ObjectValue,n}return o.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=Q(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return Q(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(g(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(g(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){g(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e?n.internalValue.get(t):null}),n},e.prototype.fieldMask=function(){var t=new Ot(st.comparator);return this.internalValue.forEach(function(n,r){var i=new st([n]);if(r instanceof e){var o=r.fieldMask().fields;o.isEmpty()?t=t.add(i):o.forEach(function(e){t=t.add(i.child(e))})}else t=t.add(i)}),jn.fromSet(t)},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new St(Q)),e}(wn),Mn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gn.ArrayValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.contains=function(t){var e,n;try{for(var r=o.__values(this.internalValue),i=r.next();!i.done;i=r.next())if(i.value.isEqual(t))return!0}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!1},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return Q(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},e}(wn),jn=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new Ot(st.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),Ln=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Vn=function(){return function(t,e){this.version=t,this.transformResults=e}}(),Fn=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),Un=function(){function t(t,e){this.updateTime=t,this.exists=e,g(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof pe&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof pe:(g(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),Bn=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&g(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof pe?t.version:Et.MIN},t}(),qn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=Fn.Set,i}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by SetMutation."),new pe(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Bn.getPostMutationVersion(t);return new pe(this.key,r,this.value,{hasLocalMutations:!0})},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(Bn),zn=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=Fn.Patch,o}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new ye(this.key,e.version);var n=this.patchDocument(t);return new pe(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Bn.getPostMutationVersion(t),i=this.patchDocument(t);return new pe(this.key,r,i,{hasLocalMutations:!0})},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof pe?t.data:Rn.EMPTY)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=null!==r?t.set(n,r):t.delete(n)}}),t},e}(Bn),Hn=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=Fn.Transform,r.precondition=Un.exists(!0),r}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new ye(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data,r);return new pe(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,t,e),o=this.transformObject(r.data,i);return new pe(this.key,r.version,o,{hasLocalMutations:!0})},e.prototype.extractBaseValue=function(t){var e,n,r=null;try{for(var i=o.__values(this.fieldTransforms),a=i.next();!a.done;a=i.next()){var s=a.value,u=t instanceof pe?t.field(s.field):void 0,c=s.transform.computeBaseValue(u||null);null!=c&&(r=null==r?Rn.EMPTY.set(s.field,c):r.set(s.field,c))}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&W(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){g(t instanceof pe,"Unknown MaybeDocument type "+t);var e=t;return g(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];g(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof pe&&(a=t.field(i.field)),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e,n){var r,i,a=[];try{for(var s=o.__values(this.fieldTransforms),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.transform,h=null;e instanceof pe&&(h=e.field(c.field)),null===h&&n instanceof pe&&(h=n.field(c.field)),a.push(l.applyToLocalView(h,t))}}catch(f){r={error:f}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a},e.prototype.transformObject=function(t,e){g(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(Bn),Kn=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=Fn.Delete,r}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by DeleteMutation."),new de(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&g(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new de(this.key,Et.forDeletedDoc())):t},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(Bn),Gn=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){var r,i;try{for(var a=o.__values(n),s=a.next();!s.done;s=a.next())t=s.value.applyToLocalView(e,t)}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Nt();return e.forEach(function(t,e){var i,a;try{for(var s=o.__values(n),u=s.next();!u.done;u=s.next())e=u.value.applyToLocalView(t,e)}catch(c){i={error:c}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=kt();return i.forEach(function(t,e){e||(e=new de(t,Et.forDeletedDoc())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ut(e)).next(function(t){var e=Pt();return t instanceof pe&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;g(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,i=Pt();return this.indexManager.getCollectionParents(t,r).next(function(o){return qt.forEach(o,function(o){var a=e.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(t,a).next(function(t){t.forEach(function(t,e){i=i.insert(t,e)})})}).next(function(){return i})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){var r,i,a,s;try{for(var u=o.__values(t),c=u.next();!c.done;c=u.next()){var l=c.value;try{for(var h=o.__values(l.mutations),f=h.next();!f.done;f=h.next()){var p=f.value,d=p.key;if(e.path.isImmediateParentOf(d.path)){var y=n.get(d),m=p.applyToLocalView(y,y,l.localWriteTime);n=m instanceof pe?n.insert(d,m):n.remove(d)}}}catch(v){a={error:v}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}}}catch(g){r={error:g}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),Qn=function(){function t(){this.refsByKey=new Ot(Wn.compareByKey),this.refsByTarget=new Ot(Wn.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Wn(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Wn(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=ut.EMPTY,r=new Wn(n,t),i=new Wn(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=ut.EMPTY,n=new Wn(e,t),r=new Wn(e,t+1),i=Lt();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Wn(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Wn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ut.comparator(t.key,e.key)||Q(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return Q(t.targetOrBatchId,e.targetOrBatchId)||ut.comparator(t.key,e.key)},t}(),Yn=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Qn,this.queryDataByTarget={},g(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new Gn(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new Gn(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){var i,a,s,u,c,l,h,f,p=[],d=[],y=Lt();try{for(var m=o.__values(r),v=m.next();!v.done;v=m.next()){p.push((E=v.value).batchId);try{for(var g=o.__values(E.mutations),b=g.next();!b.done;b=g.next())y=y.add(b.value.key)}catch(C){s={error:C}}finally{try{b&&!b.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}}}catch(I){i={error:I}}finally{try{v&&!v.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}try{for(var _=o.__values(t),w=_.next();!w.done;w=_.next()){var E;d.push((E=w.value).batchId);try{for(var S=o.__values(E.mutations),T=S.next();!T.done;T=S.next())y=y.add(T.value.key)}catch(O){h={error:O}}finally{try{T&&!T.done&&(f=S.return)&&f.call(S)}finally{if(h)throw h.error}}}}catch(A){c={error:A}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(c)throw c.error}}return e.localDocuments.getDocuments(n,y).next(function(t){return{affectedDocuments:t,removedBatchIds:p,addedBatchIds:d}})})})},t.prototype.localWrite=function(t){var e=this,n=wt.now(),r=t.reduce(function(t,e){return t.add(e.key)},Lt());return this.persistence.runTransaction("Locally write mutations","readwrite",function(i){return e.localDocuments.getDocuments(i,r).next(function(r){var a,s,u=[];try{for(var c=o.__values(t),l=c.next();!l.done;l=c.next()){var h=l.value,f=h.extractBaseValue(r.get(h.key));null!=f&&u.push(new zn(h.key,f,f.fieldMask(),Un.exists(!0)))}}catch(p){a={error:p}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}return e.mutationQueue.addMutationBatch(i,n,u,t).next(function(t){var e=t.applyToLocalDocumentSet(r);return{batchId:t.batchId,changes:e}})})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):qt.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return g(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var o=[],a=Lt();I(e.targetChanges,function(r,s){var u=n.queryDataByTarget[r];if(u){s.addedDocuments.forEach(function(t){a=a.add(t)}),s.modifiedDocuments.forEach(function(t){a=a.add(t)}),o.push(n.queryCache.removeMatchingKeys(i,s.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,s.addedDocuments,r)}));var c=s.resumeToken;if(c.length>0){var l=u;u=u.copy({resumeToken:c,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=u,t.shouldPersistQueryData(l,u,s)&&o.push(n.queryCache.updateQueryData(i,u))}}});var s=kt(),u=Lt();e.documentUpdates.forEach(function(t,e){u=u.add(t)}),o.push(r.getEntries(i,u).next(function(t){e.documentUpdates.forEach(function(u,c){var l=t.get(u);null==l||c.version.isEqual(Et.MIN)||a.has(c.key)&&!l.hasPendingWrites||c.version.compareTo(l.version)>=0?(r.addEntry(c),s=s.insert(u,c)):d("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))})}));var c=e.snapshotVersion;if(!c.isEqual(Et.MIN)){var l=n.queryCache.getLastRemoteSnapshotVersion(i).next(function(t){return g(c.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+c+" < "+t),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,c)});o.push(l)}return qt.waitFor(o).next(function(){return r.apply(i)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(i,s)})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return qt.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),qt.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?(r=i,qt.resolve()):e.queryCache.allocateTargetId(n).next(function(i){return r=new Je(t,i,Xe.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return g(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this;return this.persistence.runTransaction("Release query",e?"readwrite":"readwrite-primary",function(r){return n.queryCache.getQueryData(r,t).next(function(i){g(null!=i,"Tried to release nonexistent query: "+t);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?qt.resolve():qt.forEach(s,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=qt.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(t,r)}).next(function(t){var o=t,a=e.docVersions.get(r);g(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o):g(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Zn=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=_(),this.batchesByDocumentKey=new Ot(Wn.compareByKey)}return t.prototype.checkEmpty=function(t){return qt.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");g(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return g(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,qt.resolve()},t.prototype.getLastStreamToken=function(t){return qt.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,qt.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){var i,a;g(0!==r.length,"Mutation batches should not be empty");var s=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&g(this.mutationQueue[this.mutationQueue.length-1].batchId<s,"Mutation batchIDs must be monotonically increasing order");var u=new Ut(s,e,n,r);this.mutationQueue.push(u);try{for(var c=o.__values(r),l=c.next();!l.done;l=c.next()){var h=l.value;this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Wn(h.key,s)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast())}}catch(f){i={error:f}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return qt.resolve(u)},t.prototype.lookupMutationBatch=function(t,e){return qt.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return g(null!=n,"Failed to find local mutation batch."),qt.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),r=n<0?0:n;return qt.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},t.prototype.getAllMutationBatches=function(t){return qt.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Wn(e,0),i=new Wn(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){g(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);g(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),qt.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ot(Q);return e.forEach(function(t){var e=new Wn(t,0),i=new Wn(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){g(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),qt.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;ut.isDocumentKey(i)||(i=i.child(""));var o=new Wn(new ut(i),0),a=new Ot(Q);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},o),qt.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;g(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return qt.forEach(e.mutations,function(i){var o=new Wn(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(t,i.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Wn(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return qt.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&g(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),qt.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return g(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return g(n.batchId===t,"If found batch must match"),n},t}(),Xn=function(){function t(t){this.persistence=t,this.queries=new me(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Et.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Qn,this.targetCount=0,this.targetIdGenerator=Jt.forQueryCache()}return t.prototype.getTargetCount=function(t){return qt.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),qt.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return qt.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return qt.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,qt.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),qt.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return g(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,qt.resolve()},t.prototype.updateQueryData=function(t,e){return g(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),qt.resolve()},t.prototype.removeQueryData=function(t,e){return g(this.targetCount>0,"Removing a target from an empty cache"),g(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,qt.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=e&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),qt.waitFor(o).next(function(){return i})},t.prototype.getQueryCount=function(t){return qt.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return qt.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return v("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),qt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),qt.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),qt.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return qt.resolve(n)},t.prototype.containsKey=function(t,e){return qt.resolve(this.references.containsKey(e))},t}(),Jn=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new St(ut.comparator),this.newDocumentChanges=Lt(),this.size=0}return t.prototype.addEntries=function(t,e,n){var r,i,a=[];try{for(var s=o.__values(e),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.maybeDocument.key;this.docs=this.docs.insert(l,c),this.newDocumentChanges=this.newDocumentChanges.add(l),a.push(this.indexManager.addToCollectionParentIndex(t,l.path.popLast()))}}catch(h){r={error:h}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return this.size+=n,qt.waitFor(a)},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,qt.resolve(n.size)):qt.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return qt.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return qt.resolve(this.docs.get(e))},t.prototype.getEntries=function(t,e){var n=this,r=Nt();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),qt.resolve(r)},t.prototype.getSizedEntries=function(t,e){var n=this,r=Nt(),i=new St(ut.comparator);return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null),i=i.insert(t,e?e.size:0)}),qt.resolve({maybeDocuments:r,sizeMap:i})},t.prototype.getDocumentsMatchingQuery=function(t,e){g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Pt(),r=new ut(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.value.maybeDocument;if(!e.path.isPrefixOf(o.key.path))break;a instanceof pe&&e.matches(a)&&(n=n.insert(a.key,a))}return qt.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return qt.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=kt();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new de(t,Et.forDeletedDoc());n=n.insert(t,i)}),this.newDocumentChanges=Lt(),qt.resolve(n)},t.prototype.newChangeBuffer=function(){return new $n(this.sizer,this)},t.prototype.getSize=function(t){return qt.resolve(this.size)},t}(),$n=function(t){function e(e,n){var r=t.call(this)||this;return r.sizer=e,r.documentCache=n,r}return o.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentSizes.get(t);g(void 0!==o,"Attempting to change document "+t.toString()+" without having read it first");var a=e.sizer(n);r+=a-o,i.push({maybeDocument:n,size:a})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(ve),tr=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new rt(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Xn(this),this.indexManager=new Ie,this.remoteDocumentCache=new Jn(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(t){return new rr(t,new $e(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new nr(t)})},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Zn(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;d("MemoryPersistence","Starting transaction:",t);var i=new er(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return qt.or((n=this.mutationQueues,r=[],O(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),er=function(){return function(t){this.currentSequenceNumber=t}}(),nr=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),qt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),qt.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),qt.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return qt.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(e){return e?qt.resolve():n.removeEntry(t,r).next(function(){})})})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return qt.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return qt.resolve(n.inMemoryPins.containsKey(e))}])},t}(),rr=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new me(function(t){return vt(t.path)}),this.garbageCollector=new an(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return qt.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return qt.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?qt.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(t,function(o){return n.isPinned(t,o,e).next(function(e){return e?qt.resolve():(r++,i.removeEntry(t,o).next())})}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),qt.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),qt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),qt.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),qt.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw v("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return qt.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return qt.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return qt.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),ir=Number,or=ir.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),ar=ir.MAX_SAFE_INTEGER||Math.pow(2,53)-1,sr=ir.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function ur(t){return null==t}function cr(t){return sr(t)&&t<=ar&&t>=or}var lr=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),hr=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),fr=1e3,pr=6e4,dr=1.5,yr=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=hr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new lr(t,e,fr,dr,pr)}return t.prototype.isStarted=function(){return this.state===hr.Starting||this.state===hr.Open||this.state===hr.Backoff},t.prototype.isOpen=function(){return this.state===hr.Open},t.prototype.start=function(){this.state!==hr.Error?(g(this.state===hr.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(hr.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){g(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=hr.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.isOpen()?[2,this.close(hr.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return g(this.isStarted(),"Only started streams should be closed."),g(t===hr.Error||ur(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==hr.Error?this.backoff.reset():e&&e.code===w.RESOURCE_EXHAUSTED?(y(e.toString()),y("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===w.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;g(this.state===hr.Initial,"Must be in initial state to auth"),this.state=hr.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new E(w.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;g(this.state===hr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return g(e.state===hr.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=hr.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;g(this.state===hr.Error,"Should only perform backoff when in Error state"),this.state=hr.Backoff,this.backoff.backoffAndRun(function(){return o.__awaiter(t,void 0,void 0,function(){return o.__generator(this,function(t){return g(this.state===hr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=hr.Initial,this.start(),g(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return g(this.isStarted(),"Can't handle server close on non-started stream"),d("PersistentStream","close with error: "+t),this.stream=null,this.close(hr.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),mr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,lt.ListenStreamConnectionBackoff,lt.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return o.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(yr),vr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,lt.WriteStreamConnectionBackoff,lt.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a}return o.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(g(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return g(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){g(this.isOpen(),"Writing handshake requires an opened stream"),g(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;g(this.isOpen(),"Writing mutations requires an opened stream"),g(this.handshakeComplete_,"Handshake must be complete before writing mutations"),g(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(yr),gr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new vr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new mr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=kt();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);g(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),br=function(){function t(t){this.datastore=t,this.readVersions=Mt(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof pe)e=t.version;else{if(!(t instanceof de))throw v("Document in a transaction was a "+t.constructor.name);e=Et.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new E(w.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new E(w.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof de||t instanceof pe?e.recordVersion(t):v("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?Un.updateTime(e):Un.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(Et.forDeletedDoc()))throw new E(w.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return e?Un.updateTime(e):Un.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){try{this.write(e.toMutations(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}},t.prototype.delete=function(t){this.write([new Kn(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Et.forDeletedDoc())},t.prototype.commit=function(){var t=this;if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;var e=this.readVersions;if(this.mutations.forEach(function(t){e=e.remove(t.key)}),!e.isEmpty())throw new E(w.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return this.datastore.commit(this.mutations).then(function(){t.committed=!0})},t.prototype.ensureCommitNotCalled=function(){g(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},t}(),_r=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),wr=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),Er=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=_r.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(_r.Unknown),g(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(lt.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,g(t.state===_r.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(_r.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===_r.Online?(this.setAndBroadcast(_r.Unknown),g(0===this.watchStreamFailures,"watchStreamFailures must be 0"),g(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(_r.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===_r.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(y(e),this.shouldWarnClientIsOffline=!1):d("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),Sr=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function Tr(t){switch(t){case w.OK:return v("Treated status OK as error");case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return v("Unknown status code: "+t)}}function Cr(t){if(void 0===t)return y("GRPC error has no .code"),w.UNKNOWN;switch(t){case Sr.OK:return w.OK;case Sr.CANCELLED:return w.CANCELLED;case Sr.UNKNOWN:return w.UNKNOWN;case Sr.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Sr.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Sr.INTERNAL:return w.INTERNAL;case Sr.UNAVAILABLE:return w.UNAVAILABLE;case Sr.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Sr.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Sr.NOT_FOUND:return w.NOT_FOUND;case Sr.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Sr.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Sr.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Sr.ABORTED:return w.ABORTED;case Sr.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Sr.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Sr.DATA_LOSS:return w.DATA_LOSS;default:return v("Unknown status code: "+t)}}function Ir(t){if(void 0===t)return Sr.OK;switch(t){case w.OK:return Sr.OK;case w.CANCELLED:return Sr.CANCELLED;case w.UNKNOWN:return Sr.UNKNOWN;case w.DEADLINE_EXCEEDED:return Sr.DEADLINE_EXCEEDED;case w.RESOURCE_EXHAUSTED:return Sr.RESOURCE_EXHAUSTED;case w.INTERNAL:return Sr.INTERNAL;case w.UNAVAILABLE:return Sr.UNAVAILABLE;case w.UNAUTHENTICATED:return Sr.UNAUTHENTICATED;case w.INVALID_ARGUMENT:return Sr.INVALID_ARGUMENT;case w.NOT_FOUND:return Sr.NOT_FOUND;case w.ALREADY_EXISTS:return Sr.ALREADY_EXISTS;case w.PERMISSION_DENIED:return Sr.PERMISSION_DENIED;case w.FAILED_PRECONDITION:return Sr.FAILED_PRECONDITION;case w.ABORTED:return Sr.ABORTED;case w.OUT_OF_RANGE:return Sr.OUT_OF_RANGE;case w.UNIMPLEMENTED:return Sr.UNIMPLEMENTED;case w.DATA_LOSS:return Sr.DATA_LOSS;default:return v("Unknown status code: "+t)}}var Or=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ut.comparator(e.key,n.key)}:function(t,e){return ut.comparator(t.key,e.key)},this.keyedMap=Pt(),this.sortedSet=new St(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Ar=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),xr=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),kr=function(){function t(){this.changeMap=new St(ut.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Ar.Added&&n.type===Ar.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Ar.Metadata&&n.type!==Ar.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Ar.Modified&&n.type===Ar.Modified?this.changeMap=this.changeMap.insert(e,{type:Ar.Modified,doc:t.doc}):t.type===Ar.Modified&&n.type===Ar.Added?this.changeMap=this.changeMap.insert(e,{type:Ar.Added,doc:t.doc}):t.type===Ar.Removed&&n.type===Ar.Added?this.changeMap=this.changeMap.remove(e):t.type===Ar.Removed&&n.type===Ar.Modified?this.changeMap=this.changeMap.insert(e,{type:Ar.Removed,doc:n.doc}):t.type===Ar.Added&&n.type===Ar.Removed?this.changeMap=this.changeMap.insert(e,{type:Ar.Modified,doc:t.doc}):v("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Nr=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:Ar.Added,doc:t})}),new t(e,n,Or.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Dr=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=Pr.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(Et.MIN,i,Ft(),kt(),Lt())},t}(),Pr=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(_(),n,Lt(),Lt(),Lt())},t}(),Rr=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),Mr=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),jr=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Lr=function(){return function(t,e,n,r){void 0===n&&(n=_()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Vr=function(){function t(){this.pendingResponses=0,this.documentChanges=Br(),this._resumeToken=_(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Lt(),e=Lt(),n=Lt();return this.documentChanges.forEach(function(r,i){switch(i){case Ar.Added:t=t.add(r);break;case Ar.Modified:e=e.add(r);break;case Ar.Removed:n=n.add(r);break;default:v("Encountered invalid change type: "+i)}}),new Pr(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Br()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Fr=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=kt(),this.pendingDocumentTargetMapping=Ur(),this.pendingTargetResets=new Ot(Q)}return t.prototype.handleDocumentChange=function(t){var e,n,r,i;try{for(var a=o.__values(t.updatedTargetIds),s=a.next();!s.done;s=a.next()){var u=s.value;t.newDoc instanceof pe?this.addDocumentToTarget(u,t.newDoc):t.newDoc instanceof de&&this.removeDocumentFromTarget(u,t.key,t.newDoc)}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}try{for(var c=o.__values(t.removedTargetIds),l=c.next();!l.done;l=c.next())this.removeDocumentFromTarget(u=l.value,t.key,t.newDoc)}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case jr.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case jr.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case jr.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),g(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case jr.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case jr.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:v("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):I(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new ut(i.path);this.removeDocumentFromTarget(e,o,new de(o,Et.forDeletedDoc()))}else g(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};I(this.targetStates,function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new ut(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new de(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Lt();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Xe.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Dr(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=kt(),this.pendingDocumentTargetMapping=Ur(),this.pendingTargetResets=new Ot(Q),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Ar.Modified:Ar.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Ar.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Vr),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new Ot(Q),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;g(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Vr,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Ur(){return new St(ut.comparator)}function Br(){return new St(ut.comparator)}var qr="RemoteStore",zr=function(){function t(t,e,n,r,i){var a=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback(function(t){n.enqueueAndForget(function(){return o.__awaiter(a,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(d(qr,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new Er(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(_r.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(_r.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(d(qr,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return d(qr,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(_r.Unknown),[2]}})})},t.prototype.listen=function(t){g(!T(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){g(T(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),A(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(_r.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){g(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Fr(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!A(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return o.__awaiter(this,void 0,void 0,function(){var t=this;return o.__generator(this,function(e){return I(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return void 0===t&&g(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(_r.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(_r.Online),t instanceof Lr&&t.state===jr.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Rr?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Mr?this.watchChangeAggregator.handleExistenceFilter(t):(g(t instanceof Lr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(Et.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;g(!t.isEqual(Et.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return I(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:_()}),e.sendUnwatchRequest(t);var r=new Je(n.query,t,Xe.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;g(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){return T(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){g(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){g(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){var e,n;try{for(var r=o.__values(t.writePipeline),i=r.next();!i.done;i=r.next())t.writeStream.writeMutations(i.value.mutations)}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}).catch(pn)},t.prototype.onMutationResult=function(t,e){var n=this;g(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Bt.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return o.__awaiter(this,void 0,void 0,function(){var e=this;return o.__generator(this,function(n){return void 0===t&&g(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},t.prototype.handleHandshakeError=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return Tr(t.code)?(d(qr,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=_(),[2,this.localStore.setLastStreamToken(_()).catch(pn)]):[2]})})},t.prototype.handleWriteError=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n=this;return o.__generator(this,function(r){return Tr(i=t.code)&&i!==w.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var i})})},t.prototype.createTransaction=function(){return new br(this.datastore)},t.prototype.restartNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(_r.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}})})},t.prototype.handleCredentialChange=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(d(qr,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.applyPrimaryState=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(_r.Unknown),e.label=4;case 4:return[2]}})})},t}(),Hr=function(){function t(t,e){if(k("GeoPoint",arguments,2),P("GeoPoint","number",1,t),P("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new E(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new E(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return Q(this._lat,t._lat)||Q(this._long,t._long)},t}(),Kr=function(){function t(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){var t,e;if(null===this.memoizedOrderBy){var n=this.getInequalityFilterField(),r=this.getFirstOrderByField();if(null!==n&&null===r)this.memoizedOrderBy=n.isKeyField()?[ri]:[new ni(n),ri];else{g(null===n||null!==r&&n.isEqual(r),"First orderBy should match inequality field."),this.memoizedOrderBy=[];var i=!1;try{for(var a=o.__values(this.explicitOrderBy),s=a.next();!s.done;s=a.next()){var u=s.value;this.memoizedOrderBy.push(u),u.field.isKeyField()&&(i=!0)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}i||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:ti.ASCENDING)===ti.ASCENDING?ri:ii)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){g(null==this.getInequalityFilterField()||!(e instanceof Wr)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),g(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){g(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.canonicalId=function(){var t,e,n,r;if(null===this.memoizedCanonicalId){var i=this.path.canonicalString();this.isCollectionGroupQuery()&&(i+="|cg:"+this.collectionGroup),i+="|f:";try{for(var a=o.__values(this.filters),s=a.next();!s.done;s=a.next())i+=s.value.canonicalId(),i+=","}catch(l){t={error:l}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}i+="|ob:";try{for(var u=o.__values(this.orderBy),c=u.next();!c.done;c=u.next())i+=c.value.canonicalId(),i+=","}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}ur(this.limit)||(i+="|l:",i+=this.limit),this.startAt&&(i+="|lb:",i+=this.startAt.canonicalId()),this.endAt&&(i+="|ub:",i+=this.endAt.canonicalId()),this.memoizedCanonicalId=i}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),ur(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){var n,r,i=!1;try{for(var a=o.__values(this.orderBy),s=a.next();!s.done;s=a.next()){var u=s.value,c=u.compare(t,e);if(0!==c)return c;i=i||u.field.isKeyField()}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return g(i,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!ur(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){var t,e;try{for(var n=o.__values(this.filters),r=n.next();!r.done;r=n.next()){var i=r.value;if(i instanceof Wr&&i.isInequality())return i.field}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t.prototype.findFilterOperator=function(t){var e,n;try{for(var r=o.__values(this.filters),i=r.next();!i.done;i=r.next()){var a=i.value;if(a instanceof Wr&&t.indexOf(a.op)>=0)return a.op}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype.isDocumentQuery=function(){return ut.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):ut.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){var e,n;try{for(var r=o.__values(this.explicitOrderBy),i=r.next();!i.done;i=r.next()){var a=i.value;if(!a.field.isKeyField()&&null===t.field(a.field))return!1}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!0},t.prototype.matchesFilters=function(t){var e,n;try{for(var r=o.__values(this.filters),i=r.next();!i.done;i=r.next())if(!i.value.matches(t))return!1}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){g(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Gr=function(){return function(){}}(),Qr=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return v("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),Wr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return o.__extends(e,t),e.create=function(t,n,r){if(t.isKeyField())return n===Qr.IN?(g(r instanceof Mn,"Comparing on key with IN, but filter value not an ArrayValue"),g(r.internalValue.every(function(t){return t instanceof Dn}),"Comparing on key with IN, but an array value was not a RefValue"),new Zr(t,r)):(g(r instanceof Dn,"Comparing on key, but filter value not a RefValue"),g(n!==Qr.ARRAY_CONTAINS&&n!==Qr.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new Yr(t,n,r));if(r.isEqual(En.INSTANCE)){if(n!==Qr.EQUAL)throw new E(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new e(t,n,r)}if(r.isEqual(On.NAN)){if(n!==Qr.EQUAL)throw new E(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new e(t,n,r)}return n===Qr.ARRAY_CONTAINS?new Xr(t,r):n===Qr.IN?(g(r instanceof Mn,"IN filter has invalid value: "+r.toString()),new Jr(t,r)):n===Qr.ARRAY_CONTAINS_ANY?(g(r instanceof Mn,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new $r(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Qr.LESS_THAN:return t<0;case Qr.LESS_THAN_OR_EQUAL:return t<=0;case Qr.EQUAL:return 0===t;case Qr.GREATER_THAN:return t>0;case Qr.GREATER_THAN_OR_EQUAL:return t>=0;default:return v("Unknown FieldFilter operator: "+this.op)}},e.prototype.isInequality=function(){return[Qr.LESS_THAN,Qr.LESS_THAN_OR_EQUAL,Qr.GREATER_THAN,Qr.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(Gr),Yr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=ut.comparator(t.key,this.value.key);return this.matchesComparison(e)},e}(Wr),Zr=function(t){function e(e,n){var r=t.call(this,e,Qr.IN,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){return this.value.internalValue.some(function(e){return t.key.isEqual(e.key)})},e}(Wr),Xr=function(t){function e(e,n){return t.call(this,e,Qr.ARRAY_CONTAINS,n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof Mn&&e.contains(this.value)},e}(Wr),Jr=function(t){function e(e,n){var r=t.call(this,e,Qr.IN,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(Wr),$r=function(t){function e(e,n){var r=t.call(this,e,Qr.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof Mn&&n.internalValue.some(function(t){return e.value.contains(t)})},e}(Wr),ti=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),ei=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){var t,e,n=this.before?"b:":"a:";try{for(var r=o.__values(this.position),i=r.next();!i.done;i=r.next())n+=i.value.toString()}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.sortsBeforeDocument=function(t,e){g(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())g(o instanceof Dn,"Bound has a non-key value where the key path is being used."),n=ut.comparator(o.key,e.key);else{var a=e.field(i.field);g(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===ti.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!this.position[e].isEqual(t.position[e]))return!1;return!0},t}(),ni=function(){function t(t,e){this.field=t,void 0===e&&(e=ti.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?pe.compareByKey(t,e):pe.compareByField(this.field,t,e);switch(this.dir){case ti.ASCENDING:return n;case ti.DESCENDING:return-1*n;default:return v("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),ri=new ni(st.keyField(),ti.ASCENDING),ii=new ni(st.keyField(),ti.DESCENDING),oi=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new kn(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ai=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){var e,n,r=ci(t),i=function(t){r.find(function(e){return e.isEqual(t)})||r.push(t)};try{for(var a=o.__values(this.elements),s=a.next();!s.done;s=a.next())i(s.value)}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return new Mn(r)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&W(e.elements,this.elements)},t}(),si=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){var e,n,r=ci(t),i=function(t){r=r.filter(function(e){return!e.isEqual(t)})};try{for(var a=o.__values(this.elements),s=a.next();!s.done;s=a.next())i(s.value)}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return new Mn(r)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&W(e.elements,this.elements)},t}(),ui=function(){function t(t){this.operand=t}return t.prototype.applyToLocalView=function(t,e){var n=this.computeBaseValue(t);return n instanceof In&&this.operand instanceof In?new In(n.internalValue+this.operand.internalValue):new On(n.internalValue+this.operand.internalValue)},t.prototype.applyToRemoteDocument=function(t,e){return g(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.computeBaseValue=function(t){return t instanceof Tn?t:new In(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function ci(t){return t instanceof Mn?t.internalValue.slice():[]}var li,hi,fi=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),pi=((li={})[ti.ASCENDING.name]="ASCENDING",li[ti.DESCENDING.name]="DESCENDING",li),di=((hi={})[Qr.LESS_THAN.name]="LESS_THAN",hi[Qr.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",hi[Qr.GREATER_THAN.name]="GREATER_THAN",hi[Qr.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",hi[Qr.EQUAL.name]="EQUAL",hi[Qr.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",hi[Qr.IN.name]="IN",hi[Qr.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",hi),yi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(t,e){g(!ur(t),e+" is missing")}function vi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):v("can't parse "+t)}var gi=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?w.UNKNOWN:Cr(t.code);return new E(e,t.message||"")},t.prototype.toInt32Value=function(t){return ur(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return ur(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);g(!!t,"Cannot deserialize null or undefined timestamp.");var e=vi(t.seconds||"0");return new wt(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=yi.exec(t);if(g(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new wt(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(g(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),J.fromBase64String(t)):(g(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),J.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return g(!!t,"Trying to deserialize version that isn't set"),Et.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=ot.fromString(t);return g(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return g(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),g(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ut(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?ot.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new ot(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new ot(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return g(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof En)return{nullValue:"NULL_VALUE"};if(t instanceof Sn)return{booleanValue:t.value()};if(t instanceof In)return{integerValue:""+t.value()};if(t instanceof On){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof An?{stringValue:t.value()}:t instanceof Rn?{mapValue:this.toMapValue(t)}:t instanceof Mn?{arrayValue:this.toArrayValue(t)}:t instanceof xn?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Pn?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Nn?{bytesValue:this.toBytes(t.value())}:t instanceof Dn?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:v("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return En.INSTANCE;if("booleanValue"in t)return Sn.of(t.booleanValue);if("integerValue"in t)return new In(vi(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return On.NAN;if("Infinity"===t.doubleValue)return On.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return On.NEGATIVE_INFINITY}return new On(t.doubleValue)}if("stringValue"in t)return new An(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t)return mi(t.arrayValue,"arrayValue"),new Mn((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if("timestampValue"in t)return mi(t.timestampValue,"timestampValue"),new xn(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t)return mi(t.geoPointValue,"geoPointValue"),new Pn(new Hr(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){mi(t.bytesValue,"bytesValue");var n=this.fromBlob(t.bytesValue);return new Nn(n)}if("referenceValue"in t){mi(t.referenceValue,"referenceValue");var r=this.fromResourceName(t.referenceValue),i=new nt(r.get(1),r.get(3)),o=new ut(this.extractLocalPathFromResourceName(r));return new Dn(i,o)}return v("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return g(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new pe(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=Rn.EMPTY;return O(t,function(t,r){n=n.set(new st([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){g(!!t.found,"Tried to deserialize a found document from a missing document."),mi(t.found.name,"doc.found.name"),mi(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new pe(e,n,r,{},t.found)},t.prototype.fromMissing=function(t){g(!!t.missing,"Tried to deserialize a missing document from a found document."),g(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new de(e,n)},t.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):v("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case jr.Added:return"ADD";case jr.Current:return"CURRENT";case jr.NoChange:return"NO_CHANGE";case jr.Removed:return"REMOVE";case jr.Reset:return"RESET";default:return v("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Mr)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Rr){var e;if(t.newDoc instanceof pe)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof de)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Lr){var n=void 0;return t.cause&&(n={code:Ir(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return v("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e;if("targetChange"in t){mi(t.targetChange,"targetChange");var n=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=t.targetChange.resumeToken||this.emptyByteString(),o=t.targetChange.cause,a=o&&this.fromRpcStatus(o);e=new Lr(n,r,i,a||null)}else if("documentChange"in t){mi(t.documentChange,"documentChange"),mi(t.documentChange.document,"documentChange.name"),mi(t.documentChange.document.name,"documentChange.document.name"),mi(t.documentChange.document.updateTime,"documentChange.document.updateTime");var s=t.documentChange,u=this.fromName(s.document.name),c=this.fromVersion(s.document.updateTime),l=this.fromFields(s.document.fields||{}),h=new pe(u,c,l,{},s.document);e=new Rr(s.targetIds||[],s.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){mi(t.documentDelete,"documentDelete"),mi(t.documentDelete.document,"documentDelete.document");var f=t.documentDelete;u=this.fromName(f.document),c=f.readTime?this.fromVersion(f.readTime):Et.forDeletedDoc(),h=new de(u,c),e=new Rr([],f.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){mi(t.documentRemove,"documentRemove"),mi(t.documentRemove.document,"documentRemove");var p=t.documentRemove;u=this.fromName(p.document),e=new Rr([],p.removedTargetIds||[],u,null)}else{if(!("filter"in t))return v("Unknown change type "+JSON.stringify(t));mi(t.filter,"filter"),mi(t.filter.targetId,"filter.targetId");var d=t.filter,y=new fi(d.count||0);e=new Mr(d.targetId,y)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?jr.NoChange:"ADD"===t?jr.Added:"REMOVE"===t?jr.Removed:"CURRENT"===t?jr.Current:"RESET"===t?jr.Reset:v("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return Et.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Et.MIN:e.readTime?this.fromVersion(e.readTime):Et.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof qn)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Kn)e={delete:this.toName(t.key)};else if(t instanceof zn)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof Hn))return v("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):Un.NONE;if(t.update){mi(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new zn(r,i,o,n)}return new qn(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new Kn(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return g(!0===n.exists,'Transforms only support precondition "exists == true"'),new Hn(r,a)}return v("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return g(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?Un.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Un.exists(t.exists):Un.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new Vn(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(g(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof oi)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ai)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof si)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ui)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw v("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)g("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=oi.instance;else if("appendMissingElements"in t)n=new ai((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)}));else if("removeAllFromArray"in t)n=new si((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)}));else if("increment"in t){var r=this.fromValue(t.increment);g(r instanceof Tn,"NUMERIC_ADD transform requires a NumberValue"),n=new ui(r)}else v("Unknown transform proto: "+JSON.stringify(t));var i=st.fromServerFormat(t.fieldPath);return new Ln(i,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return g(1===e,"DocumentsTarget contained other than 1 document: "+e),Kr.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(g(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(g(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){g(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new Kr(e,i,s,a,u,c,l)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Xe.Listen:return null;case Xe.ExistenceFilterMismatch:return"existence-filter-mismatch";case Xe.LimboResolution:return"limbo-document";default:return v("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Wr?e.toUnaryOrFieldFilter(t):v("Unrecognized filter: "+JSON.stringify(t))});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromFieldFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):v("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new ei(r,n)},t.prototype.toDirection=function(t){return pi[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return ti.ASCENDING;case"DESCENDING":return ti.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return di[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Qr.EQUAL;case"GREATER_THAN":return Qr.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Qr.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Qr.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Qr.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Qr.ARRAY_CONTAINS;case"IN":return Qr.IN;case"ARRAY_CONTAINS_ANY":return Qr.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return v("Unspecified operator");default:return v("Unknown operator")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return st.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new ni(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.fromFieldFilter=function(t){return Wr.create(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryOrFieldFilter=function(t){if(t.op===Qr.EQUAL){if(t.value.isEqual(On.NAN))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}};if(t.value.isEqual(En.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return Wr.create(e,Qr.EQUAL,On.NAN);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return Wr.create(n,Qr.EQUAL,En.INSTANCE);case"OPERATOR_UNSPECIFIED":return v("Unspecified filter");default:return v("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return st.fromServerFormat(t)});return jn.fromArray(e)},t}(),bi=function(){return function(){this.listeners=[]}}(),_i=function(){function t(t){this.syncEngine=t,this.queries=new me(function(t){return t.canonicalId()}),this.onlineState=_r.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new bi,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return o.__generator(this,function(o){return n=!1,(r=this.queries.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){var e,n,r,i;try{for(var a=o.__values(t),s=a.next();!s.done;s=a.next()){var u=s.value,c=this.queries.get(u.query);if(c){try{for(var l=o.__values(c.listeners),h=l.next();!h.done;h=l.next())h.value.onViewSnapshot(u)}catch(f){r={error:f}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}c.viewSnap=u}}}catch(p){e={error:p}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},t.prototype.onWatchError=function(t,e){var n,r,i=this.queries.get(t);if(i)try{for(var a=o.__values(i.listeners),s=a.next();!s.done;s=a.next())s.value.onError(e)}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){var r,i;try{for(var a=o.__values(n.listeners),s=a.next();!s.done;s=a.next())s.value.applyOnlineStateChange(t)}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}})},t}(),wi=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=_r.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){var e,n;if(g(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){var r=[];try{for(var i=o.__values(t.docChanges),a=i.next();!a.done;a=i.next()){var s=a.value;s.type!==Ar.Metadata&&r.push(s)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}t=new Nr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return g(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==_r.Offline?(g(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===_r.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){g(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Nr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),Ei=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){var r,i,a=Lt(),s=Lt();try{for(var u=o.__values(n.docChanges),c=u.next();!c.done;c=u.next()){var l=c.value;switch(l.type){case Ar.Added:a=a.add(l.doc.key);break;case Ar.Removed:s=s.add(l.doc.key)}}}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return new t(e,a,s)},t}(),Si=function(){return function(t){this.key=t}}(),Ti=function(){return function(t){this.key=t}}(),Ci=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Lt(),this.mutatedKeys=Lt(),this.documentSet=new Or(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new kr,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var c=i.get(t),l=e instanceof pe?e:null;l&&(g(t.isEqual(l.key),"Mismatching keys found in document changes: "+t+" != "+l.key),l=n.query.matches(l)?l:null);var h=!!c&&n.mutatedKeys.has(c.key),f=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;c&&l?c.data.isEqual(l.data)?h!==f&&(r.track({type:Ar.Metadata,doc:l}),p=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:Ar.Modified,doc:l}),p=!0,u&&n.query.docComparator(l,u)>0&&(s=!0)):!c&&l?(r.track({type:Ar.Added,doc:l}),p=!0):c&&!l&&(r.track({type:Ar.Removed,doc:c}),p=!0,u&&(s=!0)),p&&(l?(a=a.add(l),o=f?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:Ar.Removed,doc:c})}return g(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;g(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Ar.Added:return 1;case Ar.Modified:case Ar.Metadata:return 2;case Ar.Removed:return 0;default:return v("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?xr.Synced:xr.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new Nr(this.query,t.documentSet,i,o,t.mutatedKeys,s===xr.Local,u,!1),limboChanges:a}:{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===_r.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new kr,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return g(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Lt(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new Ti(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new Si(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Lt();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return Nr.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===xr.Local)},t}(),Ii=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),Oi=function(){return function(t){this.key=t}}(),Ai=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new me(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new St(ut.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Qn,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Jt.forSyncEngine(),this.isPrimary=void 0,this.onlineState=_r.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){g(null!==t,"SyncEngine listener cannot be null"),g(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i,a;return o.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=o.sent(),a=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===a)];case 3:n=o.sent(),this.isPrimary&&this.remoteStore.listen(i),o.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then(function(i){return n.localStore.remoteDocumentKeys(t.targetId).then(function(o){var a=new Ci(r,o),s=a.computeDocChanges(i),u=Pr.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==_r.Offline),c=a.applyChanges(s,!0===n.isPrimary,u);g(0===c.limboChanges.length,"View returned limbo docs before target ack from the server."),g(!!c.snapshot,"applyChanges for new view should always return a snapshot");var l=new Ii(r,t.targetId,a);return n.queryViewsByQuery.set(r,l),n.queryViewsByTarget[t.targetId]=l,c.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(n){return e.localStore.remoteDocumentKeys(t.targetId).then(function(r){return o.__awaiter(e,void 0,void 0,function(){var e;return o.__generator(this,function(i){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n=this;return o.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),g(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(pn)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),g(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!ur(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(i){return Promise.reject(n.wrapUpdateFunctionError(i))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(n){return O(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[Number(t)];r&&(g(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?g(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(g(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(n,t)}).catch(pn)},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===wr.RemoteStore||!this.isPrimary&&e===wr.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);g(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,a,s,u,c=this;return o.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(r=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new St(ut.comparator)).insert(r,new de(r,Et.forDeletedDoc())),a=Lt().add(r),s=new Dr(Et.MIN,{},new Ot(Q),i,a),[2,this.applyRemoteEvent(s)]):[3,1];case 1:return g(!!(u=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(u.query,!1).then(function(){return c.removeAndCleanupQuery(u)}).catch(pn)];case 2:o.sent(),this.syncEngineListener.onWatchError(u.query,e),o.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var r;return o.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(d("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):v("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(pn)},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(pn)},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new St(Q)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(g(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){var n,r;try{for(var i=o.__values(e),a=i.next();!a.done;a=i.next()){var s=a.value;s instanceof Si?(this.limboDocumentRefs.addReference(s.key,t),this.trackLimboChange(s)):s instanceof Ti?(d("SyncEngine","Document no longer in limbo: "+s.key),this.limboDocumentRefs.removeReference(s.key,t),this.limboDocumentRefs.containsKey(s.key)||this.removeLimboTarget(s.key)):v("Unknown limbo change: "+JSON.stringify(s))}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){d("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=Kr.atPath(e.path);this.limboResolutionsByTarget[n]=new Oi(e),this.remoteStore.listen(new Je(r,n,Xe.LimboResolution,rt.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,a=this;return o.__generator(this,function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(o,s){i.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?a.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var i=s.view.applyChanges(t,!0===a.isPrimary,e&&e.targetChanges[s.targetId]);if(a.updateTrackedLimbos(s.targetId,i.limboChanges),i.snapshot){a.isPrimary&&a.sharedClientState.updateQueryState(s.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var o=Ei.fromSnapshot(s.targetId,i.snapshot);r.push(o)}}))}),[4,Promise.all(i)];case 1:return o.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return o.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){g(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i,a,s,u,c,l=this;return o.__generator(this,function(h){switch(h.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return h.sent(),r=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(r.toArray())];case 2:i=h.sent();try{for(a=o.__values(i),s=a.next();!s.done;s=a.next())this.remoteStore.listen(s.value)}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,u=[],c=Promise.resolve(),I(this.queryViewsByTarget,function(t,e){l.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then(function(){return l.unlisten(e.query)}),l.remoteStore.unlisten(e.targetId)}),[4,c]);case 4:return h.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(u)];case 5:return h.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:h.sent(),h.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;I(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new St(ut.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){var e,n,r=this,i=Promise.resolve(),a=[],s=[],u=function(t){i=i.then(function(){return o.__awaiter(r,void 0,void 0,function(){var e,n,r,i;return o.__generator(this,function(o){switch(o.label){case 0:return(n=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return o.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return e=o.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(r=o.sent()).snapshot&&s.push(r.snapshot),[3,8];case 4:return g(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return g(!!(i=o.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(i)];case 6:return e=o.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:o.sent(),o.label=8;case 8:return a.push(e),[2]}})})})};try{for(var c=o.__values(t),l=c.next();!l.done;l=c.next())u(l.value)}catch(h){e={error:h}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return i.then(function(){return r.syncEngineListener.onWatchChange(s),a})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var r,i=this;return o.__generator(this,function(a){switch(a.label){case 0:if(this.isPrimary)return d("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return o.__awaiter(i,void 0,void 0,function(){var r;return o.__generator(this,function(i){switch(i.label){case 0:return r=Dr.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}})})},function(t){return o.__awaiter(i,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:return function(t){return t.code===w.DATA_LOSS&&t.message===ge}(t)?(e=[],I(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return this.removeAndCleanupQuery(r=this.queryViewsByTarget[t]),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return a.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:v("Unexpected target state: "+e),a.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,a,s,u,c,l,h,f,p,d,y,m,v,b=this;return o.__generator(this,function(_){switch(_.label){case 0:if(!this.isPrimary)return[2];_.label=1;case 1:_.trys.push([1,8,9,10]),s=o.__values(t),u=s.next(),_.label=2;case 2:return u.done?[3,7]:(g(!this.queryViewsByTarget[m=u.value],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(m)]);case 3:return g(!!(c=_.sent()),"Query data for active target "+m+" not found"),[4,this.localStore.allocateQuery(c)];case 4:return l=_.sent(),[4,this.initializeViewAndComputeSnapshot(l,!1)];case 5:_.sent(),this.remoteStore.listen(l),_.label=6;case 6:return u=s.next(),[3,2];case 7:return[3,10];case 8:return h=_.sent(),n={error:h},[3,10];case 9:try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}return[7];case 10:f=function(t){var e;return o.__generator(this,function(n){switch(n.label){case 0:return(e=p.queryViewsByTarget[t])?[4,p.localStore.releaseQuery(e.query,!1).then(function(){b.remoteStore.unlisten(t),b.removeAndCleanupQuery(e)}).catch(pn)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},p=this,_.label=11;case 11:_.trys.push([11,16,17,18]),d=o.__values(e),y=d.next(),_.label=12;case 12:return y.done?[3,15]:[5,f(m=y.value)];case 13:_.sent(),_.label=14;case 14:return y=d.next(),[3,12];case 15:return[3,18];case 16:return v=_.sent(),i={error:v},[3,18];case 17:try{y&&!y.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}return[7];case 18:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Lt().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Lt()},t}(),xi=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),ki="SharedClientState",Ni="firestore_clients",Di="firestore_mutations",Pi="firestore_targets",Ri="firestore_online_state",Mi="firestore_sequence_number",ji=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,g(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new E(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(y(ki,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Li=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,g(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new E(r.error.code,r.error.message)),i?new t(e,r.state,o):(y(ki,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ft(),a=0;i&&a<r.activeTargetIds.length;++a)i=cr(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(y(ki,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Fi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&n.onlineState in _r&&"string"==typeof n.clientId?new t(n.clientId,_r[n.onlineState]):(y(ki,"Failed to parse online state: "+e),null)},t}(),Ui=function(){function t(){this.activeTargetIds=Ft()}return t.prototype.addQueryTarget=function(t){g(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Bi=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new E(w.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Mi+"_"+r,this.activeClients[this.localClientId]=new Ui,this.clientStateKeyRe=new RegExp("^"+Ni+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Di+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Pi+"_"+a+"_(\\d+)$"),this.onlineStateKey=Ri+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,a,s,u,c,l,h,f,p,d,y=this;return o.__generator(this,function(m){switch(m.label){case 0:return g(!this.started,"WebStorageSharedClientState already started"),g(null!==this.syncEngine,"syncEngine property must be set before calling start()"),g(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:i=m.sent();try{for(a=o.__values(i),s=a.next();!s.done;s=a.next())(u=s.value)!==this.localClientId&&(c=this.getItem(this.toWebStorageClientStateKey(u)))&&(l=Vi.fromWebStorageEntry(u,c))&&(this.activeClients[l.clientId]=l)}catch(v){t={error:v}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}this.persistClientState(),(h=this.storage.getItem(this.onlineStateKey))&&(f=this.fromWebStorageOnlineState(h))&&this.handleOnlineStateEvent(f);try{for(p=o.__values(this.earlyEvents),d=p.next();!d.done;d=p.next())this.handleWebStorageEvent(d.value)}catch(b){n={error:b}}finally{try{d&&!d.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return y.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Ft();return O(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Li.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d(ki,"READ",t,e),e},t.prototype.setItem=function(t,e){d(ki,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d(ki,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(d(ki,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void y("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return o.__awaiter(e,void 0,void 0,function(){var e,n,r,i,a,s;return o.__generator(this,function(o){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(a=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(a)]}else t.key===this.sequenceNumberKey&&(g(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(s=function(t){var e=rt.INVALID;if(null!=t)try{var n=JSON.parse(t);g("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(r){y(ki,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==rt.INVALID&&this.sequenceNumberHandler(s));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new ji(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:_r[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Li(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return g(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Ni+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Pi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Di+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return g(null!==n,"Cannot parse client state key '"+t+"'"),Vi.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);g(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return ji.fromWebStorageEntry(new xi(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);g(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Li.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Fi.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(d(ki,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),a=[],s=[];return i.forEach(function(t){return o.__awaiter(n,void 0,void 0,function(){return o.__generator(this,function(e){return r.has(t)||a.push(t),[2]})})}),r.forEach(function(t){return o.__awaiter(n,void 0,void 0,function(){return o.__generator(this,function(e){return i.has(t)||s.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(a,s)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),qi=function(){function t(){this.localState=new Ui,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Ui,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),zi=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.lruParams=function(){return rn.withCacheSize(this.cacheSizeBytes)},t}(),Hi=function(){return function(){}}(),Ki=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=G.newId(),this._clientShutdown=!1}return t.prototype.start=function(t){var e=this;this.verifyNotShutdown();var n=new ct,r=new ct,i=!1;return this.credentials.setChangeListener(function(o){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(i=!0,e.initializePersistence(t,r,o).then(function(t){return e.initializeRest(o,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof zi?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof E?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.verifyNotShutdown=function(){if(this._clientShutdown)throw new E(w.FAILED_PRECONDITION,"The client has already been shutdown.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=fn.buildStoragePrefix(this.databaseInfo),i=new gi(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return o.__awaiter(n,void 0,void 0,function(){var n,a;return o.__generator(this,function(o){switch(o.label){case 0:if(e.synchronizeTabs&&!Bi.isAvailable(this.platform))throw new E(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return a=e.lruParams(),e.synchronizeTabs?(this.sharedClientState=new Bi(this.asyncQueue,this.platform,r,this.clientId,t),[4,fn.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,a,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=o.sent(),[3,4];case 2:return this.sharedClientState=new qi,[4,fn.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,a)];case 3:n=o.sent(),o.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=tr.createEagerPersistence(this.clientId),this.sharedClientState=new qi,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return d("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return o.__awaiter(n,void 0,void 0,function(){var n,i,a,s,u=this;return o.__generator(this,function(c){switch(c.label){case 0:return this.localStore=new Yn(this.persistence,t),e&&(this.lruScheduler=new on(e,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),a=new gr(this.asyncQueue,r,this.credentials,i),s=function(t){return u.syncEngine.applyOnlineStateChange(t,wr.SharedClientState)},this.remoteStore=new zr(this.localStore,a,this.asyncQueue,function(t){return u.syncEngine.applyOnlineStateChange(t,wr.RemoteStore)},n),this.syncEngine=new Ai(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=s,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new _i(this.syncEngine),[4,this.sharedClientState.start()];case 1:return c.sent(),[4,this.remoteStore.start()];case 2:return c.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return o.__awaiter(u,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return c.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return o.__awaiter(u,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return[4,this.shutdown()];case 1:return t.sent(),[2]}})})})];case 4:return c.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),d("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(){var t=this;return this.asyncQueue.enqueue(function(){return o.__awaiter(t,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this._clientShutdown?[3,4]:(this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()]);case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:t.sent(),this.credentials.removeChangeListener(),this._clientShutdown=!0,t.label=4;case 4:return[2]}})})})},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotShutdown();var i=new wi(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.verifyNotShutdown(),this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof pe)return t;if(t instanceof de)return null;throw new E(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=Lt(),r=new Ci(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this;this.verifyNotShutdown();var n=new ct;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},Object.defineProperty(t.prototype,"clientShutdown",{get:function(){return this._clientShutdown},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),Gi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Qi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,i){if(!(t instanceof Array)||t.length<1)throw new E(w.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+K(1,"element")+".")}();for(var n=0;n<t.length;++n)if(P("FieldPath","string",n,t[n]),0===t[n].length)throw new E(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(st.keyField().canonicalString()),t}(),Wi=new RegExp("[~\\*/\\[\\]]"),Yi=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Zi=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(xi.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){g(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Xi=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;g(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new E(w.ABORTED,"getToken aborted due to token change.");return n?(g("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Yi(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){g(null!=this.tokenListener,"removeChangeListener() called twice"),g(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return g(null===t||"string"==typeof t,"Received invalid UID: "+t),new xi(t)},t}(),Ji=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=xi.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),$i=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new Ji(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(xi.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function to(t){return function(t,e){var n,r;if("object"!=typeof t||null===t)return!1;var i=t;try{for(var a=o.__values(["next","error","complete"]),s=a.next();!s.done;s=a.next()){var u=s.value;if(u in i&&"function"==typeof i[u])return!0}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return!1}(t)}var eo=function(){function t(t){this._methodName=t}return t.delete=function(){return x("FieldValue.delete",arguments),no.instance},t.serverTimestamp=function(){return x("FieldValue.serverTimestamp",arguments),ro.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("FieldValue.arrayUnion",arguments,1),new io(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("FieldValue.arrayRemove",arguments,1),new oo(t)},t.increment=function(t){return P("FieldValue.increment","number",1,t),k("FieldValue.increment",arguments,1),new ao(t)},t.prototype.isEqual=function(t){return this===t},t}(),no=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return o.__extends(e,t),e.instance=new e,e}(eo),ro=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(e,t),e.instance=new e,e}(eo),io=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return o.__extends(e,t),e}(eo),oo=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return o.__extends(e,t),e}(eo),ao=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return o.__extends(e,t),e}(eo),so=S(eo,"Use FieldValue.<field>() instead."),uo=/^__.*__$/,co=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new zn(t,this.data,this.fieldMask,e):new qn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Hn(t,this.fieldTransforms)),n},t}(),lo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new zn(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new Hn(t,this.fieldTransforms)),n},t}(),ho=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function fo(t){switch(t){case ho.Set:case ho.MergeSet:case ho.Update:return!0;case ho.Argument:return!1;default:throw v("Unexpected case for UserDataSource: "+t)}}var po=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new E(w.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(fo(this.dataSource)&&uo.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),yo=function(){return function(t,e){this.databaseId=t,this.key=e}}(),mo=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new po(ho.Set,t,st.EMPTY_PATH);go("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new co(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r,i,a=new po(ho.MergeSet,t,st.EMPTY_PATH);go("Data must be an object, but it was:",a,e);var s,u,c=this.parseData(e,a);if(n){var l=new Ot(st.comparator);try{for(var h=o.__values(n),f=h.next();!f.done;f=h.next()){var p=f.value,d=void 0;if(p instanceof Qi)d=p._internalPath;else{if("string"!=typeof p)throw v("Expected stringOrFieldPath to be a string or a FieldPath");d=_o(t,p)}if(!a.contains(d))throw new E(w.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");l=l.add(d)}}catch(y){r={error:y}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}s=jn.fromSet(l),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=jn.fromArray(a.fieldMask),u=a.fieldTransforms;return new co(c,s,u)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new po(ho.Update,t,st.EMPTY_PATH);go("Data must be an object, but it was:",r,e);var i=new Ot(st.comparator),o=Rn.EMPTY;O(e,function(e,a){var s=_o(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof no)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}});var a=jn.fromSet(i);return new lo(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new po(ho.Update,t,st.EMPTY_PATH),o=[bo(t,e)],a=[n];if(r.length%2!=0)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(bo(t,r[s])),a.push(r[s+1]);var u=new Ot(st.comparator),c=Rn.EMPTY;for(s=0;s<o.length;++s){var l=o[s],h=i.childContextForFieldPath(l),f=this.runPreConverter(a[s],h);if(f instanceof no)u=u.add(l);else{var p=this.parseData(f,h);null!=p&&(u=u.add(l),c=c.set(l,p))}}var d=jn.fromSet(u);return new lo(c,d,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new po(ho.Argument,t,st.EMPTY_PATH),r=this.parseData(e,n);return g(null!=r,"Parsed data should not be null."),g(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=wo(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(vo(t=this.runPreConverter(t,e)))return go("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof eo)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new St(Q);return A(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):O(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new Rn(r)},t.prototype.parseArray=function(t,e){var n,r,i=[],a=0;try{for(var s=o.__values(t),u=s.next();!u.done;u=s.next()){var c=this.parseData(u.value,e.childContextForArray(a));null==c&&(c=En.INSTANCE),i.push(c),a++}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return new Mn(i)},t.prototype.parseSentinelFieldValue=function(t,e){if(!fo(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof no){if(e.dataSource!==ho.MergeSet)throw e.dataSource===ho.Update?(g(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof ro)e.fieldTransforms.push(new Ln(e.path,oi.instance));else if(t instanceof io){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ai(n);e.fieldTransforms.push(new Ln(e.path,r))}else if(t instanceof oo){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new si(n);e.fieldTransforms.push(new Ln(e.path,i))}else if(t instanceof ao){var o=this.parseQueryValue("FieldValue.increment",t._operand),a=new ui(o);e.fieldTransforms.push(new Ln(e.path,a))}else v("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return En.INSTANCE;if("number"==typeof t)return cr(t)?new In(t):new On(t);if("boolean"==typeof t)return Sn.of(t);if("string"==typeof t)return new An(t);if(t instanceof Date)return new xn(wt.fromDate(t));if(t instanceof wt)return new xn(new wt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof Hr)return new Pn(t);if(t instanceof J)return new Nn(t);if(t instanceof yo)return new Dn(t.databaseId,t.key);throw e.createError("Unsupported field value: "+U(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new po(ho.Argument,t,st.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function vo(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof Hr||t instanceof J||t instanceof yo||t instanceof eo)}function go(t,e,n){if(!vo(n)||!F(n)){var r=U(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function bo(t,e){if(e instanceof Qi)return e._internalPath;if("string"==typeof e)return _o(t,e);throw new E(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function _o(t,e){try{return function(t){if(t.search(Wi)>=0)throw new E(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Qi.bind.apply(Qi,o.__spread([void 0],t.split("."))))}catch(e){throw new E(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=wo(r);throw new E(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function wo(t){return t instanceof Error?t.message:t.toString()}var Eo="firestore.googleapis.com",So=!0,To=!0,Co=!1,Io=rn.COLLECTION_DISABLED,Oo=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new E(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Eo,this.ssl=So}else M("settings","non-empty string","host",t.host),this.host=t.host,j("settings","boolean","ssl",t.ssl),this.ssl=C(t.ssl,So);if(q("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),j("settings","object","credentials",t.credentials),this.credentials=t.credentials,j("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?y("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&y("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=C(t.timestampsInSnapshots,To),j("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=rn.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Io&&t.cacheSizeBytes<rn.MINIMUM_CACHE_SIZE_BYTES)throw new E(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+rn.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}j("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?Co:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Ao=function(){return function(){}}(),xo=function(){function t(e){var n=this;this._queue=new ft,this.INTERNAL={delete:function(){return o.__awaiter(n,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return t.sent(),[2]}})})}};var r=new Ao;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Xi(i)}else{var a=e;if(!a.projectId)throw new E(w.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new nt(a.projectId,a.database),r.persistenceKey="[DEFAULT]",r.credentials=new Zi}r.settings=new Oo({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(k("Firestore.settings",arguments,1),P("Firestore.settings","object",1,t),T(t,"persistence"))throw new E(w.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Oo(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new E(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Zi;switch(t.type){case"gapi":var e=t.client;return g(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new $i(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new E(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new E(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&y("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=C(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new zi(this._config.settings.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=fn.buildStoragePrefix(this.makeDatabaseInfo()),n=new ct;return this._queue.enqueueAndForget(function(){return o.__awaiter(t,void 0,void 0,function(){var t;return o.__generator(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientShutdown)throw new E(w.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,fn.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Hi),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new tt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)},t.prototype.configureClient=function(t){var e=this;g(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),g(!this._firestoreClient,"configureClient() called multiple times");var n=this.makeDatabaseInfo();return this._dataConverter=new mo(function(t){if(t instanceof Do){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new E(w.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new yo(e._config.databaseId,t._key)}return t}),this._firestoreClient=new Ki(b.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!T(e,"projectId"))throw new E(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new E(w.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new nt(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new E(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return k("Firestore.collection",arguments,1),P("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new Vo(ot.fromString(t),this)},t.prototype.doc=function(t){return k("Firestore.doc",arguments,1),P("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Do.forPath(ot.fromString(t),this)},t.prototype.collectionGroup=function(t){if(k("Firestore.collectionGroup",arguments,1),P("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new E(w.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new jo(new Kr(ot.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return k("Firestore.runTransaction",arguments,1),P("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new ko(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new No(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(f()){case h.DEBUG:return"debug";case h.ERROR:return"error";case h.SILENT:return"silent";default:return v("Unknown log level: "+f())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(k("Firestore.setLogLevel",arguments,1),P("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":p(h.DEBUG);break;case"error":p(h.ERROR);break;case"silent":p(h.SILENT);break;default:throw new E(w.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),ko=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;k("Transaction.get",arguments,1);var n=qo("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return v("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof de)return new Ro(e._firestore,n._key,null,!1,!1);if(r instanceof pe)return new Ro(e._firestore,n._key,r,!1,!1);throw v("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){D("Transaction.set",arguments,2,3);var r=qo("Transaction.set",t,this._firestore),i=(n=Fo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof Qi?(N("Transaction.update",arguments,3),r=qo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(k("Transaction.update",arguments,2),r=qo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){k("Transaction.delete",arguments,1);var e=qo("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),No=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){D("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=qo("WriteBatch.set",t,this._firestore),i=(n=Fo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,Un.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Qi?(N("WriteBatch.update",arguments,3),r=qo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(k("WriteBatch.update",arguments,2),r=qo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,Un.exists(!0))),this},t.prototype.delete=function(t){k("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=qo("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new Kn(e._key,Un.NONE)),this},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new E(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Do=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new E(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ut(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Vo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(k("DocumentReference.collection",arguments,1),P("DocumentReference.collection","non-empty string",1,t),!t)throw new E(w.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=ot.fromString(t);return new Vo(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){D("DocumentReference.set",arguments,1,2);var n=(e=Fo("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,Un.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Qi?(N("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(k("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,Un.exists(!0)))},t.prototype.delete=function(){return k("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Kn(this._key,Un.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];D("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||to(t[i])||(q("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),j("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return to(t[i])?n=t[i]:(P("DocumentReference.onSnapshot","function",i,t[i]),R("DocumentReference.onSnapshot","function",i+1,t[i+1]),R("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Gi({next:function(t){if(e.next){g(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Ro(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Kr.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return D("DocumentReference.get",arguments,0,1),Bo("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new Ro(e.firestore,e._key,t,!0,t instanceof pe&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new E(w.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new E(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),Po=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ro=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return D("DocumentSnapshot.data",arguments,0,1),t=Uo("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,_n.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(D("DocumentSnapshot.get",arguments,1,2),e=Uo("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(bo("DocumentSnapshot.get",t));if(null!==n)return this.convertValue(n,_n.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Do(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Po(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Rn)return this.convertObject(t,e);if(t instanceof Mn)return this.convertArray(t,e);if(t instanceof Dn){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||y("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Do(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),Mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return g("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Ro),jo=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var i,a,s;k("Query.where",arguments,3),B("Query.where",3,r),"in"!==n&&"array-contains-any"!==n&&function(t,e,n,r){if(!e.some(function(t){return t===r}))throw new E(w.INVALID_ARGUMENT,"Invalid value "+U(r)+" provided to function Query.where() for its "+H(2)+" argument. Acceptable values: "+e.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,n);var u=bo("Query.where",e),c=Qr.fromString(n);if(u.isKeyField()){if(c===Qr.ARRAY_CONTAINS||c===Qr.ARRAY_CONTAINS_ANY)throw new E(w.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+c.toString()+"' queries on FieldPath.documentId().");if(c===Qr.IN){this.validateDisjunctiveFilterElements(r,c);var l=[];try{for(var h=o.__values(r),f=h.next();!f.done;f=h.next())l.push(this.parseDocumentIdValue(f.value))}catch(d){i={error:d}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}s=new Mn(l)}else s=this.parseDocumentIdValue(r)}else c!==Qr.IN&&c!==Qr.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,c),s=this.firestore._dataConverter.parseQueryValue("Query.where",r);var p=Wr.create(u,c,s);return this.validateNewFilter(p),new t(this._query.addFilter(p),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(D("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=ti.ASCENDING;else{if("desc"!==n)throw new E(w.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=ti.DESCENDING}if(null!==this._query.startAt)throw new E(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new E(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=bo("Query.orderBy",e),o=new ni(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(k("Query.limit",arguments,1),P("Query.limit","number",1,e),e<=0)throw new E(w.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(B(t,1,e),e instanceof Ro){if(n.length>0)throw new E(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new E(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){var r,i,a=[];try{for(var s=o.__values(this._query.orderBy),u=s.next();!u.done;u=s.next()){var c=u.value;if(c.field.isKeyField())a.push(new Dn(this.firestore._databaseId,e.key));else{var l=e.field(c.field);if(l instanceof kn)throw new E(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var h=c.field.canonicalString();throw new E(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}a.push(l)}}}catch(f){r={error:f}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return new ei(a,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new E(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new E(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(ot.fromString(a));if(!ut.isDocumentKey(s))throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new ut(s);i.push(new Dn(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(t,a);i.push(c)}}return new ei(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];D("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||to(t[i])||(q("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),j("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),to(t[i])?n=t[i]:(P("Query.onSnapshot","function",i,t[i]),R("Query.onSnapshot","function",i+1,t[i+1]),R("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Gi({next:function(t){e.next&&e.next(new Lo(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return D("Query.get",arguments,0,1),Bo("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Lo(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new E(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.parseDocumentIdValue=function(t){if("string"==typeof t){if(""===t)throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==t.indexOf("/"))throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this._query.path.child(ot.fromString(t));if(!ut.isDocumentKey(e))throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new Dn(this.firestore._databaseId,new ut(e))}if(t instanceof Do)return new Dn(this.firestore._databaseId,t._key);throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+U(t)+".")},t.prototype.validateDisjunctiveFilterElements=function(t,e){if(!Array.isArray(t)||0===t.length)throw new E(w.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new E(w.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new E(w.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter(function(t){return Number.isNaN(t)}).length>0)throw new E(w.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.validateNewFilter=function(t){if(t instanceof Wr){var e=[Qr.ARRAY_CONTAINS,Qr.ARRAY_CONTAINS_ANY],n=[Qr.IN,Qr.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(t.field))throw new E(w.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(t.field,a)}else if(i||r){var s=null;if(i&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(e)),null!=s)throw new E(w.INVALID_ARGUMENT,s===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new E(w.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Lo=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Po(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;D("QuerySnapshot.forEach",arguments,1,2),P("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new jo(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(q("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),j("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new E(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new Mo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return g(e.type===Ar.Added,"Invalid event type for first snapshot"),g(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Ar.Metadata}).map(function(e){var r=new Mo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==Ar.Added&&(g((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Ar.Removed&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:zo(e.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Mo(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();o.__spread(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Lo.prototype.docChanges,t,{get:function(){return function(){throw new E(w.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var Vo=function(t){function e(e,n){var r=t.call(this,Kr.atPath(e),n)||this;if(e.length%2!=1)throw new E(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return o.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Do(new ut(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(D("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=G.newId()),P("CollectionReference.doc","non-empty string",1,t),""===t)throw new E(w.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=ot.fromString(t);return Do.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){k("CollectionReference.add",arguments,1),P("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(jo);function Fo(t,e){if(void 0===e)return{merge:!1};if(q(t,e,["merge","mergeFields"]),j(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+U(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+U(r[o]))}(t,0,0,n,function(t){return"string"==typeof t||t instanceof Qi}),void 0!==e.mergeFields&&void 0!==e.merge)throw new E(w.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Uo(t,e){return void 0===e?{}:(q(t,e,["serverTimestamps"]),L(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Bo(t,e){R(t,"object",1,e),e&&(q(t,e,["source"]),L(t,0,"source",e.source,["default","server","cache"]))}function qo(t,e,n){if(e instanceof Do){if(e.firestore!==n)throw new E(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw z(t,"DocumentReference",1,e)}function zo(t){switch(t){case Ar.Added:return"added";case Ar.Modified:case Ar.Metadata:return"modified";case Ar.Removed:return"removed";default:return v("Unknown change type: "+t)}}var Ho=S(xo,"Use firebase.firestore() instead."),Ko=S(ko,"Use firebase.firestore().runTransaction() instead."),Go=S(No,"Use firebase.firestore().batch() instead."),Qo=S(Do,"Use firebase.firestore().doc() instead."),Wo=S(Ro),Yo=S(Mo),Zo=S(jo),Xo=S(Lo),Jo=S(Vo,"Use firebase.firestore().collection() instead."),$o={Firestore:Ho,GeoPoint:Hr,Timestamp:wt,Blob:$,Transaction:Ko,WriteBatch:Go,DocumentReference:Qo,DocumentSnapshot:Wo,Query:Zo,QueryDocumentSnapshot:Yo,QuerySnapshot:Xo,CollectionReference:Jo,FieldPath:Qi,FieldValue:so,setLogLevel:xo.setLogLevel,CACHE_SIZE_UNLIMITED:Io},ta=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.shutdown=function(){},t}(),ea=function(){function t(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return t.prototype.addCallback=function(t){this.callbacks.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},t.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},t.prototype.onNetworkAvailable=function(){var t,e;d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");try{for(var n=o.__values(this.callbacks),r=n.next();!r.done;r=n.next())(0,r.value)(0)}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.onNetworkUnavailable=function(){var t,e;d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");try{for(var n=o.__values(this.callbacks),r=n.next();!r.done;r=n.next())(0,r.value)(1)}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),na=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){g(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){g(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){g(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){g(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){g(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){g(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),ra="Connection",ia={BatchGetDocuments:"batchGet",Commit:"commit"},oa="gl-js/ fire/"+c,aa=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=oa},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,a){var s=new u.XhrIo;s.listenOnce(u.EventType.COMPLETE,function(){try{switch(s.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=s.getResponseJson();d(ra,"XHR received:",JSON.stringify(e)),o(e);break;case u.ErrorCode.TIMEOUT:d(ra,'RPC "'+t+'" timed out'),a(new E(w.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=s.getStatus();d(ra,'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0?a(new E(function(t){switch(t){case 200:return w.OK;case 400:return w.INVALID_ARGUMENT;case 401:return w.UNAUTHENTICATED;case 403:return w.PERMISSION_DENIED;case 404:return w.NOT_FOUND;case 409:return w.ABORTED;case 416:return w.OUT_OF_RANGE;case 429:return w.RESOURCE_EXHAUSTED;case 499:return w.CANCELLED;case 500:return w.UNKNOWN;case 501:return w.UNIMPLEMENTED;case 503:return w.UNAVAILABLE;case 504:return w.DEADLINE_EXCEEDED;default:return t>=200&&t<300?w.OK:t>=400&&t<500?w.FAILED_PRECONDITION:t>=500&&t<600?w.INTERNAL:w.UNKNOWN}}(n),"Server responded with status "+s.getStatusText())):(d(ra,'RPC "'+t+'" failed'),a(new E(w.UNAVAILABLE,"Connection failed.")));break;default:v('RPC "'+t+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{d(ra,'RPC "'+t+'" completed.')}});var c=JSON.stringify(e);d(ra,"XHR sending: ",i+" "+c);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),s.send(i,"POST",c,l,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),s.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");d(ra,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),c=!1,l=!1,h=new na({sendFn:function(t){l?d(ra,"Not sending because WebChannel is closed:",t):(c||(d(ra,"Opening WebChannel transport."),a.open(),c=!0),d(ra,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),f=function(t,e){a.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return f(u.WebChannel.EventType.OPEN,function(){l||d(ra,"WebChannel transport opened.")}),f(u.WebChannel.EventType.CLOSE,function(){l||(l=!0,d(ra,"WebChannel transport closed"),h.callOnClose())}),f(u.WebChannel.EventType.ERROR,function(t){l||(l=!0,d(ra,"WebChannel transport errored:",t),h.callOnClose(new E(w.UNAVAILABLE,"The operation could not be completed")))}),f(u.WebChannel.EventType.MESSAGE,function(t){if(!l){var e=t.data[0];g(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){d(ra,"WebChannel received error:",n);var r=n.status,i=function(t){var e=Sr[r];if(void 0!==e)return Cr(e)}(),o=n.message;void 0===i&&(i=w.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),l=!0,h.callOnClose(new E(i,o)),a.close()}else d(ra,"WebChannel received:",e),h.callOnMessage(e)}}),setTimeout(function(){h.callOnOpen()},0),h},t.prototype.makeUrl=function(t){var e=ia[t];g(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();function sa(t){t.INTERNAL.registerService("firestore",function(t){return new xo(t)},function(t){g(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}($o))}b.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new aa(t))},t.prototype.newConnectivityMonitor=function(){return ea.isAvailable()?new ea:new ta},t.prototype.newSerializer=function(t){return new gi(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}())),sa(i),e.registerFirestore=sa},"6ahw":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("iLxQ"),i=n("DKTb"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},"6blF":function(t,e,n){"use strict";var r=n("FFOo"),i=n("L/V9"),o=n("6ahw"),a=n("xTla"),s=n("y3By"),u=n("iLxQ");n.d(e,"a",function(){return c});var c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(s.add(a?a.call(s,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.a?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=l(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(s.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=l(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"8g8A":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},CS9Q:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("siIJ"),o=function(t){function e(n,r){void 0===r&&(r=i.a.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.__extends(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(i.a)},CcnG:function(t,e,n){"use strict";n.r(e),n.d(e,"\u0275angular_packages_core_core_r",function(){return Kg}),n.d(e,"\u0275angular_packages_core_core_o",function(){return qg}),n.d(e,"\u0275angular_packages_core_core_p",function(){return zg}),n.d(e,"\u0275angular_packages_core_core_q",function(){return Hg}),n.d(e,"\u0275angular_packages_core_core_s",function(){return Gg}),n.d(e,"\u0275angular_packages_core_core_f",function(){return iv}),n.d(e,"\u0275angular_packages_core_core_m",function(){return Hh}),n.d(e,"\u0275angular_packages_core_core_n",function(){return Xh}),n.d(e,"\u0275angular_packages_core_core_l",function(){return wg}),n.d(e,"\u0275angular_packages_core_core_k",function(){return _g}),n.d(e,"\u0275angular_packages_core_core_a",function(){return Ot}),n.d(e,"\u0275angular_packages_core_core_b",function(){return K}),n.d(e,"\u0275angular_packages_core_core_c",function(){return he}),n.d(e,"\u0275angular_packages_core_core_d",function(){return $t}),n.d(e,"\u0275angular_packages_core_core_e",function(){return oe}),n.d(e,"\u0275angular_packages_core_core_j",function(){return cm}),n.d(e,"\u0275angular_packages_core_core_t",function(){return Dv}),n.d(e,"\u0275angular_packages_core_core_v",function(){return Av}),n.d(e,"\u0275angular_packages_core_core_u",function(){return Ov}),n.d(e,"\u0275angular_packages_core_core_y",function(){return Nv}),n.d(e,"\u0275angular_packages_core_core_w",function(){return xv}),n.d(e,"\u0275angular_packages_core_core_x",function(){return kv}),n.d(e,"\u0275angular_packages_core_core_bb",function(){return md}),n.d(e,"\u0275angular_packages_core_core_bc",function(){return Fi}),n.d(e,"\u0275angular_packages_core_core_bd",function(){return pr}),n.d(e,"\u0275angular_packages_core_core_be",function(){return Cr}),n.d(e,"\u0275angular_packages_core_core_bf",function(){return qr}),n.d(e,"\u0275angular_packages_core_core_bj",function(){return aa}),n.d(e,"\u0275angular_packages_core_core_bp",function(){return xi}),n.d(e,"\u0275angular_packages_core_core_bo",function(){return Un}),n.d(e,"\u0275angular_packages_core_core_g",function(){return Ih}),n.d(e,"\u0275angular_packages_core_core_h",function(){return Oh}),n.d(e,"\u0275angular_packages_core_core_i",function(){return Ah}),n.d(e,"\u0275angular_packages_core_core_bh",function(){return Wo}),n.d(e,"\u0275angular_packages_core_core_bn",function(){return Ae}),n.d(e,"\u0275angular_packages_core_core_bk",function(){return d}),n.d(e,"\u0275angular_packages_core_core_bl",function(){return y}),n.d(e,"\u0275angular_packages_core_core_bq",function(){return C}),n.d(e,"\u0275angular_packages_core_core_z",function(){return $p}),n.d(e,"\u0275angular_packages_core_core_ba",function(){return Cf}),n.d(e,"createPlatform",function(){return ng}),n.d(e,"assertPlatform",function(){return ig}),n.d(e,"destroyPlatform",function(){return og}),n.d(e,"getPlatform",function(){return ag}),n.d(e,"PlatformRef",function(){return sg}),n.d(e,"ApplicationRef",function(){return cg}),n.d(e,"createPlatformFactory",function(){return rg}),n.d(e,"NgProbeToken",function(){return eg}),n.d(e,"enableProdMode",function(){return po}),n.d(e,"isDevMode",function(){return fo}),n.d(e,"APP_ID",function(){return rv}),n.d(e,"PACKAGE_ROOT_URL",function(){return lv}),n.d(e,"PLATFORM_INITIALIZER",function(){return sv}),n.d(e,"PLATFORM_ID",function(){return uv}),n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return cv}),n.d(e,"APP_INITIALIZER",function(){return ev}),n.d(e,"ApplicationInitStatus",function(){return nv}),n.d(e,"DebugElement",function(){return jg}),n.d(e,"DebugEventListener",function(){return bg}),n.d(e,"DebugNode",function(){return Mg}),n.d(e,"asNativeElements",function(){return Eg}),n.d(e,"getDebugNode",function(){return Pg}),n.d(e,"Testability",function(){return Qv}),n.d(e,"TestabilityRegistry",function(){return Wv}),n.d(e,"setTestabilityGetter",function(){return Yv}),n.d(e,"TRANSLATIONS",function(){return Fg}),n.d(e,"TRANSLATIONS_FORMAT",function(){return Ug}),n.d(e,"LOCALE_ID",function(){return Vg}),n.d(e,"MissingTranslationStrategy",function(){return Bg}),n.d(e,"ApplicationModule",function(){return Qg}),n.d(e,"wtfCreateScope",function(){return Rv}),n.d(e,"wtfLeave",function(){return Mv}),n.d(e,"wtfStartTimeRange",function(){return jv}),n.d(e,"wtfEndTimeRange",function(){return Lv}),n.d(e,"Type",function(){return X}),n.d(e,"EventEmitter",function(){return Ry}),n.d(e,"ErrorHandler",function(){return $i}),n.d(e,"Sanitizer",function(){return Fo}),n.d(e,"SecurityContext",function(){return Vo}),n.d(e,"Attribute",function(){return S}),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return fe}),n.d(e,"ContentChild",function(){return ye}),n.d(e,"ContentChildren",function(){return de}),n.d(e,"Query",function(){return pe}),n.d(e,"ViewChild",function(){return ve}),n.d(e,"ViewChildren",function(){return me}),n.d(e,"Component",function(){return Um}),n.d(e,"Directive",function(){return Fm}),n.d(e,"HostBinding",function(){return Hm}),n.d(e,"HostListener",function(){return Km}),n.d(e,"Input",function(){return qm}),n.d(e,"Output",function(){return zm}),n.d(e,"Pipe",function(){return Bm}),n.d(e,"NgModule",function(){return Jm}),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return to}),n.d(e,"NO_ERRORS_SCHEMA",function(){return eo}),n.d(e,"ViewEncapsulation",function(){return Oe}),n.d(e,"Version",function(){return qh}),n.d(e,"VERSION",function(){return zh}),n.d(e,"InjectFlags",function(){return T}),n.d(e,"\u0275\u0275defineInjectable",function(){return O}),n.d(e,"defineInjectable",function(){return A}),n.d(e,"\u0275\u0275defineInjector",function(){return x}),n.d(e,"forwardRef",function(){return j}),n.d(e,"resolveForwardRef",function(){return L}),n.d(e,"Injectable",function(){return bt}),n.d(e,"INJECTOR",function(){return It}),n.d(e,"Injector",function(){return At}),n.d(e,"\u0275\u0275inject",function(){return G}),n.d(e,"inject",function(){return Q}),n.d(e,"ReflectiveInjector",function(){return le}),n.d(e,"ResolvedReflectiveFactory",function(){return ne}),n.d(e,"ReflectiveKey",function(){return Zt}),n.d(e,"InjectionToken",function(){return Et}),n.d(e,"Inject",function(){return v}),n.d(e,"Optional",function(){return g}),n.d(e,"Self",function(){return b}),n.d(e,"SkipSelf",function(){return _}),n.d(e,"Host",function(){return w}),n.d(e,"\u02750",function(){return m}),n.d(e,"\u02751",function(){return E}),n.d(e,"NgZone",function(){return Uv}),n.d(e,"\u0275NoopNgZone",function(){return Gv}),n.d(e,"RenderComponentType",function(){return Ph}),n.d(e,"Renderer",function(){return Mh}),n.d(e,"Renderer2",function(){return Fh}),n.d(e,"RendererFactory2",function(){return Lh}),n.d(e,"RendererStyleFlags2",function(){return Vh}),n.d(e,"RootRenderer",function(){return jh}),n.d(e,"COMPILER_OPTIONS",function(){return Cv}),n.d(e,"Compiler",function(){return Tv}),n.d(e,"CompilerFactory",function(){return Iv}),n.d(e,"ModuleWithComponentFactories",function(){return fv}),n.d(e,"ComponentFactory",function(){return fh}),n.d(e,"\u0275ComponentFactory",function(){return fh}),n.d(e,"ComponentRef",function(){return hh}),n.d(e,"ComponentFactoryResolver",function(){return bh}),n.d(e,"ElementRef",function(){return kh}),n.d(e,"NgModuleFactory",function(){return Sh}),n.d(e,"NgModuleRef",function(){return Eh}),n.d(e,"NgModuleFactoryLoader",function(){return im}),n.d(e,"getModuleFactory",function(){return hm}),n.d(e,"QueryList",function(){return My}),n.d(e,"SystemJsNgModuleLoader",function(){return yg}),n.d(e,"SystemJsNgModuleLoaderConfig",function(){return pg}),n.d(e,"TemplateRef",function(){return cf}),n.d(e,"ViewContainerRef",function(){return ff}),n.d(e,"EmbeddedViewRef",function(){return gg}),n.d(e,"ViewRef",function(){return vg}),n.d(e,"ChangeDetectionStrategy",function(){return ge}),n.d(e,"ChangeDetectorRef",function(){return nf}),n.d(e,"DefaultIterableDiffer",function(){return Gh}),n.d(e,"IterableDiffers",function(){return tf}),n.d(e,"KeyValueDiffers",function(){return ef}),n.d(e,"SimpleChange",function(){return Rl}),n.d(e,"WrappedValue",function(){return xc}),n.d(e,"platformCore",function(){return Lg}),n.d(e,"\u0275ALLOW_MULTIPLE_PLATFORMS",function(){return tg}),n.d(e,"\u0275APP_ID_RANDOM_PROVIDER",function(){return ov}),n.d(e,"\u0275defaultIterableDiffers",function(){return sf}),n.d(e,"\u0275defaultKeyValueDiffers",function(){return uf}),n.d(e,"\u0275devModeEqual",function(){return Ac}),n.d(e,"\u0275isListLikeIterable",function(){return kc}),n.d(e,"\u0275ChangeDetectorStatus",function(){return be}),n.d(e,"\u0275isDefaultChangeDetectionStrategy",function(){return _e}),n.d(e,"\u0275Console",function(){return hv}),n.d(e,"\u0275setCurrentInjector",function(){return z}),n.d(e,"\u0275getInjectableDef",function(){return k}),n.d(e,"\u0275APP_ROOT",function(){return Hl}),n.d(e,"\u0275ivyEnabled",function(){return fg}),n.d(e,"\u0275CodegenComponentFactoryResolver",function(){return _h}),n.d(e,"\u0275clearResolutionOfComponentResourcesQueue",function(){return Ce}),n.d(e,"\u0275resolveComponentResources",function(){return we}),n.d(e,"\u0275ReflectionCapabilities",function(){return rt}),n.d(e,"\u0275RenderDebugInfo",function(){return Rh}),n.d(e,"\u0275_sanitizeHtml",function(){return jo}),n.d(e,"\u0275_sanitizeStyle",function(){return qo}),n.d(e,"\u0275_sanitizeUrl",function(){return go}),n.d(e,"\u0275global",function(){return F}),n.d(e,"\u0275looseIdentical",function(){return Oc}),n.d(e,"\u0275stringify",function(){return R}),n.d(e,"\u0275makeDecorator",function(){return f}),n.d(e,"\u0275isObservable",function(){return yc}),n.d(e,"\u0275isPromise",function(){return dc}),n.d(e,"\u0275clearOverrides",function(){return E_}),n.d(e,"\u0275initServicesIfNeeded",function(){return Lb}),n.d(e,"\u0275overrideComponentView",function(){return w_}),n.d(e,"\u0275overrideProvider",function(){return __}),n.d(e,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return ad}),n.d(e,"\u0275\u0275defineBase",function(){return Ke}),n.d(e,"\u0275\u0275defineComponent",function(){return Ve}),n.d(e,"\u0275\u0275defineDirective",function(){return Ge}),n.d(e,"\u0275\u0275definePipe",function(){return Qe}),n.d(e,"\u0275\u0275defineNgModule",function(){return qe}),n.d(e,"\u0275detectChanges",function(){return cu}),n.d(e,"\u0275renderComponent",function(){return Al}),n.d(e,"\u0275Render3ComponentFactory",function(){return vd}),n.d(e,"\u0275Render3ComponentRef",function(){return gd}),n.d(e,"\u0275\u0275directiveInject",function(){return Uu}),n.d(e,"\u0275\u0275injectAttribute",function(){return Bu}),n.d(e,"\u0275\u0275getFactoryOf",function(){return Wi}),n.d(e,"\u0275\u0275getInheritedFactory",function(){return Yi}),n.d(e,"\u0275\u0275setComponentScope",function(){return Fe}),n.d(e,"\u0275\u0275setNgModuleScope",function(){return ze}),n.d(e,"\u0275\u0275templateRefExtractor",function(){return rm}),n.d(e,"\u0275\u0275ProvidersFeature",function(){return lh}),n.d(e,"\u0275\u0275InheritDefinitionFeature",function(){return Ul}),n.d(e,"\u0275\u0275NgOnChangesFeature",function(){return Ml}),n.d(e,"\u0275LifecycleHooksFeature",function(){return Dl}),n.d(e,"\u0275Render3NgModuleRef",function(){return py}),n.d(e,"\u0275markDirty",function(){return lu}),n.d(e,"\u0275NgModuleFactory",function(){return dy}),n.d(e,"\u0275NO_CHANGE",function(){return ra}),n.d(e,"\u0275\u0275container",function(){return Nu}),n.d(e,"\u0275\u0275nextContext",function(){return wc}),n.d(e,"\u0275\u0275elementStart",function(){return ic}),n.d(e,"\u0275\u0275namespaceHTML",function(){return Zr}),n.d(e,"\u0275\u0275namespaceMathML",function(){return Yr}),n.d(e,"\u0275\u0275namespaceSVG",function(){return Wr}),n.d(e,"\u0275\u0275element",function(){return ac}),n.d(e,"\u0275\u0275listener",function(){return mc}),n.d(e,"\u0275\u0275text",function(){return ul}),n.d(e,"\u0275\u0275embeddedViewStart",function(){return hc}),n.d(e,"\u0275\u0275projection",function(){return Tc}),n.d(e,"\u0275\u0275bind",function(){return Fc}),n.d(e,"\u0275\u0275interpolation1",function(){return zc}),n.d(e,"\u0275\u0275interpolation2",function(){return Hc}),n.d(e,"\u0275\u0275interpolation3",function(){return Kc}),n.d(e,"\u0275\u0275interpolation4",function(){return Gc}),n.d(e,"\u0275\u0275interpolation5",function(){return Qc}),n.d(e,"\u0275\u0275interpolation6",function(){return Wc}),n.d(e,"\u0275\u0275interpolation7",function(){return Yc}),n.d(e,"\u0275\u0275interpolation8",function(){return Zc}),n.d(e,"\u0275\u0275interpolationV",function(){return qc}),n.d(e,"\u0275\u0275pipeBind1",function(){return Oy}),n.d(e,"\u0275\u0275pipeBind2",function(){return Ay}),n.d(e,"\u0275\u0275pipeBind3",function(){return xy}),n.d(e,"\u0275\u0275pipeBind4",function(){return ky}),n.d(e,"\u0275\u0275pipeBindV",function(){return Ny}),n.d(e,"\u0275\u0275pureFunction0",function(){return my}),n.d(e,"\u0275\u0275pureFunction1",function(){return vy}),n.d(e,"\u0275\u0275pureFunction2",function(){return gy}),n.d(e,"\u0275\u0275pureFunction3",function(){return by}),n.d(e,"\u0275\u0275pureFunction4",function(){return _y}),n.d(e,"\u0275\u0275pureFunction5",function(){return wy}),n.d(e,"\u0275\u0275pureFunction6",function(){return Ey}),n.d(e,"\u0275\u0275pureFunction7",function(){return Sy}),n.d(e,"\u0275\u0275pureFunction8",function(){return Ty}),n.d(e,"\u0275\u0275pureFunctionV",function(){return Cy}),n.d(e,"\u0275\u0275getCurrentView",function(){return pc}),n.d(e,"\u0275getDirectives",function(){return vl}),n.d(e,"\u0275getHostElement",function(){return bl}),n.d(e,"\u0275\u0275restoreView",function(){return Tr}),n.d(e,"\u0275\u0275containerRefreshStart",function(){return Pu}),n.d(e,"\u0275\u0275containerRefreshEnd",function(){return Ru}),n.d(e,"\u0275\u0275queryRefresh",function(){return Zy}),n.d(e,"\u0275\u0275viewQuery",function(){return Jy}),n.d(e,"\u0275\u0275staticViewQuery",function(){return Xy}),n.d(e,"\u0275\u0275staticContentQuery",function(){return em}),n.d(e,"\u0275\u0275loadViewQuery",function(){return $y}),n.d(e,"\u0275\u0275contentQuery",function(){return tm}),n.d(e,"\u0275\u0275loadContentQuery",function(){return nm}),n.d(e,"\u0275\u0275elementEnd",function(){return oc}),n.d(e,"\u0275\u0275elementProperty",function(){return Uc}),n.d(e,"\u0275\u0275property",function(){return Vc}),n.d(e,"\u0275\u0275propertyInterpolate",function(){return Xc}),n.d(e,"\u0275\u0275propertyInterpolate1",function(){return Jc}),n.d(e,"\u0275\u0275propertyInterpolate2",function(){return $c}),n.d(e,"\u0275\u0275propertyInterpolate3",function(){return tl}),n.d(e,"\u0275\u0275propertyInterpolate4",function(){return el}),n.d(e,"\u0275\u0275propertyInterpolate5",function(){return nl}),n.d(e,"\u0275\u0275propertyInterpolate6",function(){return rl}),n.d(e,"\u0275\u0275propertyInterpolate7",function(){return il}),n.d(e,"\u0275\u0275propertyInterpolate8",function(){return ol}),n.d(e,"\u0275\u0275propertyInterpolateV",function(){return al}),n.d(e,"\u0275\u0275componentHostSyntheticProperty",function(){return Bc}),n.d(e,"\u0275\u0275componentHostSyntheticListener",function(){return vc}),n.d(e,"\u0275\u0275projectionDef",function(){return Sc}),n.d(e,"\u0275\u0275reference",function(){return Vu}),n.d(e,"\u0275\u0275enableBindings",function(){return hr}),n.d(e,"\u0275\u0275disableBindings",function(){return fr}),n.d(e,"\u0275\u0275allocHostVars",function(){return uu}),n.d(e,"\u0275\u0275elementAttribute",function(){return sc}),n.d(e,"\u0275\u0275elementContainerStart",function(){return cc}),n.d(e,"\u0275\u0275elementContainerEnd",function(){return lc}),n.d(e,"\u0275\u0275elementStyling",function(){return qu}),n.d(e,"\u0275\u0275elementStylingMap",function(){return Xu}),n.d(e,"\u0275\u0275elementStyleProp",function(){return Ku}),n.d(e,"\u0275\u0275elementStylingApply",function(){return $u}),n.d(e,"\u0275\u0275elementClassProp",function(){return Wu}),n.d(e,"\u0275\u0275elementHostAttrs",function(){return uc}),n.d(e,"\u0275\u0275elementHostStyling",function(){return zu}),n.d(e,"\u0275\u0275elementHostStylingMap",function(){return Ju}),n.d(e,"\u0275\u0275elementHostStyleProp",function(){return Gu}),n.d(e,"\u0275\u0275elementHostClassProp",function(){return Yu}),n.d(e,"\u0275\u0275elementHostStylingApply",function(){return tc}),n.d(e,"\u0275\u0275select",function(){return sl}),n.d(e,"\u0275\u0275textBinding",function(){return cl}),n.d(e,"\u0275\u0275template",function(){return Du}),n.d(e,"\u0275\u0275embeddedViewEnd",function(){return fc}),n.d(e,"\u0275store",function(){return Lu}),n.d(e,"\u0275\u0275load",function(){return Fu}),n.d(e,"\u0275\u0275pipe",function(){return Iy}),n.d(e,"\u0275whenRendered",function(){return Pl}),n.d(e,"\u0275\u0275i18n",function(){return Xd}),n.d(e,"\u0275\u0275i18nAttributes",function(){return Jd}),n.d(e,"\u0275\u0275i18nExp",function(){return ey}),n.d(e,"\u0275\u0275i18nStart",function(){return Hd}),n.d(e,"\u0275\u0275i18nEnd",function(){return Qd}),n.d(e,"\u0275\u0275i18nApply",function(){return ny}),n.d(e,"\u0275\u0275i18nPostprocess",function(){return Gd}),n.d(e,"\u0275i18nConfigureLocalize",function(){return cy}),n.d(e,"\u0275\u0275i18nLocalize",function(){return hy}),n.d(e,"\u0275setClassMetadata",function(){return yy}),n.d(e,"\u0275\u0275resolveWindow",function(){return nn}),n.d(e,"\u0275\u0275resolveDocument",function(){return rn}),n.d(e,"\u0275\u0275resolveBody",function(){return on}),n.d(e,"\u0275compileComponent",function(){return Om}),n.d(e,"\u0275compileDirective",function(){return Am}),n.d(e,"\u0275compileNgModule",function(){return bm}),n.d(e,"\u0275compileNgModuleDefs",function(){return _m}),n.d(e,"\u0275patchComponentDefWithScope",function(){return Sm}),n.d(e,"\u0275resetCompiledComponents",function(){return wm}),n.d(e,"\u0275flushModuleScopingQueueAsMuchAsPossible",function(){return vm}),n.d(e,"\u0275transitiveScopesFor",function(){return Tm}),n.d(e,"\u0275compilePipe",function(){return Vm}),n.d(e,"\u0275\u0275sanitizeHtml",function(){return zo}),n.d(e,"\u0275\u0275sanitizeStyle",function(){return Ho}),n.d(e,"\u0275\u0275defaultStyleSanitizer",function(){return Zo}),n.d(e,"\u0275\u0275sanitizeScript",function(){return Qo}),n.d(e,"\u0275\u0275sanitizeUrl",function(){return Ko}),n.d(e,"\u0275\u0275sanitizeResourceUrl",function(){return Go}),n.d(e,"\u0275\u0275sanitizeUrlOrResourceUrl",function(){return Yo}),n.d(e,"\u0275bypassSanitizationTrustHtml",function(){return io}),n.d(e,"\u0275bypassSanitizationTrustStyle",function(){return oo}),n.d(e,"\u0275bypassSanitizationTrustScript",function(){return ao}),n.d(e,"\u0275bypassSanitizationTrustUrl",function(){return so}),n.d(e,"\u0275bypassSanitizationTrustResourceUrl",function(){return uo}),n.d(e,"\u0275getLContext",function(){return ti}),n.d(e,"\u0275NG_ELEMENT_ID",function(){return je}),n.d(e,"\u0275NG_COMPONENT_DEF",function(){return Ne}),n.d(e,"\u0275NG_DIRECTIVE_DEF",function(){return De}),n.d(e,"\u0275NG_PIPE_DEF",function(){return Pe}),n.d(e,"\u0275NG_MODULE_DEF",function(){return Re}),n.d(e,"\u0275NG_BASE_DEF",function(){return Me}),n.d(e,"\u0275NG_INJECTABLE_DEF",function(){return D}),n.d(e,"\u0275NG_INJECTOR_DEF",function(){return P}),n.d(e,"\u0275bindPlayerFactory",function(){return oa}),n.d(e,"\u0275addPlayer",function(){return ll}),n.d(e,"\u0275getPlayers",function(){return hl}),n.d(e,"\u0275compileNgModuleFactory__POST_R3__",function(){return Jv}),n.d(e,"\u0275isBoundToModule__POST_R3__",function(){return $v}),n.d(e,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__",function(){return Gm}),n.d(e,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__",function(){return Qm}),n.d(e,"\u0275SWITCH_COMPILE_PIPE__POST_R3__",function(){return Wm}),n.d(e,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__",function(){return $m}),n.d(e,"\u0275getDebugNode__POST_R3__",function(){return Dg}),n.d(e,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__",function(){return _t}),n.d(e,"\u0275SWITCH_IVY_ENABLED__POST_R3__",function(){return hg}),n.d(e,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",function(){return rf}),n.d(e,"\u0275Compiler_compileModuleSync__POST_R3__",function(){return mv}),n.d(e,"\u0275Compiler_compileModuleAsync__POST_R3__",function(){return gv}),n.d(e,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__",function(){return _v}),n.d(e,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__",function(){return Ev}),n.d(e,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__",function(){return Nh}),n.d(e,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__",function(){return lf}),n.d(e,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",function(){return pf}),n.d(e,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__",function(){return Uh}),n.d(e,"\u0275getModuleFactory__POST_R3__",function(){return lm}),n.d(e,"\u0275registerNgModuleType",function(){return um}),n.d(e,"\u0275publishGlobalUtil",function(){return Ol}),n.d(e,"\u0275publishDefaultGlobalUtils",function(){return Il}),n.d(e,"\u0275createInjector",function(){return Zl}),n.d(e,"\u0275registerModuleFactory",function(){return am}),n.d(e,"\u0275EMPTY_ARRAY",function(){return cp}),n.d(e,"\u0275EMPTY_MAP",function(){return lp}),n.d(e,"\u0275and",function(){return Wg}),n.d(e,"\u0275ccf",function(){return Cp}),n.d(e,"\u0275cmf",function(){return S_}),n.d(e,"\u0275crt",function(){return Pf}),n.d(e,"\u0275did",function(){return Zp}),n.d(e,"\u0275eld",function(){return Yg}),n.d(e,"\u0275getComponentViewDefinitionFactory",function(){return Ip}),n.d(e,"\u0275inlineInterpolate",function(){return sp}),n.d(e,"\u0275interpolate",function(){return ap}),n.d(e,"\u0275mod",function(){return mp}),n.d(e,"\u0275mpd",function(){return yp}),n.d(e,"\u0275ncd",function(){return ob}),n.d(e,"\u0275nov",function(){return Lp}),n.d(e,"\u0275pid",function(){return Xp}),n.d(e,"\u0275prd",function(){return Jp}),n.d(e,"\u0275pad",function(){return ub}),n.d(e,"\u0275pod",function(){return cb}),n.d(e,"\u0275ppd",function(){return sb}),n.d(e,"\u0275qud",function(){return tb}),n.d(e,"\u0275ted",function(){return hb}),n.d(e,"\u0275unv",function(){return kf}),n.d(e,"\u0275vid",function(){return db});var r=n("mrSG"),i=n("pugT"),o=n("K9Ia"),a=n("6blF"),s=n("p0ib"),u=n("S1nX"),c="__annotations__",l="__parameters__",h="__prop__metadata__";function f(t,e,n,i,o){var a=p(e);function s(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof s)return a.call.apply(a,Object(r.__spread)([this],e)),this;var u=new((t=s).bind.apply(t,Object(r.__spread)([void 0],e)));return function(t){return o&&o.apply(void 0,Object(r.__spread)([t],e)),(t.hasOwnProperty(c)?t[c]:Object.defineProperty(t,c,{value:[]})[c]).push(u),i&&i(t),t}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s}function p(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,Object(r.__spread)(e));for(var o in i)this[o]=i[o]}}}function d(t,e,n){var i=p(e);function o(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof o)return i.apply(this,e),this;var a=new((t=o).bind.apply(t,Object(r.__spread)([void 0],e)));return s.annotation=a,s;function s(t,e,n){for(var r=t.hasOwnProperty(l)?t[l]:Object.defineProperty(t,l,{value:[]})[l];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function y(t,e,n,i){var o=p(e);function a(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof a)return o.apply(this,e),this;var s=new((t=a).bind.apply(t,Object(r.__spread)([void 0],e)));return function(t,n){var o=t.constructor,a=o.hasOwnProperty(h)?o[h]:Object.defineProperty(o,h,{value:{}})[h];a[n]=a.hasOwnProperty(n)&&a[n]||[],a[n].unshift(s),i&&i.apply(void 0,Object(r.__spread)([t,n],e))}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a}var m=function(t){return{token:t}},v=d("Inject",m),g=d("Optional"),b=d("Self"),_=d("SkipSelf"),w=d("Host"),E=function(t){return{attributeName:t}},S=d("Attribute",E),T=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function C(t){for(var e in t)if(t[e]===C)return e;throw Error("Could not find renamed property on target object.")}function I(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function O(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}var A=O;function x(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function k(t){return t&&t.hasOwnProperty(D)?t[D]:null}function N(t){return t&&t.hasOwnProperty(P)?t[P]:null}var D=C({ngInjectableDef:C}),P=C({ngInjectorDef:C});function R(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(R).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var M=C({__forward_ref__:C});function j(t){return t.__forward_ref__=j,t.toString=function(){return R(this())},t}function L(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(M)&&e.__forward_ref__===j?e():t}function V(){var t="undefined"!=typeof globalThis&&globalThis,e="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,r="undefined"!=typeof global&&global;return t||r||e||n}var F=V();function U(){var t=F.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}var B,q=void 0;function z(t){var e=q;return q=t,e}function H(t){var e=B;return B=t,e}function K(t,e){if(void 0===e&&(e=T.Default),void 0===q)throw new Error("inject() must be called from an injection context");return null===q?W(t,void 0,e):q.get(t,e&T.Optional?null:void 0,e)}function G(t,e){return void 0===e&&(e=T.Default),(B||K)(t,e)}var Q=G;function W(t,e,n){var r=k(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&T.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND ["+R(t)+"]")}function Y(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=T.Default,a=0;a<r.length;a++){var s=r[a];s instanceof g||"Optional"===s.ngMetadataName?o|=T.Optional:s instanceof _||"SkipSelf"===s.ngMetadataName?o|=T.SkipSelf:s instanceof b||"Self"===s.ngMetadataName?o|=T.Self:i=s instanceof v?s.token:s}e.push(G(i,o))}else e.push(G(r))}return e}var Z={"\u0275\u0275defineInjectable":O,"\u0275\u0275defineInjector":x,"\u0275\u0275inject":G,"\u0275\u0275getFactoryOf":function(t){var e=t,n=k(e)||N(e);return n&&void 0!==n.factory?n.factory:null}},X=Function;function J(t){return"function"==typeof t}var $=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,tt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,et=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,nt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/,rt=function(){function t(t){this._reflect=t||F.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,Object(r.__spread)([void 0],e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){var n=t.toString();if($.exec(n)||nt.exec(n)||tt.exec(n)&&!et.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var r=t.ctorParameters;if(r&&r!==e.ctorParameters){var i="function"==typeof r?r():r,o=i.map(function(t){return t&&t.type}),a=i.map(function(t){return t&&it(t.decorators)});return this._zipTypesAndAnnotations(o,a)}var s=t.hasOwnProperty(l)&&t[l],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return u||s?this._zipTypesAndAnnotations(u,s):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!J(t))return[];var e=ot(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?it(t.decorators):t.hasOwnProperty(c)?t[c]:null},t.prototype.annotations=function(t){if(!J(t))return[];var e=ot(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=it(r[t])}),i}return t.hasOwnProperty(h)?t[h]:null},t.prototype.propMetadata=function(t){if(!J(t))return{};var e=ot(t),n={};if(e!==Object){var i=this.propMetadata(e);Object.keys(i).forEach(function(t){n[t]=i[t]})}var o=this._ownPropMetadata(t,e);return o&&Object.keys(o).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,Object(r.__spread)(n[t])),e.push.apply(e,Object(r.__spread)(o[t])),n[t]=e}),n},t.prototype.ownPropMetadata=function(t){return J(t)&&this._ownPropMetadata(t,ot(t))||{}},t.prototype.hasLifecycleHook=function(t,e){return t instanceof X&&e in t.prototype},t.prototype.guards=function(t){return{}},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){return new Function("o","args","if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);")},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+R(t)},t.prototype.resourceUri=function(t){return"./"+R(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function it(t){return t?t.map(function(t){var e=t.type.annotationCls,n=t.args?t.args:[];return new(e.bind.apply(e,Object(r.__spread)([void 0],n)))}):[]}function ot(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}var at=null;function st(){return at=at||new rt}function ut(t){return ct(st().parameters(t))}function ct(t){var e=U();return t.map(function(t){return function(t,e){var n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)){if(0===e.length)throw new Error("Dependency array must have arguments.");for(var i=0;i<e.length;i++){var o=e[i];if(void 0!==o)if(o instanceof g||"Optional"===o.__proto__.ngMetadataName)n.optional=!0;else if(o instanceof _||"SkipSelf"===o.__proto__.ngMetadataName)n.skipSelf=!0;else if(o instanceof b||"Self"===o.__proto__.ngMetadataName)n.self=!0;else if(o instanceof w||"Host"===o.__proto__.ngMetadataName)n.host=!0;else if(o instanceof v)n.token=o.token;else if(o instanceof S){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else r(o)}}else r(e);return n}(e,t)})}function lt(t,e){var n=null;t.hasOwnProperty(D)||Object.defineProperty(t,D,{get:function(){if(null===n){var r=e||{providedIn:null},i=ft(r)||dt(r)||pt(r)||yt(r),o={name:t.name,type:t,typeArgumentCount:0,providedIn:r.providedIn,ctorDeps:ut(t),userDeps:void 0};if((ft(r)||dt(r))&&void 0!==r.deps&&(o.userDeps=ct(r.deps)),i)if(ft(r))o.useClass=r.useClass;else if(pt(r))o.useValue=r.useValue;else if(dt(r))o.useFactory=r.useFactory;else{if(!yt(r))throw new Error("Unreachable state.");o.useExisting=r.useExisting}else o.useClass=t;n=U().compileInjectable(Z,"ng:///"+t.name+"/ngInjectableDef.js",o)}return n}})}var ht=C({provide:String,useValue:C});function ft(t){return void 0!==t.useClass}function pt(t){return ht in t}function dt(t){return void 0!==t.useFactory}function yt(t){return void 0!==t.useExisting}var mt=C({provide:String,useValue:C}),vt=[];function gt(t,e){if(!e){var n=(c=new rt).parameters(t);return function(){return new(t.bind.apply(t,Object(r.__spread)([void 0],Y(n))))}}if(mt in e){var i=e;return function(){return i.useValue}}if(e.useExisting){var o=e;return function(){return G(o.useExisting)}}if(e.useFactory){var a=e;return function(){return a.useFactory.apply(a,Object(r.__spread)(Y(a.deps||vt)))}}if(e.useClass){var s=e,u=e.deps;if(!u){var c=new rt;u=c.parameters(t)}return function(){var t;return new((t=s.useClass).bind.apply(t,Object(r.__spread)([void 0],Y(u))))}}var l=e.deps;return l||(c=new rt,l=c.parameters(t)),function(){return new(t.bind.apply(t,Object(r.__spread)([void 0],Y(l))))}}var bt=f("Injectable",void 0,void 0,void 0,function(t,e){return wt(t,e)}),_t=lt,wt=function(t,e){e&&void 0!==e.providedIn&&!k(t)&&(t.ngInjectableDef=O({providedIn:e.providedIn,factory:gt(t,e)}))},Et=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=O({providedIn:e.providedIn||"root",factory:e.factory}))}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),St="__source",Tt=new Object,Ct=Tt,It=new Et("INJECTOR",-1),Ot=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=Tt),e===Tt){var n=new Error("NullInjectorError: No provider for "+R(t)+"!");throw n.name="NullInjectorError",n}return e},t}(),At=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new Vt(t,e):new Vt(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=Tt,t.NULL=new Ot,t.ngInjectableDef=O({providedIn:"any",factory:function(){return G(It)}}),t.__NG_ELEMENT_ID__=-1,t}(),xt=function(t){return t},kt=[],Nt=xt,Dt=function(){return Array.prototype.slice.call(arguments)},Pt=C({provide:String,useValue:C}),Rt="ngTokenPath",Mt="ngTempTokenPath",jt=/\n/gm,Lt="\u0275",Vt=function(){function t(t,e,n){void 0===e&&(e=At.NULL),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(At,{token:At,fn:xt,deps:kt,value:this,useNew:!1}),r.set(It,{token:It,fn:xt,deps:kt,value:this,useNew:!1}),function t(e,n){if(n)if((n=L(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw qt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw qt("Unexpected provider",n);var i=L(n.provide),o=function(t){var e=function(t){var e=kt,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=L(n[r]))instanceof Array)for(var o=0,a=u;o<a.length;o++){var s=a[o];s instanceof g||s==g?i|=1:s instanceof _||s==_?i&=-3:s instanceof b||s==b?i&=-5:u=s instanceof v?s.token:L(s)}e.push({token:u,options:i})}}else if(t.useExisting){var u;e=[{token:u=L(t.useExisting),options:6}]}else if(!(n||Pt in t))throw qt("'deps' required",t);return e}(t),n=xt,r=kt,i=!1,o=L(t.provide);if(Pt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=L(t.useClass);else{if("function"!=typeof o)throw qt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==Dt)throw Ft(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:Dt,value:kt});a.deps.push({token:i=n,options:6})}var s=e.get(i);if(s&&s.fn==Dt)throw Ft(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=T.Default);var i=this._records.get(t);try{return function t(e,n,i,o,a,s){try{return function(e,n,i,o,a,s){var u,c;if(!n||s&T.SkipSelf)s&T.Self||(c=o.get(e,a,T.Default));else{if((c=n.value)==Nt)throw Error(Lt+"Circular dependency");if(c===kt){n.value=Nt;var l=n.useNew,h=n.fn,f=n.deps,p=kt;if(f.length){p=[];for(var d=0;d<f.length;d++){var y=f[d],m=y.options,v=2&m?i.get(y.token):void 0;p.push(t(y.token,v,i,v||4&m?o:At.NULL,1&m?null:At.THROW_IF_NOT_FOUND,T.Default))}}n.value=c=l?new((u=h).bind.apply(u,Object(r.__spread)([void 0],p))):h.apply(void 0,p)}}return c}(e,n,i,o,a,s)}catch(u){throw u instanceof Error||(u=new Error(u)),(u[Mt]=u[Mt]||[]).unshift(e),n&&n.value==Nt&&(n.value=kt),u}}(t,i,this._records,this.parent,e,n)}catch(o){return Ut(o,t,"StaticInjectorError",this.source)}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(R(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function Ft(t){return qt("Cannot mix multi providers and regular providers",t)}function Ut(t,e,n,r){var i=t[Mt];throw e[St]&&i.unshift(e[St]),t.message=Bt("\n"+t.message,i,n,r),t[Rt]=i,t[Mt]=null,t}function Bt(t,e,n,r){void 0===r&&(r=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Lt?t.substr(2):t;var i=R(e);if(e instanceof Array)i=e.map(R).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):R(s)))}i="{"+o.join(", ")+"}"}return n+(r?"("+r+")":"")+"["+i+"]: "+t.replace(jt,"\n  ")}function qt(t,e){return new Error(Bt(t,e,"StaticInjectorError"))}var zt="ngDebugContext",Ht="ngOriginalError",Kt="ngErrorLogger";function Gt(t){return t.length>1?" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(t){return R(t.token)}).join(" -> ")+")":""}function Qt(t,e,n,r){var i=[e],o=n(i),a=r?function(t,e){var n=o+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[Ht]=e,r}(0,r):Error(o);return a.addKey=Wt,a.keys=i,a.injectors=[t],a.constructResolvingMessage=n,a[Ht]=r,a}function Wt(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function Yt(t,e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];n.push(o&&0!=o.length?o.map(R).join(" "):"?")}return Error("Cannot resolve all parameters for '"+R(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+R(t)+"' is decorated with Injectable.")}var Zt=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=R(this.token)}return t.get=function(t){return Xt.get(L(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return Xt.numberOfKeys},enumerable:!0,configurable:!0}),t}(),Xt=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof Zt)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new Zt(t,Zt.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),Jt=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new rt),$t=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),te=[],ee=function(){return function(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}(),ne=function(){return function(t,e){this.factory=t,this.dependencies=e}}();function re(t){var e,n;if(t.useClass){var r=L(t.useClass);e=Jt.factory(r),n=ae(r)}else t.useExisting?(e=function(t){return t},n=[$t.fromKey(Zt.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return se(t,e,n)})}return ae(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=te);return new ne(e,n)}function ie(t){return new ee(Zt.get(t.provide),[re(t)],t.multi||!1)}function oe(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+i+" "+r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var a;a=r.multiProvider?new ee(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,a)}}return e}(function t(e,n){return e.forEach(function(e){if(e instanceof X)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}}),n}(t,[]).map(ie),new Map);return Array.from(e.values())}function ae(t){var e=Jt.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw Yt(t,e);return e.map(function(n){return se(t,n,e)})}function se(t,e,n){var r=null,i=!1;if(!Array.isArray(e))return ue(e instanceof v?e.token:e,i,null);for(var o=null,a=0;a<e.length;++a){var s=e[a];s instanceof X?r=s:s instanceof v?r=s.token:s instanceof g?i=!0:s instanceof b||s instanceof _?o=s:s instanceof Et&&(r=s)}if(null!=(r=L(r)))return ue(r,i,o);throw Yt(t,n)}function ue(t,e,n){return new $t(Zt.get(t),e,n)}var ce=new Object,le=function(){function t(){}return t.resolve=function(t){return oe(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new he(t,e)},t}(),he=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=ce}return t.prototype.get=function(t,e){return void 0===e&&(e=Ct),this._getByKey(Zt.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=le.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n.parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(le.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Qt(this,t.key,function(t){return"Cannot instantiate cyclic dependency!"+Gt(t)});return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,i,o,a=this,s=e.factory;try{n=e.dependencies.map(function(t){return a._getByReflectiveDependency(t)})}catch(u){throw u.addKey&&u.addKey(this,t.key),u}try{i=s.apply(void 0,Object(r.__spread)(n))}catch(u){throw Qt(this,t.key,function(t){var e=R(t[0].token);return o.message+": Error during instantiation of "+e+"!"+Gt(t)+"."},o=u)}return i},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:Ct)},t.prototype._getByKey=function(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof b?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===ce&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return ce},t.prototype._throwOrNull=function(t,e){if(e!==Ct)return e;throw function(t,e){return Qt(t,e,function(t){return"No provider for "+R(t[0].token)+"!"+Gt(t)})}(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==ce?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof _?this.parent:this;i instanceof t;){var o=i,a=o._getObjByKeyId(e.id);if(a!==ce)return a;i=o.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=' "'+t.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=Zt.get(At),t}(),fe=new Et("AnalyzeForEntryComponents"),pe=function(){return function(){}}(),de=y("ContentChildren",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},pe),ye=y("ContentChild",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},pe),me=y("ViewChildren",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},pe),ve=y("ViewChild",function(t,e){return Object(r.__assign)({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},pe),ge=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),be=function(t){return t[t.CheckOnce=0]="CheckOnce",t[t.Checked=1]="Checked",t[t.CheckAlways=2]="CheckAlways",t[t.Detached=3]="Detached",t[t.Errored=4]="Errored",t[t.Destroyed=5]="Destroyed",t}({});function _e(t){return null==t||t===ge.Default}function we(t){var e=[],n=new Map;function r(e){var r=n.get(e);if(!r){var i=t(e);n.set(e,r=i.then(Ie))}return r}return Ee.forEach(function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then(function(e){t.template=e}));var o=t.styleUrls,a=t.styles||(t.styles=[]),s=t.styles.length;o&&o.forEach(function(e,n){a.push(""),i.push(r(e).then(function(r){a[s+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});var u=Promise.all(i).then(function(){return function(t){Se.delete(t)}(n)});e.push(u)}),Ce(),Promise.all(e).then(function(){})}var Ee=new Map,Se=new Set;function Te(t){return!!(t.templateUrl&&!t.template||t.styleUrls&&t.styleUrls.length)}function Ce(){var t=Ee;return Ee=new Map,t}function Ie(t){return"string"==typeof t?t:t.text()}var Oe=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});function Ae(t){return""+{toString:t}}var xe={},ke=[],Ne=C({ngComponentDef:C}),De=C({ngDirectiveDef:C}),Pe=C({ngPipeDef:C}),Re=C({ngModuleDef:C}),Me=C({ngBaseDef:C}),je=C({__NG_ELEMENT_ID__:C}),Le=0;function Ve(t){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,consts:t.consts,vars:t.vars,factory:t.factory,template:t.template||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===ge.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Oe.Emulated,id:"c",styles:t.styles||ke,_:null,setInput:null,schemas:t.schemas||null};return i._=Ae(function(){var n=t.directives,o=t.features,a=t.pipes;i.id+=Le++,i.inputs=He(t.inputs,r),i.outputs=He(t.outputs),o&&o.forEach(function(t){return t(i)}),i.directiveDefs=n?function(){return("function"==typeof n?n():n).map(Ue)}:null,i.pipeDefs=a?function(){return("function"==typeof a?a():a).map(Be)}:null,e.hasOwnProperty(D)||(e[D]=O({factory:t.factory}))}),i}function Fe(t,e,n){var r=t.ngComponentDef;r.directiveDefs=function(){return e.map(Ue)},r.pipeDefs=function(){return n.map(Be)}}function Ue(t){return We(t)||Ye(t)}function Be(t){return Ze(t)}function qe(t){return{type:t.type,bootstrap:t.bootstrap||ke,declarations:t.declarations||ke,imports:t.imports||ke,exports:t.exports||ke,transitiveCompileScopes:null,schemas:t.schemas||null}}function ze(t,e){return Ae(function(){var n=Je(t,!0);n.declarations=e.declarations||ke,n.imports=e.imports||ke,n.exports=e.exports||ke})}function He(t,e){if(null==t)return xe;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Ke(t){var e={};return{inputs:He(t.inputs,e),declaredInputs:e,outputs:He(t.outputs),viewQuery:t.viewQuery||null,contentQueries:t.contentQueries||null}}var Ge=Ve;function Qe(t){return{name:t.name,factory:t.factory,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function We(t){return t[Ne]||null}function Ye(t){return t[De]||null}function Ze(t){return t[Pe]||null}function Xe(t){return t[Me]||null}function Je(t,e){var n=t[Re]||null;if(!n&&!0===e)throw new Error("Type "+R(t)+" does not have 'ngModuleDef' property.");return n}function $e(t){return"function"==typeof t?t.name||t:"string"==typeof t?t:null==t?"":""+t}function tn(t){return"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type:$e(t)}var en=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(F)}();function nn(t){return{name:"window",target:t.ownerDocument.defaultView}}function rn(t){return{name:"document",target:t.ownerDocument}}function on(t){return{name:"body",target:t.ownerDocument.body}}var an="\ufffd";function sn(t){return t.indexOf(an)>=0}function un(t){return t instanceof Function?t():t}var cn=0,ln=1,hn=2,fn=3,pn=4,dn=5,yn=6,mn=7,vn=8,gn=9,bn=10,_n=11,wn=12,En=13,Sn=14,Tn=15,Cn=16,In=17,On=18,An=20,xn=1,kn=2,Nn=7,Dn=8,Pn="__ngContext__";function Rn(t){for(;Array.isArray(t);)t=t[cn];return t}function Mn(t){return Array.isArray(t)&&"object"==typeof t[xn]}function jn(t){return Array.isArray(t)&&!0===t[xn]}function Ln(t,e){return Rn(e[t+An])}function Vn(t,e){return Rn(e[t.index])}function Fn(t,e){return e[ln].data[t+An]}function Un(t,e){return t[e+An]}function Bn(t,e){var n=e[t];return Mn(n)?n:n[cn]}function qn(t){return 1==(1&t.flags)}function zn(t){return null!==t.template}function Hn(t){return 0!=(512&t[hn])}function Kn(t){return t[Pn]}function Gn(t){var e=Kn(t);return e?Array.isArray(e)?e:e.lView:null}function Qn(t){return jn(t[fn])}function Wn(t){t[On]=0}var Yn=8,Zn=8,Xn=9,Jn=-1,$n=function(){return function(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}();function tr(t,e,n,r,i,o){var a=e.onChanges,s=e.onInit,u=e.doCheck;i>=0&&(!n.preOrderHooks||i===n.preOrderHooks.length)&&(a||s||u)&&(n.preOrderHooks||(n.preOrderHooks=[])).push(r),o>=0&&(!n.preOrderCheckHooks||o===n.preOrderCheckHooks.length)&&(a||u)&&(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(r),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a)),s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,s),u&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,u))}function er(t,e){if(t.firstTemplatePass)for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function nr(t,e,n,r){n||rr(t,e.preOrderHooks,e.preOrderCheckHooks,n,0,void 0!==r?r:null)}function rr(t,e,n,r,i,o){if(!r){var a=(3&t[hn])===i?e:n;a&&function(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[On]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[On]+=65536),(o<i||-1==i)&&(ir(t,n,e,a),t[On]=(4294901760&t[On])+a+2),a++}(t,a,i,o),null==o&&(3&t[hn])===i&&3!==i&&(t[hn]&=1023,t[hn]+=1)}}function ir(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[hn]>>10<t[On]>>16&&(3&t[hn])===e&&(t[hn]+=1024,o.call(a)):o.call(a)}var or,ar=null;function sr(t){ar=t}var ur,cr=null;function lr(t){cr=t}function hr(){ur=!0}function fr(){ur=!1}function pr(){return mr}var dr,yr,mr,vr=1,gr=vr,br=0,_r=0;function wr(t){void 0===t&&(t=null),Hr!==t&&(Gr(null==t?-1:t),gr=vr,br=0,_r=0)}function Er(){gr+=1+_r,br=0,_r=0}function Sr(t){br+=t,_r=Math.max(_r,br)}function Tr(t){Nr=t}function Cr(){return dr}function Ir(t){dr=t}function Or(t,e){dr=t,mr=e}function Ar(){return yr}function xr(t){yr=t}function kr(t){return void 0===t&&(t=mr),4==(4&t[hn])}var Nr=null,Dr=!1;function Pr(){return Dr}function Rr(t){Dr=t}var Mr=-1;function jr(){return Mr}function Lr(t){Mr=t}var Vr=0;function Fr(){return Vr}function Ur(t){Vr=t}function Br(t,e){var n=mr;return t&&(Mr=t[ln].bindingStartIndex),dr=e,yr=!0,mr=Nr=t,n}function qr(t){return void 0===t&&(t=1),(Nr=function(t,e){for(;t>0;)e=e[In],t--;return e}(t,Nr))[gn]}function zr(t){var e=mr[ln];if(kr(mr))mr[hn]&=-5;else try{Wn(mr),rr(mr,e.viewHooks,e.viewCheckHooks,Dr,2,void 0)}finally{mr[hn]&=-73,mr[mn]=e.bindingStartIndex}sr(null),Br(t,null)}var Hr=-1;function Kr(){return Hr}function Gr(t){Hr=t,sr(null)}var Qr=null;function Wr(){Qr="http://www.w3.org/2000/svg"}function Yr(){Qr="http://www.w3.org/1998/MathML/"}function Zr(){Qr=null}var Xr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Jr(t){return!!t.listen}var $r={createRenderer:function(t,e){return document}};function ti(t){var e,n=Kn(t);if(n){if(Array.isArray(n)){var r=n,i=void 0,o=void 0,a=void 0;if((e=t)&&e.constructor&&e.constructor.ngComponentDef){if(-1==(i=ai(r,t)))throw new Error("The provided component was not found in the application");o=t}else if(t&&t.constructor&&t.constructor.ngDirectiveDef){if(-1==(i=function(t,e){for(var n=t[ln].firstChild;n;){for(var r=n.directiveEnd,i=n.directiveStart;i<r;i++)if(t[i]===e)return n.index;n=oi(n)}return-1}(r,t)))throw new Error("The provided directive was not found in the application");a=si(i,r,!1)}else if(-1==(i=ii(r,t)))return null;var s=Kn(d=Rn(r[i])),u=s&&!Array.isArray(s)?s:ei(r,i,d);if(o&&void 0===u.component&&(u.component=o,ri(u.component,u)),a&&void 0===u.directives){u.directives=a;for(var c=0;c<a.length;c++)ri(a[c],u)}ri(u.native,u),n=u}}else for(var l=t,h=l;h=h.parentNode;){var f=Kn(h);if(f){if(r=void 0,!(r=Array.isArray(f)?f:f.lView))return null;var p=ii(r,l);if(p>=0){var d;ri(d=Rn(r[p]),u=ei(r,p,d)),n=u;break}}}return n||null}function ei(t,e,n){return{lView:t,nodeIndex:e,native:n,component:void 0,directives:void 0,localRefs:void 0}}function ni(t){var e,n=Kn(t);if(Array.isArray(n)){var r=ai(n,t);(i=ei(n,r,(e=Bn(r,n))[cn])).component=t,ri(t,i),ri(i.native,i)}else{var i;e=Bn((i=n).nodeIndex,i.lView)}return e}function ri(t,e){t[Pn]=e}function ii(t,e){for(var n=t[ln].firstChild;n;){if(Vn(n,t)===e)return n.index;n=oi(n)}return-1}function oi(t){if(t.child)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function ai(t,e){var n=t[ln].components;if(n)for(var r=0;r<n.length;r++){var i=n[r];if(Bn(i,t)[gn]===e)return i}else if(Bn(An,t)[gn]===e)return An;return-1}function si(t,e,n){var r=e[ln].data[t],i=r.directiveStart;return 0==i?ke:(!n&&1&r.flags&&i++,e.slice(i,r.directiveEnd))}var ui=function(){function t(){this._players=[]}return t.prototype.flushPlayers=function(){for(var t=0;t<this._players.length;t++){var e=this._players[t];e.parent||0!==e.state||e.play()}this._players.length=0},t.prototype.queuePlayer=function(t){this._players.push(t)},t}(),ci=0,li="@";function hi(t,e,n,r){var i=[t||null,0,[],n||[null,null],r||[null,null],[0,0],[0],[0],null,null];return fi(i,ci),i}function fi(t,e,n,r){void 0===n&&(n=-1);for(var i=t[2],o=2*e,a=o+2,s=i.length;s<a;s+=2)i.push(-1,null);var u=o+0;n>=0&&-1===i[u]&&(i[u]=n,i[o+1]=r||null)}function pi(t,e){for(var n=t,r=e[n],i=e;Array.isArray(r);)i=r,r=r[cn];if(o=i,Array.isArray(o)&&"number"==typeof o[xn])return i;var o,a=Fn(t-An,e).stylingTemplate;return i!==e&&(n=cn),i[n]=a?function(t,e){for(var n=e.slice(),r=0;r<10;r++){var i=e[r];Array.isArray(i)&&(n[r]=i.slice())}return n[0]=t,n[1]|=16,n}(r,a):hi(r)}function di(t){return t[0]===li}function yi(t){return 0!=(8&t.flags)}function mi(t){return 0!=(16&t.flags)}function vi(t,e,n,r,i,o){return o=o||n,i?t[i]=r:t.push(r),!!r&&(r.addEventListener(200,function(){var e=t.indexOf(r);e&&(e<t[0]?t[e]=null:t.splice(e,1)),r.destroy()}),(e.playerHandler||(e.playerHandler=new ui)).queuePlayer(r,o),!0)}function gi(t){return t[9]}function bi(t){return t[9]=[5,null,null,null,null]}function _i(t,e){for(var n=pr()[wn],r=Jr(n),i=0;i<e.length;){var o=e[i];if("number"==typeof o){if(0!==o)break;i++;var a=e[i++],s=e[i++],u=e[i++];r?n.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else u=e[++i],di(s=o)?r&&n.setProperty(t,s,u):r?n.setAttribute(t,s,u):t.setAttribute(s,u),i++}return i}function wi(t,e){for(var n=e;n<t.length;n++){var r=t[n];if(1===r||2===r)return n}return-1}function Ei(t){return 3===t||4===t}function Si(t){return t!==Jn}function Ti(t){return 32767&t}function Ci(t){return t>>16}function Ii(t,e){for(var n=Ci(t),r=e;n>0;)r=r[In],n--;return r}function Oi(t){var e=t[fn];return jn(e)?e[fn]:e}function Ai(t){for(var e=t[yn];e&&2===e.type;)e=(t=t[In])[yn];return t}function xi(t){return function(t){for(var e=Mn(t)?t:Gn(t);e&&!(512&e[hn]);)e=Oi(e);return e}(t)[gn]}var ki=!0;function Ni(t){var e=ki;return ki=t,e}var Di=255,Pi=0;function Ri(t,e){var n=ji(t,e);if(-1!==n)return n;var r=e[ln];r.firstTemplatePass&&(t.injectorIndex=e.length,Mi(r.data,t),Mi(e,null),Mi(r.blueprint,null));var i=Li(t,e),o=Ti(i),a=Ii(i,e),s=t.injectorIndex;if(Si(i))for(var u=a[ln].data,c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c];return e[s+Zn]=i,s}function Mi(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ji(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+Zn]?-1:t.injectorIndex}function Li(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[yn],r=1;n&&-1===n.injectorIndex;)n=(e=e[In])?e[yn]:null,r++;return n?n.injectorIndex|r<<16:-1}function Vi(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[je]:n.charCodeAt(0)||0;null==r&&(r=n[je]=Pi++);var i=r&Di,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e[ln],n)}function Fi(t,e){var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Ei(o))break;if(0===o)i+=2;else if("number"==typeof o){if(i++,1===o&&"class"===e){for(var a="";i<r&&"string"==typeof n[i];)a+=" "+n[i++];return a.trim()}if(2===o&&"style"===e){for(var s="";i<r&&"string"==typeof n[i];)s+=n[i++]+": "+n[i++]+"; ";return s.trim()}for(;i<r&&"string"==typeof n[i];)i++}else{if(o===e)return n[i+1];i+=2}}return null}function Ui(t,e,n,r,i){if(void 0===r&&(r=T.Default),t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[je];return"number"==typeof e&&e>0?e&Di:e}(n);if("function"==typeof o){var a=Cr(),s=pr();Or(t,e);try{var u=o();if(null!=u||r&T.Optional)return u;throw new Error("No provider for "+tn(n)+"!")}finally{Or(a,s)}}else if("number"==typeof o){if(-1===o)return new Qi(t,e);var c=null,l=ji(t,e),h=Jn,f=r&T.Host?Ai(e)[yn]:null;for((-1===l||r&T.SkipSelf)&&(h=-1===l?Li(t,e):e[l+Zn],Gi(r,!1)?(c=e[ln],l=Ti(h),e=Ii(h,e)):l=-1);-1!==l;){h=e[l+Zn];var p=e[ln];if(Ki(o,l,p.data)){var d=qi(l,e,n,c,r,f);if(d!==Bi)return d}Gi(r,e[ln].data[l+Yn]===f)&&Ki(o,l,e)?(c=p,l=Ti(h),e=Ii(h,e)):l=-1}}}if(r&T.Optional&&void 0===i&&(i=null),0==(r&(T.Self|T.Host))){var y=e[bn],m=H(void 0);try{return y?y.get(n,i,r&T.Optional):W(n,i,r&T.Optional)}finally{H(m)}}if(r&T.Optional)return i;throw new Error("NodeInjector: NOT_FOUND ["+tn(n)+"]")}var Bi={};function qi(t,e,n,r,i,o){var a=e[ln],s=a.data[t+Yn],u=zi(s,e,n,null==r?qn(s)&&ki:r!=a&&3===s.type,i&T.Host&&o===s);return null!==u?Hi(a.data,e,u,s):Bi}function zi(t,e,n,r,i){for(var o=t.providerIndexes,a=e[ln].data,s=65535&o,u=t.directiveStart,c=o>>16,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var p=a[u];if(p&&zn(p)&&p.type===n)return u}return null}function Hi(t,e,n,r){var i,o=e[n];if(null!==(i=o)&&"object"==typeof i&&Object.getPrototypeOf(i)==$n.prototype){var a=o;if(a.resolving)throw new Error("Circular dep for "+tn(t[n]));var s=Ni(a.canSeeViewProviders);a.resolving=!0;var u=void 0;a.injectImpl&&(u=H(a.injectImpl));var c=Cr(),l=pr();Or(r,e);try{o=e[n]=a.factory(null,t,e,r)}finally{a.injectImpl&&H(u),Ni(s),a.resolving=!1,Or(c,l)}}return o}function Ki(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function Gi(t,e){return!(t&T.Self||t&T.Host&&e)}var Qi=function(){function t(t,e){this._tNode=t,this._lView=e}return t.prototype.get=function(t,e){return Ui(this._tNode,this._lView,t,void 0,e)},t}();function Wi(t){var e=t,n=We(e)||Ye(e)||Ze(e)||k(e)||N(e);return n&&void 0!==n.factory?n.factory:null}function Yi(t){var e=Wi(Object.getPrototypeOf(t.prototype).constructor);return null!==e?e:function(t){return new t}}function Zi(t){return t[zt]}function Xi(t){return t[Ht]}function Ji(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(r.__spread)(e))}var $i=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Kt]||Ji}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?Zi(t)?Zi(t):this._findContext(Xi(t)):null},t.prototype._findOriginalError=function(t){for(var e=Xi(t);e&&Xi(e);)e=Xi(e);return e},t}(),to={name:"custom-elements"},eo={name:"no-errors-schema"},no="__SANITIZER_TRUSTED_BRAND__";function ro(t,e){return t instanceof String&&t[no]===e}function io(t){return co(t,"Html")}function oo(t){return co(t,"Style")}function ao(t){return co(t,"Script")}function so(t){return co(t,"Url")}function uo(t){return co(t,"ResourceUrl")}function co(t,e){var n=new String(t);return n[no]=e,n}var lo=!0,ho=!1;function fo(){return ho=!0,lo}function po(){if(ho)throw new Error("Cannot enable prod mode after platform setup.");lo=!1}var yo=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),mo=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,vo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function go(t){return(t=String(t)).match(mo)||t.match(vo)?t:(fo()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function bo(t){return(t=String(t)).split(",").map(function(t){return go(t.trim())}).join(", ")}function _o(t){var e,n,i={};try{for(var o=Object(r.__values)(t.split(",")),a=o.next();!a.done;a=o.next())i[a.value]=!0}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function wo(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={};try{for(var a=Object(r.__values)(n),s=a.next();!s.done;s=a.next()){var u=s.value;for(var c in u)u.hasOwnProperty(c)&&(o[c]=!0)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return o}var Eo,So=_o("area,br,col,hr,img,wbr"),To=_o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Co=_o("rp,rt"),Io=wo(Co,To),Oo=wo(So,wo(To,_o("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wo(Co,_o("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Io),Ao=_o("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xo=_o("srcset"),ko=wo(Ao,xo,_o("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_o("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),No=_o("script,style,template"),Do=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(!Oo.hasOwnProperty(e))return this.sanitizedSomething=!0,!No.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(ko.hasOwnProperty(a)){var s=i.value;Ao[a]&&(s=go(s)),xo[a]&&(s=bo(s)),this.buf.push(" ",o,'="',Mo(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();Oo.hasOwnProperty(e)&&!So.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(Mo(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),Po=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ro=/([^\#-~ |!])/g;function Mo(t){return t.replace(/&/g,"&amp;").replace(Po,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ro,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function jo(t,e){var n=null;try{Eo=Eo||new yo(t);var r=e?String(e):"";n=Eo.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Eo.getInertBodyElement(r)}while(r!==o);var a=new Do,s=a.sanitizeChildren(Lo(n)||n);return fo()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=Lo(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function Lo(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Vo=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),Fo=function(){return function(){}}(),Uo=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Bo=/^url\(([^)]+)\)$/;function qo(t){if(!(t=String(t).trim()))return"";var e=t.match(Bo);return e&&go(e[1])===e[1]||t.match(Uo)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(fo()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}function zo(t){var e=Xo();return e?e.sanitize(Vo.HTML,t)||"":ro(t,"Html")?t.toString():jo(document,$e(t))}function Ho(t){var e=Xo();return e?e.sanitize(Vo.STYLE,t)||"":ro(t,"Style")?t.toString():qo($e(t))}function Ko(t){var e=Xo();return e?e.sanitize(Vo.URL,t)||"":ro(t,"Url")?t.toString():go($e(t))}function Go(t){var e=Xo();if(e)return e.sanitize(Vo.RESOURCE_URL,t)||"";if(ro(t,"ResourceUrl"))return t.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Qo(t){var e=Xo();if(e)return e.sanitize(Vo.SCRIPT,t)||"";if(ro(t,"Script"))return t.toString();throw new Error("unsafe value used in a script context")}function Wo(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Go:Ko}function Yo(t,e,n){return Wo(e,n)(t)}var Zo=function(t,e){return void 0===e?"background-image"===t||"background"===t||"border-image"===t||"filter"===t||"list-style"===t||"list-style-image"===t:Ho(e)};function Xo(){var t=pr();return t&&t[En]}var Jo=/([A-Z])/g;function $o(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}var ta={marker:"element"},ea={marker:"comment"};function na(t){throw new Error("Multiple components match node with tagname "+t.tagName)}var ra={};function ia(t,e,n,r){var i=t[8],o=function(t,e){for(var n=1;n<t.length;n+=3)if(t[n+0]>e)return n;return t.length}(i,e);i.splice(o,0,e,n,r)}function oa(t,e){return new aa(t,e)}var aa=function(){return function(t,e){this.fn=t,this.value=e}}();function sa(t,e,n){void 0===n&&(n=0);var r=hi();return ua(r,t,e,n),r}function ua(t,e,n,r){if(!(16&t[1])){fi(t,r);for(var i=null,o=null,a=-1,s=n;s<e.length;s++){var u=e[s];"number"==typeof u?a=u:1==a?ca(i=i||t[4],u,!0,r):2==a&&ca(o=o||t[3],u,e[++s],r)}}}function ca(t,e,n,r){for(var i=2;i<t.length;i+=3)if(t[i+0]===e)return void(Ja(t[i+1],n,t[i+2],r)&&is(i,t,e,n,r));is(null,t,e,n,r)}function la(t,e,n,r){for(var i=e[4],o=r||2;o<i.length;)i[o+1]&&ba(t,i[o+0],!0,n,null),o+=3;return o}function ha(t,e,n,r){for(var i=e[3],o=r||2;o<i.length;){var a=i[o+1];a&&ga(t,i[o+0],a,n,null),o+=3}return o}function fa(t,e,n,r){for(var i=n;i<r;i+=4)if(Fa(t,i)===e)return i;return-1}function pa(t,e,n,r){void 0===r&&(r=0),n=n||null;var i=es(t,!0,r,e=e||null),o=es(t,!1,r,n);if(!i||!o){e=e===ra?ts(t,!0,r):e,n=n===ra?ts(t,!1,r):n;var a=t[0],s=e instanceof aa?new Wa(e,a,1):null,u=n instanceof aa?new Wa(n,a,2):null,c=s?e.value:e,l=u?n.value:n,h=ke,f=!1,p=!1,d=s?1:0;Na(t,s,1)&&(Da(t,s,1),p=!0);var y=u?3:0;Na(t,u,3)&&(Da(t,u,3),p=!0),i||("string"==typeof c?(h=c.split(/\s+/),f=!0):h=c?Object.keys(c):ke);var m=Aa(t),v=function(t){return t[6][2]}(t),g=t.length;if(!o){var b=da(t,r,y,m,v,l?Object.keys(l):ke,l||xe,n,!1);b&&(v+=4*b,g+=4*b)}i||da(t,r,d,v,g,h,f||c||xe,e,!0),p&&Ba(t,!0)}}function da(t,e,n,r,i,o,a,s,u){for(var c=!1,l=1+4*e,h=t[u?6:7],f=h[l+1],p=h[l+3],d=1===h[l+0]||!(h[l+2]||!s),y=0,m=0,v=!0===a,g=r,b=o.length;g<f;){var _=Fa(t,g);if(b)for(var w=0;w<o.length;w++)if((A=(O=o[w])?u?O:ns(O):null)&&_===A){var E=Va(t,g),S=Ya(t,g),T=!!v||a[A],C=La(t,g);Qa(C,E,T)&&Ja(E,T,S,e)&&(ka(t,g,T),Pa(t,g,n,e),Ga(t,C,T)&&(_a(t,g,!0),c=!0)),o[w]=null,b--;break}g+=4}if(b){var I=u?null:Xa(t,e);t:for(w=0;w<o.length;w++){var O;if(O=o[w]){T=!!v||a[O];for(var A=u?O:ns(O),x=g>=f,k=g;k<i;k+=4)if(Fa(t,k)===A){var N=Ya(t,k),D=Ra(t,k),P=Va(t,k),R=La(t,k);Ja(P,T,N,e)&&(x&&(qa(t,g,k),y++),Qa(R,P,T)&&((null===T||void 0===T&&T!==P)&&(d=!0),ka(t,g,T),(null!==P||Ga(t,R,T))&&(_a(t,g,!0),c=!0)),N===e&&n===D||Pa(t,g,n,e)),g+=4;continue t}null!=T&&(d=!0,y++,za(t,x?g:f+4*m,u,A,1|Ka(t,A,u,I),T,e,n),m++,i+=4,g+=4,c=!0)}}}for(;g<i;){d=!0;var M=Va(t,g),j=La(t,g);Ya(t,g),null!=M&&(d=!0),Qa(j,M,null)&&(ka(t,g,null),Ga(t,j,M)&&(_a(t,g,!0),c=!0),Pa(t,g,n,e)),g+=4}return function(t,e,n,r,i,o,a,s){var u=t[n?6:7],c=1+4*e;if(s)for(var l=i+4*a,h=c+4;h<u.length;h+=4)u[h+1]=l,u[h+0]=1;u[c+0]=0,u[c+1]=i,u[c+2]=r,u[c+3]=a;var f=a;for(h=1;h<c;h+=4)f+=u[h+3];if(!n){var p=t[6],d=o-p[2];for(h=1;h<p.length;h+=4)p[h+1]+=d}u[0]=f}(t,e,u,s,f,i,y,d=d||p!==y),c&&Ua(t,!0),m}function ya(t,e,n,r,i){void 0===r&&(r=0),va(t,e,n,!0,r,i)}function ma(t,e,n,r,i){void 0===r&&(r=0),va(t,e,n,!1,r,i)}function va(t,e,n,r,i,o){var a=function(t,e,n,r){var i=t[2][2*e+0],o=t[5];return o[i+2+(r?o[i+0]:0)+n]}(t,i,e,r),s=Va(t,a),u=La(t,a),c=Ya(t,a),l=n instanceof aa?n.value:n;if(Qa(u,s,l)&&(o||Ja(s,l,c,i))){var h=n instanceof aa?new Wa(n,t[0],2==(2&u)?1:2):null,f=h?n.value:n,p=Ra(t,a),d=!1,y=h?p:0;if(Na(t,h,p)){var m=Da(t,h,p);y=h?m:0,d=!0}if((d||c!==i)&&Pa(t,a,y,i),c!==i){var v=Fa(t,a),g=Xa(t,i);!function(t,e,n){g&&g(v)?t[e]|=4:t[e]&=-5}(t,a)}ka(t,a,f);var b=Oa(u),_=Va(t,b);if(!_||Qa(u,_,f)){var w=!1,E=!0;!Ha(f)&&Ha(_)&&(w=!0,E=!1),_a(t,b,w),_a(t,a,E),Ua(t,!0)}d&&Ba(t,!0)}}function ga(t,e,n,r,i,o,a){n=i&&n?i(e,n):n,o||a?(o&&o.setValue(e,n),a&&a.setValue(e,n)):n?(n=n.toString(),Jr(r)?r.setStyle(t,e,n,Xr.DashCase):t.style.setProperty(e,n)):Jr(r)?r.removeStyle(t,e,Xr.DashCase):t.style.removeProperty(e)}function ba(t,e,n,r,i,o){i||o?(i&&i.setValue(e,n),o&&o.setValue(e,n)):""!==e&&(n?Jr(r)?r.addClass(t,e):t.classList.add(e):Jr(r)?r.removeClass(t,e):t.classList.remove(e))}function _a(t,e,n){var r=e>=10?e+0:e;n?t[r]|=1:t[r]&=-2}function wa(t,e){return 1==(1&t[e>=10?e+0:e])}function Ea(t,e){return 2==(2&t[e>=10?e+0:e])}function Sa(t,e){return 4==(4&t[e>=10?e+0:e])}function Ta(t,e,n){return 31&t|e<<5|n<<19}function Ca(t,e){var n=Ia(e);return(2&e?t[4]:t[3])[n]}function Ia(t){return t>>5&16383}function Oa(t){var e=t>>19&16383;return e>=10?e:-1}function Aa(t){return t[7][2]}function xa(t,e,n){t[e+1]=n}function ka(t,e,n){t[e+2]=n}function Na(t,e,n){var r=t[9];if(e){if(!r||0===n)return!0}else if(!r)return!1;return r[n]!==e}function Da(t,e,n){var r=t[9]||bi(t);return n>0?r[n]=e:(r.splice(n=r[0],0,e,null),r[0]+=2),n}function Pa(t,e,n,r){var i=function(t,e){return n<<16|t}(r);t[e+3]=i}function Ra(t,e){return t[e+3]>>16&65535}function Ma(t,e){var n=Ra(t,e);if(n){var r=t[9];if(r)return r[n]}return null}function ja(t,e,n){t[1===e?e:e+0]=n}function La(t,e){return t[1===e?e:e+0]}function Va(t,e){return t[e+2]}function Fa(t,e){return t[e+1]}function Ua(t,e){_a(t,1,e)}function Ba(t,e){e?t[1]|=8:t[1]&=-9}function qa(t,e,n){if(e!==n){var r=Va(t,e),i=Fa(t,e),o=La(t,e),a=Ra(t,e),s=Ya(t,e),u=o,c=La(t,n),l=Oa(u);l>=0&&ja(t,l,Ta(h=La(t,l),Ia(h),n));var h,f=Oa(c);f>=0&&ja(t,f,Ta(h=La(t,f),Ia(h),e)),ka(t,e,Va(t,n)),xa(t,e,Fa(t,n)),ja(t,e,La(t,n)),Pa(t,e,Ra(t,n),Ya(t,n)),ka(t,n,r),xa(t,n,i),ja(t,n,o),Pa(t,n,a,s)}}function za(t,e,n,r,i,o,a,s){var u=e<t.length;t.splice(e,0,1|i|(n?2:0),r,o,0),Pa(t,e,s,a),u&&function(t,n){for(var r=e+4;r<t.length;r+=4){var i=Oa(La(t,r));if(i>0){var o=Ia(La(t,i));ja(t,i,Ta((wa(t,i)?1:0)|(Ea(t,i)?2:0)|(Sa(t,i)?4:0),o,r))}}}(t)}function Ha(t,e){return null!==t}function Ka(t,e,n,r){var i,o=r&&r(e)?4:0;return n?(o|=2,i=Za(t[4],e)):i=Za(t[3],e),Ta(o,i=i>0?i+1:0,0)}function Ga(t,e,n){var r=Ca(t,e);return!r||Qa(e,r,n)}function Qa(t,e,n){return!(2&t)&&e&&n&&4&t?e.toString()!==n.toString():e!==n}var Wa=function(){function t(t,e,n){this._element=e,this._type=n,this._values={},this._dirty=!1,this._factory=t}return t.prototype.setValue=function(t,e){this._values[t]!==e&&(this._values[t]=e,this._dirty=!0)},t.prototype.buildPlayer=function(t,e){if(this._dirty){var n=this._factory.fn(this._element,this._type,this._values,e,t||null);return this._values={},this._dirty=!1,n}},t}();function Ya(t,e){return 65535&t[e+3]}function Za(t,e){for(var n=2;n<t.length;n+=3)if(t[n]===e)return n;return-1}function Xa(t,e){var n=t[2];return n[2*e+1]||n[1]||null}function Ja(t,e,n,r){return null==t||(null!=e?r<=n:n===r)}function $a(t){var e=t[4],n=e[1];if(null===n){n="";for(var r=2;r<e.length;r+=3)e[r+1]&&(n+=(n.length?" ":"")+e[r]);e[1]=n}return n}function ts(t,e,n){return t[e?6:7][1+4*n+2]||null}function es(t,e,n,r){return!t[e?6:7][1+4*n+0]&&(r===ra||ts(t,e,n)===r)}function ns(t){return t.replace(/[a-z][A-Z]/g,function(t){return t.charAt(0)+"-"+t.charAt(1).toLowerCase()})}function rs(t,e,n,r,i){void 0===i&&(i=0);var o=t[n?6:7];if(e>0)for(var a=1+4*e;o.length<a;)o.push(0,r,null,0);o.push(0,r,null,i)}function is(t,e,n,r,i){return null===t&&(t=e.length,e.push(null,null,null),e[t+0]=n),e[t+1]=r,e[t+2]=i,t}var os="ng-template";function as(t,e){var n=t.length,r=t.indexOf(e),i=r+e.length;return!(-1===r||r>0&&" "!==t[r-1]||i<n&&" "!==t[i])}function ss(t,e,n){return e===(0!==t.type||n?t.tagName:os)}function us(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Ei(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!ss(t,u,n)||""===u&&1===e.length){if(cs(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&t.stylingTemplate){if(!as(ls(t),c)){if(cs(r))return!1;a=!0}continue}var l=hs(8&r?"class":u,i,0==t.type&&t.tagName!==os,n);if(-1===l){if(cs(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1];var f=8&r?h:null;if(f&&!as(f,c)||2&r&&c!==h){if(cs(r))return!1;a=!0}}}}else{if(!a&&!cs(r)&&!cs(u))return!1;if(a&&cs(u))continue;a=!1,r=u|1&r}}return cs(r)||a}function cs(t){return 0==(1&t)}function ls(t){return t.stylingTemplate?$a(t.stylingTemplate):""}function hs(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a)o=!0;else{if(1===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function fs(t,e,n){void 0===n&&(n=!1);for(var r=0;r<e.length;r++)if(us(t,e[r],n))return!0;return!1}function ps(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}var ds=function(){return Promise.resolve(null)}();function ys(t){var e=t[ln],n=kr(t);if(e.firstTemplatePass=!1,t[mn]=e.bindingStartIndex,!n){var r=Pr();nr(t,e,r,void 0),function(t){for(var e=t[Sn];null!==e;e=e[pn])if(e.length<An&&-1===e[kn])for(var n=e,r=0;r<n[Dn].length;r++){var i=n[Dn][r];ws(i,i[ln],i[gn])}}(t),ms(e,t),Wn(t),rr(t,e.contentHooks,e.contentCheckHooks,r,1,void 0),function(t,e){var n=Kr();try{if(t.expandoInstructions){var r=e[mn]=t.expandoStartIndex;Lr(r);for(var i=-1,o=-1,a=0;a<t.expandoInstructions.length;a++){var s=t.expandoInstructions[a];if("number"==typeof s){if(s<=0){wr(o=-s);var u=t.expandoInstructions[++a];i=r+=Xn+u}else r+=s;Lr(r)}else null!==s&&(e[mn]=r,s(2,Rn(e[i]),o),Er()),i++}}}finally{wr(n)}}(e,t)}n&&e.staticContentQueries&&ms(e,t),function(t){if(null!=t)for(var e=0;e<t.length;e++)void 0,void 0,(128==(128&(r=Bn(t[e],n=pr()))[hn])||kr(n))&&80&r[hn]&&(function(t){for(var e=t[ln],n=t.length;n<e.blueprint.length;n++)t[n]=e.blueprint[n]}(r),Xs(r,r[gn]));var n,r}(e.components)}function ms(t,e){if(null!=t.contentQueries){Ur(0);for(var n=0;n<t.contentQueries.length;n++){var r=t.contentQueries[n];t.data[r].contentQueries(2,e[r],r)}}}function vs(t,e){var n=e||pr()[wn],r=Qr;return Jr(n)?n.createElement(t,r):null===r?n.createElement(t):n.createElementNS(r,t)}function gs(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[cn]=i,l[hn]=140|r,Wn(l),l[fn]=l[In]=t,l[gn]=n,l[_n]=a||t&&t[_n],l[wn]=s||t&&t[wn],l[En]=u||t&&t[En]||null,l[bn]=c||t&&t[bn]||null,l[yn]=o,l}function bs(t,e,n,r,i){var o=pr(),a=o[ln],s=t+An;o[s]=n;var u=Cr(),c=Ar(),l=a.data[s];if(null==l){var h=c?u:u&&u.parent;l=a.data[s]=Ns(h&&h!==o[yn]?h:null,e,s,r,i)}return u&&(!c||null!=u.child||null===l.parent&&2!==u.type?c||(u.next=l):u.child=l),null==a.firstChild&&(a.firstChild=l),Ir(l),xr(!0),l}function _s(t,e,n,r){var i=t.node;return null==i&&(t.node=i=Ns(e,2,n,null,null)),r[yn]=i}function ws(t,e,n){var r,i=Ar(),o=Cr();if(512&t[hn])Ws(xi(t));else try{xr(!0),Ir(null),r=Br(t,t[yn]),Wn(t),Ss(e.template,Ts(t),n),t[ln].firstTemplatePass=!1,ys(t)}finally{zr(r),xr(i),Ir(o)}}function Es(t,e,n){var r=t[_n],i=Br(t,t[yn]),o=!Pr(),a=kr(t);try{o&&!a&&r.begin&&r.begin(),a&&(n&&Ss(n,1,e),ys(t),t[hn]&=-5),Wn(t),n&&Ss(n,2,e),ys(t)}finally{o&&!a&&r.end&&r.end(),zr(i)}}function Ss(t,e,n){Zr();var r=Kr();try{wr(null),t(e,n)}finally{Gr(r)}}function Ts(t){return kr(t)?1:2}function Cs(t,e,n,r){if(t.firstTemplatePass&&!e.stylingTemplate){var i=wi(n,r);i>=0&&(e.stylingTemplate=sa(n,i))}}function Is(t,e,n){if(function(t){return 0!=(4&t.flags)}(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Os(t,e,n,r){if(void 0===r&&(r=Vn),ur){var i=Cr();t.firstTemplatePass&&function(t,e,n,r,i){var o=i?{"":-1}:null;if(n){Bs(r,t.data.length,n.length);for(var a=0;a<n.length;a++)(l=n[a]).providersResolver&&l.providersResolver(l);js(t,r,n.length);var s=t.preOrderHooks&&t.preOrderHooks.length||0,u=t.preOrderCheckHooks&&t.preOrderCheckHooks.length||0,c=r.index-An;for(a=0;a<n.length;a++){var l,h=t.data.length;qs(t,e,l=n[a],l.factory),Us(t.data.length-1,l,o),tr(h,l,t,c,s,u)}}o&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '"+e[i+1]+"' not found!");r.push(e[i],o)}}(r,i,o)}(t,e,function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];fs(n,a.selectors,!1)&&(i||(i=[]),Vi(Ri(Cr(),e),e,a.type),zn(a)?(1&n.flags&&na(n),n.flags=1,i.unshift(a)):i.push(a))}return i}(t,e,i),i,n||null),function(t,e,n){var r=n.directiveStart,i=n.directiveEnd;!t.firstTemplatePass&&r<i&&Ri(n,e);for(var o=r;o<i;o++){var a=t.data[o];zn(a)&&zs(e,n,a),Ls(e,Hi(t.data,e,o,n),a,o)}}(t,e,i),function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstTemplatePass,s=n.index-An,u=Kr();try{wr(s);for(var c=r;c<i;c++){var l=t.data[c];l.hostBindings?(Ms(l,o,e[c],n,a),Er()):a&&o.push(null)}}finally{wr(u)}}(t,e,i),function(t,e,n){var r=e.localNames;if(r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}(e,i,r)}}function As(t,e,n,r,i,o,a){return t.ngPrivateData||(t.ngPrivateData=xs(-1,t,e,n,r,i,o,a))}function xs(t,e,n,r,i,o,a,s){var u=An+n,c=u+r,l=function(t,e){var n=new Array(e).fill(null,0,t).fill(ra,t);return n[mn]=t,n}(u,c);return l[ln]={id:t,blueprint:l,template:e,viewQuery:a,node:null,data:l.slice().fill(null,u),bindingStartIndex:u,viewQueryStartIndex:c,expandoStartIndex:c,expandoInstructions:null,firstTemplatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:s}}function ks(t,e){var n=t.createRenderer(null,null);return"string"==typeof e?Jr(n)?n.selectRootElement(e):n.querySelector(e):e}function Ns(t,e,n,r,i){return{type:e,index:n,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,propertyMetadataStartIndex:-1,propertyMetadataEndIndex:-1,flags:0,providerIndexes:0,tagName:r,attrs:i,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:null,next:null,projectionNext:null,child:null,parent:t,stylingTemplate:null,projection:null,onElementCreationFns:null}}function Ds(t,e){var n=pr()[ln],r=null,i=t.directiveStart,o=t.directiveEnd;if(o>i)for(var a=0===e,s=n.data,u=i;u<o;u++){var c=s[u],l=a?c.inputs:c.outputs;for(var h in l)if(l.hasOwnProperty(h)){var f=l[h];(r=r||{}).hasOwnProperty(h)?r[h].push(u,h,f):r[h]=[u,h,f]}}return r}var Ps={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};function Rs(t,e,n,r,i,o){if(n!==ra){var a,s,u=pr(),c=Ln(t,u),l=Fn(t,u);if(!i&&(a=eu(l))&&(s=a[e]))au(u,s,n),qn(l)&&function(e,n){var r=Bn(t+An,e);16&r[hn]||(r[hn]|=64)}(u);else if(3===l.type){!function(t,e,n,r,i){var o=e[mn]-1,a=r[o];a[0]==an&&(r[o]=n+a,i||(-1==t.propertyMetadataStartIndex&&(t.propertyMetadataStartIndex=o),t.propertyMetadataEndIndex=o+1))}(l,u,e=Ps[e]||e,u[ln].data,i);var h=o?o(l,u):u[wn];n=null!=r?r(n,l.tagName||"",e):n,Jr(h)?h.setProperty(c,e,n):di(e)||(c.setProperty?c.setProperty(e,n):c[e]=n)}}}function Ms(t,e,n,r,i){var o=e.length;lr(t),t.hostBindings(1,n,r.index-An),lr(null),o===e.length&&i&&e.push(t.hostBindings)}function js(t,e,n){var r=-(e.index-An),i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Ls(t,e,n,r){var i=Cr();Vs(t,i,e),i&&i.attrs&&function(t,e,n,r){var o=i.initialInputs;(void 0===o||t>=o.length)&&(o=function(t,e,n){var r=n.initialInputs||(n.initialInputs=[]);r[t]=null;for(var i=n.attrs,o=0;o<i.length;){var a=i[o];if(0!==a)if(5!==a){if("number"==typeof a)break;var s=e[a],u=i[o+1];void 0!==s&&(r[t]||(r[t]=[])).push(a,s,u),o+=2}else o+=2;else o+=4}return r}(t,n.inputs,i));var a=o[t];if(a)for(var s=n.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];s?n.setInput(e,h,c,l):e[l]=h}}(r,e,n),t[ln].firstTemplatePass&&n.contentQueries&&(i.flags|=4),zn(n)&&(Bn(i.index,t)[gn]=e)}function Vs(t,e,n){var r=Vn(e,t);ri(n,t),r&&ri(r,t)}function Fs(t){var e=pr()[ln];(e.components||(e.components=[])).push(t.index)}function Us(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;e.template&&(n[""]=t)}}function Bs(t,e,n){t.flags=1&t.flags,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qs(t,e,n,r){t.data.push(n);var i=new $n(r,zn(n),null);t.blueprint.push(i),e.push(i)}function zs(t,e,n){var r=Vn(e,t),i=Ks(t,gs(t,As(n.template,n.consts,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas),null,n.onPush?64:16,t[e.index],e,t[_n],t[_n].createRenderer(r,n)));i[yn]=e,t[e.index]=i,t[ln].firstTemplatePass&&Fs(e)}function Hs(t,e,n,r,i){return[t,!0,i?-1:0,e,null,null,r,n,[]]}function Ks(t,e){return t[Sn]?t[Tn][pn]=e:t[Sn]=e,t[Tn]=e,e}function Gs(t){for(;t;){t[hn]|=64;var e=Oi(t);if(Hn(t)&&!e)return t;t=e}return null}function Qs(t,e){var n,r=0===t.flags;t.flags|=e,r&&t.clean==ds&&(t.clean=new Promise(function(t){return n=t}),t.scheduler(function(){if(1&t.flags&&(t.flags&=-2,Ws(t)),2&t.flags){t.flags&=-3;var e=t.playerHandler;e&&e.flushPlayers()}t.clean=ds,n(null)}))}function Ws(t){for(var e=0;e<t.components.length;e++){var n=t.components[e];Es(Gn(n),n)}}function Ys(t,e){var n=t[_n];n.begin&&n.begin();try{kr(t)&&Xs(t,e),Xs(t,e)}catch(r){throw ou(t,r),r}finally{n.end&&n.end()}}function Zs(t){Ws(t[gn])}function Xs(t,e){var n=t[ln],r=Br(t,t[yn]),i=n.template,o=kr(t);try{Wn(t),o&&Js(1,n,e),Ss(i,Ts(t),e),ys(t),o&&!n.staticViewQueries||Js(2,n,e)}finally{zr(r)}}function Js(t,e,n){var r=e.viewQuery;r&&(Ur(e.viewQueryStartIndex),r(t,n))}function $s(t,e,n){void 0===e&&(e=""),void 0===n&&(n="");var r=t[ln].data,i=t[mn]-1;return null==r[i]?r[i]=an+e+an+n:null}var tu=ds;function eu(t){return t?(void 0===t.inputs&&(t.inputs=Ds(t,0)),t.inputs):null}function nu(t){return t[vn]||(t[vn]=[])}function ru(t){return t[ln].cleanup||(t[ln].cleanup=[])}function iu(t,e){return e[t.index][wn]}function ou(t,e){var n=t[bn],r=n?n.get($i,null):null;r&&r.handleError(e)}function au(t,e,n){for(var r=t[ln],i=0;i<e.length;){var o=e[i++],a=e[i++],s=e[i++],u=t[o],c=r.data[o];c.setInput?c.setInput(u,n,a,s):u[s]=n}}function su(t){var e;if(e=t.onElementCreationFns){for(var n=0;n<e.length;n++)e[n]();t.onElementCreationFns=null}}function uu(t){var e=pr(),n=e[ln];n.firstTemplatePass&&(function(t,e,n){var r=t.expandoInstructions,i=r.length;i>=2&&r[i-2]===e.hostBindings?r[i-1]=r[i-1]+n:r.push(e.hostBindings,n)}(n,cr,t),function(t,e,n){for(var r=0;r<n;r++)e.push(ra),t.blueprint.push(ra),t.data.push(null)}(n,e,t))}function cu(t){Ys(ni(t),t)}function lu(t){Qs(Gs(ni(t))[gn],1)}function hu(t,e){var n=e[fn];return-1===t.index?jn(n)?n:null:n}function fu(t,e){var n=hu(t,e);return n?Iu(e[wn],n[Nn]):null}var pu=[];function du(t,e,n,i,o){for(var a,s,u=t[ln].node,c=-1,l=t,h=u.child;h;){var f=null;if(3===h.type||4===h.type){yu(e,n,i,Vn(h,l),h,o);var p=l[h.index];jn(p)&&(yu(e,n,i,p[Nn],h,o),p[Dn].length&&(f=(l=p[Dn][0])[ln].node,o=p[Nn]))}else if(0===h.type){var d=l[h.index];yu(e,n,i,d[Nn],h,o),d[Dn].length&&(f=(l=d[Dn][0])[ln].node,o=d[Nn])}else if(1===h.type){var y=Ai(l),m=y[yn].projection[h.projection];if(Array.isArray(m))try{for(var v=Object(r.__values)(m),g=v.next();!g.done;g=v.next())yu(e,n,i,g.value,h,o)}catch(b){a={error:b}}finally{try{g&&!g.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}else pu[++c]=h,pu[++c]=l,m&&(f=(l=y[fn])[ln].data[m.index])}else f=h.child;if(null===f)for(null===h.projectionNext&&2&h.flags&&(l=pu[c--],h=pu[c--]),f=2&h.flags?h.projectionNext:4===h.type&&h.child||h.next;!f;){if(null===(h=h.parent||l[yn])||h===u)return;if(0===h.type&&(o=(l=Oi(l))[h.index][Nn]),2===h.type){for(;!l[pn]&&l[fn]&&(!h.parent||!h.parent.next);){if(h===u)return;if(jn(l=l[fn])){h=l[yn],o=(l=l[fn])[h.index][Nn];break}h=l[yn]}f=l[pn]?(l=l[pn])[yn]:4===h.type&&h.child||h.next}else f=h.next}h=f}}function yu(t,e,n,r,i,o){0===t?Tu(e,n,r,o||null):1===t?xu(e,r,qn(i)):2===t&&e.destroyNode(r)}function mu(t,e){return Jr(e)?e.createText($e(t)):e.createTextNode($e(t))}function vu(t,e,n){var r=fu(t[ln].node,t);r&&du(t,e?0:1,t[wn],r,n)}function gu(t,e,n){var r=e[Dn];n>0&&(r[n-1][pn]=t),n<r.length?(t[pn]=r[n],r.splice(n,0,t)):(r.push(t),t[pn]=null),t[fn]=e,t[dn]&&t[dn].insertView(n),t[hn]|=128}function bu(t,e){var n=t[Dn],r=n[e];return r&&(e>0&&(n[e-1][pn]=r[pn]),n.splice(e,1),vu(r,!1),128&r[hn]&&!(256&r[hn])&&r[dn]&&r[dn].removeView(),r[fn]=null,r[pn]=null,r[hn]&=-129),r}function _u(t,e){var n=t[Dn][e];n&&(bu(t,e),wu(n))}function wu(t){if(!(256&t[hn])){var e=t[wn];Jr(e)&&e.destroyNode&&du(t,2,e,null),function(t){var e=t[Sn];if(!e)return Su(t);for(;e;){var n=null;if(Mn(e))n=e[Sn];else{var r=e[Dn];r.length>0&&(n=r[0])}if(!n){for(;e&&!e[pn]&&e!==t;)Su(e),e=Eu(e,t);Su(e||t),n=e&&e[pn]}e=n}}(t)}}function Eu(t,e){var n;return Mn(t)&&(n=t[yn])&&2===n.type?hu(n,t):t[fn]===e?null:t[fn]}function Su(t){if(Mn(t)&&!(256&t[hn])){t[hn]&=-129,t[hn]|=256,function(t){var e,n=t[ln];if(null!=n&&null!=(e=n.destroyHooks))for(var r=0;r<e.length;r+=2){var i=t[e[r]];i instanceof $n||e[r+1].call(i)}}(t),function(t){var e=t[ln].cleanup;if(null!=e){for(var n=t[vn],r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){var i=e[r+1],o="function"==typeof i?i(t):Rn(t[i]),a=e[r+3];"boolean"==typeof a?o.removeEventListener(e[r],n[e[r+2]],a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else e[r].call(n[e[r+1]]);t[vn]=null}}(t);var e=t[yn];e&&3===e.type&&Jr(t[wn])&&t[wn].destroy(),Qn(t)&&t[dn]&&t[dn].removeView()}}function Tu(t,e,n,r){Jr(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Cu(t,e,n,r){r?Tu(t,e,n,r):function(t,e,n){Jr(t)?t.appendChild(e,n):e.appendChild(n)}(t,e,n)}function Iu(t,e){return Jr(t)?t.parentNode(e):e.parentNode}function Ou(t,e,n){var i,o,a=function(t,e){if(Hn(e))return Iu(e[wn],Vn(t,e));var n=function(t){for(;null!=t.parent&&(4===t.parent.type||5===t.parent.type);)t=t.parent;return t}(t).parent;if(null==n){var r=e[yn];return 2===r.type?fu(r,e):function(t){var e=t[yn];return e&&3===e.type?Vn(e,Oi(t)):null}(e)}if(1&n.flags){var i=e[ln].data,o=i[i[n.index].directiveStart].encapsulation;if(o!==Oe.ShadowDom&&o!==Oe.Native)return null}return Vn(n,e)}(e,n);if(null!=a){var s=n[wn],u=function(t,e){if(2===t.type){var n=hu(t,e),r=n[Dn];return Au(r.indexOf(e),r,n[Nn])}return 4===t.type||5===t.type?Vn(t,e):null}(e.parent||n[yn],n);if(Array.isArray(t))try{for(var c=Object(r.__values)(t),l=c.next();!l.done;l=c.next())Cu(s,a,l.value,u)}catch(h){i={error:h}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}else Cu(s,a,t,u)}}function Au(t,e,n){if(t+1<e.length){var r=e[t+1],i=r[yn];return i.child?Vn(i.child,r):n}return n}function xu(t,e,n){var r=Iu(t,e);r&&function(t,e,n,r){Jr(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function ku(t,e,n,r){var i=Vn(t,r);Ou(i,e,n),ri(i,r);var o=r[t.index];if(0===t.type)for(var a=o[Dn],s=0;s<a.length;s++)vu(a[s],!0,o[Nn]);else{if(4===t.type)for(var u=t.child;u;)ku(u,e,n,r),u=u.next;jn(o)&&Ou(o[Nn],e,n)}}function Nu(t){var e=ju(t,null,null),n=pr();n[ln].firstTemplatePass&&(e.tViews=[]),Mu(n,e),xr(!1)}function Du(t,e,n,r,i,o,a,s){var u=pr(),c=u[ln],l=ju(t,i||null,o||null);c.firstTemplatePass&&(l.tViews=xs(-1,e,n,r,c.directiveRegistry,c.pipeRegistry,null,null)),Os(c,u,a,s),Mu(u,l),ri(Vn(l,u),u),er(c,l),xr(!1)}function Pu(t){var e=pr(),n=e[ln];Ir(Un(n.data,t)),xr(!0),e[t+An][kn]=0,nr(e,n,Pr(),void 0)}function Ru(){var t=Cr();Ar()?xr(!1):Ir(t=t.parent);for(var e=pr()[t.index],n=e[kn];n<e[Dn].length;)_u(e,n)}function Mu(t,e){var n=t[dn];if(n){var r=t[e.index];r[dn]?n.insertNodeBeforeViews(e):(n.addNode(e),r[dn]=n.container())}}function ju(t,e,n){var r=pr(),i=t+An,o=r[wn].createComment(""),a=bs(t,0,o,e,n),s=r[i]=Hs(r[i],r,o,a);return Ou(o,a,r),Ks(r,s),a}function Lu(t,e){var n=pr(),r=n[ln],i=t+An;i>=r.data.length&&(r.data[i]=null,r.blueprint[i]=null),n[i]=e}function Vu(t){return Un(Nr,t)}function Fu(t){return Un(pr(),t)}function Uu(t,e){void 0===e&&(e=T.Default),t=L(t);var n=pr();return null==n?G(t,e):Ui(Cr(),n,t,e)}function Bu(t){return Fi(Cr(),t)}function qu(t,e,n){var r=Cr();r.stylingTemplate||(r.stylingTemplate=hi()),Hu(r,t,e,n,ci)}function zu(t,e,n){var r=Cr();r.stylingTemplate||(r.stylingTemplate=hi());var i=nc();fi(r.stylingTemplate,i),(r.onElementCreationFns=r.onElementCreationFns||[]).push(function(){var o,a,s;Hu(r,t,e,n,i),a=i,(s=(o=r.stylingTemplate)[8])||(s=o[8]=[ci]),s[0]=a})}function Hu(t,e,n,r,i){!function(t,e,n,r,i){if(!(16&t[1])&&function(t,e,n,r){var i=t[2],o=2*e;return!(o<i.length&&i[o+0]>=0||(fi(t,e,t[5].length,r),0))}(t,e,0,i)){r&&(r=function(t){for(var e=[],n=0;n<t.length;n++)e.push(ns(t[n]));return e}(r));var o=t[5],a=o[1],s=o[0],u=t[6],c=t[7],l=4*s,h=10+l,f=h+4*a,p=f+l,d=o.length;o.push(r?r.length:0,n?n.length:0);var y=0,m=[];if(r&&r.length)for(var v=0;v<r.length;v++){var g=r[v];-1==(w=fa(t,g,10,h))&&(w=h+y,y+=4,m.push(g)),o.push(w)}var b=[];if(n&&n.length)for(var _=0;_<n.length;_++){var w,E=n[_];-1==(w=fa(t,E,h,f))?(w=f+y,y+=4,b.push(E)):w+=4*m.length,o.push(w)}var S=2;if(m.length)for(;S<d;){var T=o[S+0],C=o[S+1];if(C)for(var I=S+2+T,O=I;O<I+C;O++)o[O]+=4*m.length;S+=2+(T+C)}for(var A=b.length+m.length,x=10;x<t.length;x+=4){var k=x>=f,N=x>=(k?p:h),D=La(t,x),P=Ia(D),R=Oa(D);ja(t,x,Ta(D,P,R+=k?N?4*m.length:0:4*A+4*(N?m.length:0)))}for(var M=0;M<4*m.length;M++)t.splice(p,0,null),t.splice(h,0,null),h++,f++,p+=2;for(var j=0;j<4*b.length;j++)t.splice(f,0,null),t.push(null),f++,p++;for(var L=t[4],V=t[3],F=0;F<A;F++){var U=F>=m.length,B=U?F-m.length:F,q=U?b[B]:m[B],z=void 0,H=void 0;U?(z=p+4*(a+B),H=h+4*(a+B)):(z=f+4*(s+B),H=10+4*(s+B));var K=U?L:V,G=Za(K,q);-1===G?G=is(null,K,q,!U&&null,e)+1:G+=1;var Q=Ka(t,q,U,i||null);ja(t,H,Ta(Q,G,z)),xa(t,H,q),ka(t,H,null),Pa(t,H,0,e),ja(t,z,Ta(Q,G,H)),xa(t,z,q),ka(t,z,null),Pa(t,z,0,e)}o[1]=a+b.length,o[0]=s+m.length,u[0]+=b.length,c[0]+=m.length;var W=4*m.length,Y=4*b.length,Z=c.length;rs(t,e,!1,f+4*s,m.length);for(var X=1;X<Z;X+=4)c[X+1]+=Y+W;var J=u.length;rs(t,e,!0,p+4*a,b.length);for(var $=1;$<J;$+=4)u[$+1]+=2*W+Y;ja(t,1,Ta(0,0,f))}}(t.stylingTemplate,i,e,n,r)}function Ku(t,e,n,r,i){var o=Qu(n,r);ma(rc(t,pr()),e,o,ci,i)}function Gu(t,e,n,r){var i=nc(),o=rc(Kr(),pr());ia(o,i,ma,[o,t,Qu(e,n),i,r])}function Qu(t,e){var n=null;return null!==t&&(n=e?$e(t)+e:t),n}function Wu(t,e,n,r){var i=n instanceof aa?n:Zu(n);ya(rc(t,pr()),e,i,ci,r)}function Yu(t,e,n){var r=nc(),i=rc(Kr(),pr());ia(i,r,ya,[i,t,e instanceof aa?e:Zu(e),r,n])}function Zu(t){return"boolean"==typeof t?t:!!t||null}function Xu(t,e,n){var r=pr(),i=rc(t,r),o=Fn(t,r);if(yi(o)&&e!==ra){var a=$a(i),s=(a.length?a+" ":"")+function(t){return t&&"string"!=typeof t&&(t=Object.keys(t).join(" ")),t||""}(e);au(r,o.inputs.class,s),e=ra}if(mi(o)&&n!==ra){var u=$a(i),c=(u.length?u+" ":"")+function(t){var e="";if(t)for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];e+=(r?";":"")+i+":"+t[i]}return e}(n);au(r,o.inputs.style,c),n=ra}pa(i,e,n)}function Ju(t,e){var n=nc(),r=rc(Kr(),pr());ia(r,n,pa,[r,t,e,n])}function $u(t){ec(ci,t)}function tc(){ec(nc(),Kr())}function ec(t,e){var n=pr(),r=3===Fn(e,n).type?n[wn]:null,i=0!=(8&n[hn]);(function(t,e,n,r,i,o,a){void 0===a&&(a=0);var s=0;if(function(t,e){var n=t[8];return!n||n[0]===e}(t,a)&&(function(t){var e=t[8];if(e){for(var n=1;n<e.length;n+=3)e[n+1].apply(this,e[n+2]);e.length=1}}(t),function(t){return wa(t,1)}(t))){for(var u=t[0],c=8&t[1],l=Aa(t),h=10;h<t.length;h+=4)if(wa(t,h)){var f=La(t,h),p=Ya(t,h),d=Fa(t,h),y=Va(t,h),m=4&f?Xa(t,p):null,v=Ma(t,h),g=!!(2&f),b=y;h<l&&!Ha(b)&&(b=Va(t,Oa(f))),Ha(b)||(b=Ca(t,f)),e&&(!r||b)&&(g?ba(u,d,!!b,e,null,v):ga(u,d,b,e,m,null,v)),_a(t,h,!1)}if(c){var _=Array.isArray(n)?xi(n):n,w=gi(t),E=w[0];for(h=1;h<E;h+=2){var S=w[h],T=h+1,C=w[T];if(S){var I=S.buildPlayer(C,r);void 0!==I&&(null!=I&&vi(w,_,u,I,T)&&s++,C&&C.destroy())}else C&&C.destroy()}Ba(t,!1)}Ua(t,!1)}return s})(rc(e,n),r,n,i,0,0,t)>0&&Qs(xi(n),2),sr(null)}function nc(){return gr+br}function rc(t,e){var n=ar;return n||sr(n=pi(t+An,e)),n}function ic(t,e,n,r){var i=pr(),o=i[ln],a=vs(e),s=i[wn],u=bs(t,3,a,e,n||null),c=0,l=0;if(n&&(Cs(o,u,n,_i(a,n)),u.stylingTemplate&&(c=ha(a,u.stylingTemplate,s),l=la(a,u.stylingTemplate,s))),Ou(a,u,i),Os(o,i,r),0===or&&ri(a,i),or++,o.firstTemplatePass){var h=eu(u);h&&h.hasOwnProperty("class")&&(u.flags|=8),h&&h.hasOwnProperty("style")&&(u.flags|=16)}u.stylingTemplate&&(la(a,u.stylingTemplate,s,l),ha(a,u.stylingTemplate,s,c));var f=i[dn];f&&(f.addNode(u),i[dn]=f.clone()),Is(o,u,i)}function oc(){var t=Cr();Ar()?xr(!1):Ir(t=t.parent),t.onElementCreationFns&&su(t);var e=pr(),n=e[dn];n&&(e[dn]=n.parent),er(pr()[ln],t),or--;var r=null;yi(t)&&(r=pi(t.index,e),au(e,t.inputs.class,$a(r))),mi(t)&&(r=r||pi(t.index,e),au(e,t.inputs.style,function(t){var e=r[3],n=e[1];if(null===n){n="";for(var i=2;i<e.length;i+=3){var o=e[i+1];null!==o&&(n+=(n.length?";":"")+e[i]+":"+o)}e[1]=n}return n}()))}function ac(t,e,n,r){ic(t,e,n,r),oc()}function sc(t,e,n,r,i){if(n!==ra){var o=pr(),a=o[wn],s=Ln(t,o);if(null==n)Jr(a)?a.removeAttribute(s,e,i):s.removeAttribute(e);else{var u=Fn(t,o),c=null==r?$e(n):r(n,u.tagName||"",e);Jr(a)?a.setAttribute(s,e,c,i):i?s.setAttributeNS(i,e,c):s.setAttribute(e,c)}}}function uc(t){var e=Kr(),n=pr(),r=Fn(e,n);if(3===r.type){var i=wi(t,_i(Vn(r,n),t));if(i>=0){var o=nc();r.stylingTemplate?ua(r.stylingTemplate,t,i,o):r.stylingTemplate=sa(t,i,o)}}}function cc(t,e,n){var r=pr(),i=r[ln],o=r[wn].createComment(""),a=bs(t,4,o,"ng-container",e||null);e&&Cs(i,a,e,0),Ou(o,a,r),Os(i,r,n),ri(o,r);var s=r[dn];s&&(s.addNode(a),r[dn]=s.clone()),Is(i,a,r)}function lc(){var t=Cr(),e=pr(),n=e[ln];Ar()?xr(!1):Ir(t=t.parent);var r=e[dn];r&&(e[dn]=r.parent),t.onElementCreationFns&&su(t),er(n,t)}function hc(t,e,n){var r=pr(),i=Cr(),o=2===i.type?i.parent:i,a=r[o.index],s=function(t,e,n){for(var r=t[Dn],i=e;i<r.length;i++){var o=r[i][ln].id;if(o===n)return r[i];if(!(o<n))break;_u(t,i)}return null}(a,a[kn],t);if(s)xr(!0),Br(s,s[ln].node);else{s=gs(r,function(t,e,n,r){var i=pr()[ln],o=r.tViews;return(t>=o.length||null==o[t])&&(o[t]=xs(t,null,e,n,i.directiveRegistry,i.pipeRegistry,null,null)),o[t]}(t,e,n,o),null,16,null,null),a[dn]&&(s[dn]=a[dn].createView());var u=Ar()?i:i&&i.parent;_s(s[ln],u,t,s),Br(s,s[ln].node)}return a&&(kr(s)&&gu(s,a,a[kn]),a[kn]++),kr(s)?3:2}function fc(){var t=pr(),e=t[yn];kr(t)&&(ys(t),t[hn]&=-5),Wn(t),ys(t),zr(t[fn][fn]),Ir(e),xr(!1)}function pc(){return pr()}function dc(t){return!!t&&"function"==typeof t.then}function yc(t){return!!t&&"function"==typeof t.subscribe}function mc(t,e,n,r){void 0===n&&(n=!1),gc(t,e,n,r)}function vc(t,e,n,r){void 0===n&&(n=!1),gc(t,e,n,r,iu)}function gc(t,e,n,r,i){void 0===n&&(n=!1);var o=pr(),a=Cr(),s=o[ln],u=s.firstTemplatePass&&(s.cleanup||(s.cleanup=[])),c=!0;if(3===a.type){var l=Vn(a,o),h=r?r(l):{},f=h.target||l,p=i?i(a,o):o[wn],d=(w=nu(o)).length,y=r?function(t){return r(Rn(t[a.index])).target}:a.index;if(Jr(p)){var m=null;if(!r&&function(t){return t.directiveEnd>t.directiveStart}(a)&&(m=function(t,e,n){var r=t[ln].cleanup;if(null!=r)for(var i=0;i<r.length-1;i+=2){var o=r[i];if(o===e&&r[i+1]===n){var a=t[vn],s=r[i+2];return a.length>s?a[s]:null}"string"==typeof o&&(i+=2)}return null}(o,t,a.index)),null!==m)e.__ngNextListenerFn__=m.__ngNextListenerFn__,m.__ngNextListenerFn__=e,c=!1;else{e=_c(a,o,e,!1);var v=p.listen(h.name||f,t,e);w.push(e,v),u&&u.push(t,y,d,d+1)}}else e=_c(a,o,e,!0),f.addEventListener(t,e,n),w.push(e),u&&u.push(t,y,d,n)}void 0===a.outputs&&(a.outputs=Ds(a,1));var g,b=a.outputs;if(c&&b&&(g=b[t])){var _=g.length;if(_)for(var w=nu(o),E=0;E<_;E+=3){var S=o[g[E]][g[E+2]].subscribe(e),T=w.length;w.push(e,S),u&&u.push(t,a.index,T,-(T+1))}}}function bc(t,e,n){try{return!1!==e(n)}catch(r){return ou(t,r),!1}}function _c(t,e,n,r){return function i(o){var a=1&t.flags?Bn(t.index,e):e;0==(32&e[hn])&&Gs(a);for(var s=bc(e,n,o),u=i.__ngNextListenerFn__;u;)s=bc(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function wc(t){return void 0===t&&(t=1),qr(t)}function Ec(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?fs(t,o,!0):ps(r,o))return i}else n=i}return n}function Sc(t){var e=Ai(pr())[yn];if(!e.projection)for(var n=e.projection=new Array(t?t.length:1).fill(null),r=n.slice(),i=e.child;null!==i;){var o=t?Ec(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function Tc(t,e,n){void 0===e&&(e=0);var r=pr(),i=bs(t,1,null,null,n||null);null===i.projection&&(i.projection=e),xr(!1),function t(e,n,r,i){var o=i[fn],a=i[yn].projection[r];if(Array.isArray(a))Ou(a,n,e);else for(;a;)1===a.type?t(e,n,a.projection,Ai(o)):(a.flags|=2,ku(a,n,e,o)),a=a.projectionNext}(r,i,e,Ai(r))}var Cc=null;function Ic(){if(!Cc){var t=F.Symbol;if(t&&t.iterator)Cc=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Cc=r)}}return Cc}function Oc(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ac(t,e){var n=kc(t),r=kc(e);return n&&r?function(t,e,n){for(var r=t[Ic()](),i=e[Ic()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,Ac):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||Oc(t,e)}var xc=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}();function kc(t){return!!Nc(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ic()in t)}function Nc(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Dc(t,e,n){return t[e]=n}function Pc(t,e){return t[e]}function Rc(t,e,n){var r,i;return i=n,((r=t[e])==r||i==i)&&r!==i&&(t[e]=n,!0)}function Mc(t,e,n,r){var i=Rc(t,e,n);return Rc(t,e+1,r)||i}function jc(t,e,n,r,i){var o=Mc(t,e,n,r);return Rc(t,e+2,i)||o}function Lc(t,e,n,r,i,o){var a=Mc(t,e,n,r);return Mc(t,e+2,i,o)||a}function Vc(t,e,n,r){return Rs(Kr(),t,Fc(e),n,r),Vc}function Fc(t){var e=pr(),n=e[mn]++;return $s(e),Rc(e,n,t)?t:ra}function Uc(t,e,n,r,i){Rs(t,e,n,r,i)}function Bc(t,e,n,r,i){Rs(t,e,n,r,i,iu)}function qc(t){var e=!1,n=pr(),r=n[ln].data,i=n[mn];if(null==r[i]){for(var o=2;o<t.length;o+=2)r[i++]=t[o];i=n[mn]}for(o=1;o<t.length;o+=2)Rc(n,i++,t[o])&&(e=!0);if(n[mn]=i,$s(n,t[0],t[t.length-1]),!e)return ra;var a=t[0];for(o=1;o<t.length;o+=2)a+=$e(t[o])+t[o+1];return a}function zc(t,e,n){var r=pr(),i=Rc(r,r[mn]++,e);return $s(r,t,n),i?t+$e(e)+n:ra}function Hc(t,e,n,r,i){var o=pr(),a=o[mn],s=Mc(o,a,e,r);return o[mn]+=2,$s(o,t,i)&&(o[ln].data[a]=n),s?t+$e(e)+n+$e(r)+i:ra}function Kc(t,e,n,r,i,o,a){var s=pr(),u=s[mn],c=jc(s,u,e,r,o);if(s[mn]+=3,$s(s,t,a)){var l=s[ln].data;l[u]=n,l[u+1]=i}return c?t+$e(e)+n+$e(r)+i+$e(o)+a:ra}function Gc(t,e,n,r,i,o,a,s,u){var c=pr(),l=c[mn],h=Lc(c,l,e,r,o,s);if(c[mn]+=4,$s(c,t,u)){var f=c[ln].data;f[l]=n,f[l+1]=i,f[l+2]=a}return h?t+$e(e)+n+$e(r)+i+$e(o)+a+$e(s)+u:ra}function Qc(t,e,n,r,i,o,a,s,u,c,l){var h=pr(),f=h[mn],p=Lc(h,f,e,r,o,s);if(p=Rc(h,f+4,c)||p,h[mn]+=5,$s(h,t,l)){var d=h[ln].data;d[f]=n,d[f+1]=i,d[f+2]=a,d[f+3]=u}return p?t+$e(e)+n+$e(r)+i+$e(o)+a+$e(s)+u+$e(c)+l:ra}function Wc(t,e,n,r,i,o,a,s,u,c,l,h,f){var p=pr(),d=p[mn],y=Lc(p,d,e,r,o,s);if(y=Mc(p,d+4,c,h)||y,p[mn]+=6,$s(p,t,f)){var m=p[ln].data;m[d]=n,m[d+1]=i,m[d+2]=a,m[d+3]=u,m[d+4]=l}return y?t+$e(e)+n+$e(r)+i+$e(o)+a+$e(s)+u+$e(c)+l+$e(h)+f:ra}function Yc(t,e,n,r,i,o,a,s,u,c,l,h,f,p,d){var y=pr(),m=y[mn],v=Lc(y,m,e,r,o,s);if(v=jc(y,m+4,c,h,p)||v,y[mn]+=7,$s(y,t,d)){var g=y[ln].data;g[m]=n,g[m+1]=i,g[m+2]=a,g[m+3]=u,g[m+4]=l,g[m+5]=f}return v?t+$e(e)+n+$e(r)+i+$e(o)+a+$e(s)+u+$e(c)+l+$e(h)+f+$e(p)+d:ra}function Zc(t,e,n,r,i,o,a,s,u,c,l,h,f,p,d,y,m){var v=pr(),g=v[mn],b=Lc(v,g,e,r,o,s);if(b=Lc(v,g+4,c,h,p,y)||b,v[mn]+=8,$s(v,t,m)){var _=v[ln].data;_[g]=n,_[g+1]=i,_[g+2]=a,_[g+3]=u,_[g+4]=l,_[g+5]=f,_[g+6]=d}return b?t+$e(e)+n+$e(r)+i+$e(o)+a+$e(s)+u+$e(c)+l+$e(h)+f+$e(p)+d+$e(y)+m:ra}function Xc(t,e,n){return Jc(t,"",e,"",n),Xc}function Jc(t,e,n,r,i){return Rs(Kr(),t,zc(e,n,r),i),Jc}function $c(t,e,n,r,i,o,a){return Rs(Kr(),t,Hc(e,n,r,i,o),a),$c}function tl(t,e,n,r,i,o,a,s,u){return Rs(Kr(),t,Kc(e,n,r,i,o,a,s),u),tl}function el(t,e,n,r,i,o,a,s,u,c,l){return Rs(Kr(),t,Gc(e,n,r,i,o,a,s,u,c),l),el}function nl(t,e,n,r,i,o,a,s,u,c,l,h,f){return Rs(Kr(),t,Qc(e,n,r,i,o,a,s,u,c,l,h),f),nl}function rl(t,e,n,r,i,o,a,s,u,c,l,h,f,p,d){return Rs(Kr(),t,Wc(e,n,r,i,o,a,s,u,c,l,h,f,p),d),rl}function il(t,e,n,r,i,o,a,s,u,c,l,h,f,p,d,y,m){return Rs(Kr(),t,Yc(e,n,r,i,o,a,s,u,c,l,h,f,p,d,y),m),il}function ol(t,e,n,r,i,o,a,s,u,c,l,h,f,p,d,y,m,v,g){return Rs(Kr(),t,Zc(e,n,r,i,o,a,s,u,c,l,h,f,p,d,y,m,v),g),ol}function al(t,e,n){return Rs(Kr(),t,qc(e),n),al}function sl(t){var e=pr();nr(e,e[ln],Pr(),t),Gr(t)}function ul(t,e){var n=pr(),r=mu(e,n[wn]),i=bs(t,3,r,null,null);xr(!1),Ou(r,i,n)}function cl(t,e){if(e!==ra){var n=pr(),r=Ln(t,n),i=n[wn];Jr(i)?i.setValue(r,$e(e)):r.textContent=$e(e)}}function ll(t,e){var n=ti(t);if(n){var r=n.native,i=n.lView,o=function(t,e){if(!(e=e||ti(r)))return null;var n=pi(e.nodeIndex,e.lView);return gi(n)||bi(n)}(0,n),a=xi(i);vi(o,a,r,e,0,t),Qs(a,2)}}function hl(t){var e=ti(t);if(!e)return[];var n=pi(e.nodeIndex,e.lView),r=n?gi(n):null;return r?function(t){for(var e=[],n=t[0],r=2;r<n;r+=2){var i=t[r];i&&e.push(i)}for(r=n;r<t.length;r++)e.push(t[r]);return e}(r):[]}function fl(t){var e,n,r=_l(t);return void 0===r.component&&(r.component=1&(n=(e=r.lView)[ln].data[r.nodeIndex]).flags?e[n.directiveStart]:null),r.component}function pl(t){return _l(t).lView[gn]}function dl(t){for(var e,n=gl(t).lView;null===n[cn]&&(e=Oi(n));)n=e;return 512&n[hn]?null:n[gn]}function yl(t){return Object(r.__spread)(xi(t).components)}function ml(t){var e=gl(t);return new Qi(e.lView[ln].data[e.nodeIndex],e.lView)}function vl(t){var e=gl(t);return void 0===e.directives&&(e.directives=si(e.nodeIndex,e.lView,!1)),e.directives||[]}function gl(t,e){void 0===e&&(e=!0);var n=ti(t);if(!n&&e)throw new Error("Invalid ng target");return n}function bl(t){return ti(t).native}function _l(t){if(!(t instanceof Node))throw new Error("Expecting instance of DOM Node");return gl(t)}function wl(t){return"boolean"==typeof t.useCapture}function El(t){var e=_l(t).lView,n=e[vn],r=e[ln].cleanup,i=[];if(r&&n)for(var o=0;o<r.length;){var a=r[o++],s=r[o++];if("string"==typeof a){var u=a,c=Rn(e[s]),l=n[r[o++]],h=r[o++];t==c&&i.push({element:t,name:u,callback:l,useCapture:"boolean"==typeof h?h:!(h>=0)&&null})}}return i.sort(Sl),i}function Sl(t,e){return t.name==e.name?0:t.name<e.name?-1:1}var Tl="ng",Cl=!1;function Il(){Cl||(Cl=!0,Ol("getComponent",fl),Ol("getContext",pl),Ol("getListeners",El),Ol("getViewComponent",dl),Ol("getHostElement",bl),Ol("getInjector",ml),Ol("getRootComponents",yl),Ol("getDirectives",vl),Ol("getPlayers",hl),Ol("markDirty",lu))}function Ol(t,e){if(F){var n=F[Tl];n||(n=F[Tl]={}),n[t]=e}}function Al(t,e){void 0===e&&(e={});var n=e.rendererFactory||$r,r=e.sanitizer||null,i=We(t);i.type!=t&&(i.type=t);var o,a=ks(n,e.host||i.selectors[0][0]),s=i.onPush?576:528,u=Nl(e.scheduler,e.playerHandler),c=n.createRenderer(a,i),l=gs(null,xs(-1,null,1,0,null,null,null,null),u,s,null,null,n,c,void 0,e.injector||null),h=Br(l,null);try{n.begin&&n.begin();var f=xl(a,i,l,n,c,r);o=kl(f,i,l,u,e.hostFeatures||null),Ks(l,f),ys(l),l[hn]&=-5,Wn(l),ys(l)}finally{zr(h),n.end&&n.end()}return o}function xl(t,e,n,r,i,o){yr=!1,dr=null,or=0,ur=!0;var a=n[ln],s=bs(0,3,t,null,null),u=gs(n,As(e.template,e.consts,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas),null,e.onPush?64:16,n[An],s,r,i,o);return a.firstTemplatePass&&(Vi(Ri(s,n),n,e.type),s.flags=1,Bs(s,n.length,1),Fs(s)),n[An]=u}function kl(t,e,n,r,i){var o=n[ln],a=function(t,e,n){var r=Cr();t.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),js(t,r,1),qs(t,e,n,n.factory));var i=Hi(t.data,e,e.length-1,r);return Vs(e,r,i),i}(o,n,e);r.components.push(a),t[gn]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries&&e.contentQueries(1,a,n.length-1);var s=Cr();if(o.firstTemplatePass&&e.hostBindings&&(wr(s.index-An),Ms(e,o.expandoInstructions,a,s,o.firstTemplatePass),s.onElementCreationFns&&su(s),wr(null)),s.stylingTemplate){var u=t[cn];la(u,s.stylingTemplate,t[wn]),ha(u,s.stylingTemplate,t[wn])}return a}function Nl(t,e){return{components:[],scheduler:t||en,clean:tu,playerHandler:e||null,flags:0}}function Dl(t,e){var n=Gn(t)[ln],r=n.data.length-1;tr(r,e,n,-1,-1,-1),er(n,{directiveStart:r,directiveEnd:r+1})}function Pl(t){return xi(t).clean}var Rl=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function Ml(){return jl.ngInherit=!0,jl}function jl(t){t.type.prototype.ngOnChanges&&(t.setInput=Ll,t.onChanges=function(){var t=Fl(this),e=t&&t.current;if(e){var n=t.previous;if(n===xe)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function Ll(t,e,n,r){var i=Fl(t)||function(t,e){return t[Vl]={previous:xe,current:null}}(t),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Rl(u&&u.currentValue,e,a===xe),t[r]=e}var Vl="__ngSimpleChanges__";function Fl(t){return t[Vl]||null}function Ul(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=function(){var n,i,o=void 0;if(zn(t))o=e.ngComponentDef||e.ngDirectiveDef;else{if(e.ngComponentDef)throw new Error("Directives cannot inherit Components");o=e.ngDirectiveDef}var a=e.ngBaseDef;if(a||o){var s=t;s.inputs=Bl(t.inputs),s.declaredInputs=Bl(t.declaredInputs),s.outputs=Bl(t.outputs)}if(a){var u=a.viewQuery,c=a.contentQueries;u&&ql(t,u),c&&zl(t,c),I(t.inputs,a.inputs),I(t.declaredInputs,a.declaredInputs),I(t.outputs,a.outputs)}if(o){var l=t.hostBindings,h=o.hostBindings;h&&(t.hostBindings=l?function(t,e,n){Sr(1);try{h(t,e,n)}finally{Sr(-1)}l(t,e,n)}:h);var f=o.viewQuery,p=o.contentQueries;f&&ql(t,f),p&&zl(t,p),I(t.inputs,o.inputs),I(t.declaredInputs,o.declaredInputs),I(t.outputs,o.outputs),t.afterContentChecked=t.afterContentChecked||o.afterContentChecked,t.afterContentInit=t.afterContentInit||o.afterContentInit,t.afterViewChecked=t.afterViewChecked||o.afterViewChecked,t.afterViewInit=t.afterViewInit||o.afterViewInit,t.doCheck=t.doCheck||o.doCheck,t.onDestroy=t.onDestroy||o.onDestroy,t.onInit=t.onInit||o.onInit;var d=o.features;if(d)try{for(var y=Object(r.__values)(d),m=y.next();!m.done;m=y.next()){var v=m.value;v&&v.ngInherit&&v(t)}}catch(b){n={error:b}}finally{try{m&&!m.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}}else{var g=e.prototype;g&&(t.afterContentChecked=t.afterContentChecked||g.ngAfterContentChecked,t.afterContentInit=t.afterContentInit||g.ngAfterContentInit,t.afterViewChecked=t.afterViewChecked||g.ngAfterViewChecked,t.afterViewInit=t.afterViewInit||g.ngAfterViewInit,t.doCheck=t.doCheck||g.ngDoCheck,t.onDestroy=t.onDestroy||g.ngOnDestroy,t.onInit=t.onInit||g.ngOnInit,g.ngOnChanges&&Ml()(t))}e=Object.getPrototypeOf(e)};e;)n()}function Bl(t){return t===xe?{}:t===ke?[]:t}function ql(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function zl(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}var Hl=new Et("The presence of this token marks an injector as being the root injector."),Kl={},Gl={},Ql=[],Wl=void 0;function Yl(){return void 0===Wl&&(Wl=new Ot),Wl}function Zl(t,e,n,r){return void 0===e&&(e=null),void 0===n&&(n=null),e=e||Yl(),new Xl(t,n,e,r)}var Xl=function(){function t(t,e,n,r){var i=this;void 0===r&&(r=null),this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];eh([t],function(t){return i.processInjectorType(t,[],o)}),e&&eh(e,function(n){return i.processProvider(n,t,e)}),this.records.set(It,th(void 0,this)),this.isRootInjector=this.records.has(Hl),this.injectorDefTypes.forEach(function(t){return i.get(t)}),this.source=r||(t instanceof Array?null:R(t))}return Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},t.prototype.get=function(t,e,n){void 0===e&&(e=At.THROW_IF_NOT_FOUND),void 0===n&&(n=T.Default),this.assertNotDestroyed();var r,i=z(this);try{if(!(n&T.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Et)&&k(t);a&&this.injectableDefInScope(a)&&(o=th(Jl(t),Kl),this.records.set(t,o))}if(void 0!==o)return this.hydrate(t,o)}return(n&T.Self?Yl():this.parent).get(t,n&T.Optional?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Mt]=s[Mt]||[]).unshift(R(t)),i)throw s;return Ut(s,t,"R3InjectorError",this.source)}throw s}finally{z(i)}},t.prototype.assertNotDestroyed=function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")},t.prototype.processInjectorType=function(t,e,n){var r=this;if(t=L(t)){var i=N(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a),u=void 0!==o&&t.providers||Ql;if(void 0!==o&&(i=N(o)),null!=i){if(this.injectorDefTypes.add(a),this.records.set(a,th(i.factory,Kl)),null!=i.imports&&!s){n.push(a);try{eh(i.imports,function(t){return r.processInjectorType(t,e,n)})}finally{}}var c=i.providers;if(null!=c&&!s){var l=t;eh(c,function(t){return r.processProvider(t,l,c)})}var h=t.ngModule;eh(u,function(t){return r.processProvider(t,h,u)})}}},t.prototype.processProvider=function(t,e,n){var r=rh(t=L(t))?t:L(t&&t.provide),i=function(t,e,n){var r=$l(t,e,n);return nh(t)?th(void 0,t.useValue):th(r,Kl)}(t,e,n);if(rh(t)||!0!==t.multi){var o=this.records.get(r);if(o&&void 0!==o.multi)throw new Error("Mixed multi-provider for "+R(r))}else{var a=this.records.get(r);if(a){if(void 0===a.multi)throw new Error("Mixed multi-provider for "+r+".")}else(a=th(void 0,Kl,!0)).factory=function(){return Y(a.multi)},this.records.set(r,a);r=t,a.multi.push(t)}this.records.set(r,i)},t.prototype.hydrate=function(t,e){if(e.value===Gl)throw new Error("Cannot instantiate cyclic dependency! "+R(t));var n;return e.value===Kl&&(e.value=Gl,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value},t.prototype.injectableDefInScope=function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||"root"===t.providedIn&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))},t}();function Jl(t){var e=k(t);if(null===e){var n=N(t);if(null!==n)return n.factory;if(t instanceof Et)throw new Error("Token "+R(t)+" is missing an ngInjectableDef definition.");if(t instanceof Function){var r=t.length;if(r>0){var i=new Array(r).fill("?");throw new Error("Can't resolve all parameters for "+R(t)+": ("+i.join(", ")+").")}return function(){return new t}}throw new Error("unreachable")}return e.factory}function $l(t,e,n){var i,o=void 0;if(rh(t))return Jl(L(t));if(nh(t))o=function(){return L(t.useValue)};else if((i=t)&&i.useExisting)o=function(){return G(L(t.useExisting))};else if(t&&t.useFactory)o=function(){return t.useFactory.apply(t,Object(r.__spread)(Y(t.deps||[])))};else{var a=L(t&&(t.useClass||t.provide));if(!a){var s="";throw e&&n&&(s=" - only instances of Provider and Type are allowed, got: ["+n.map(function(e){return e==t?"?"+t+"?":"..."}).join(", ")+"]"),new Error("Invalid provider for the NgModule '"+R(e)+"'"+s)}if(!t.deps)return Jl(a);o=function(){return new(a.bind.apply(a,Object(r.__spread)([void 0],Y(t.deps))))}}return o}function th(t,e,n){return void 0===n&&(n=!1),{factory:t,value:e,multi:n?[]:void 0}}function eh(t,e){t.forEach(function(t){return Array.isArray(t)?eh(t,e):e(t)})}function nh(t){return null!==t&&"object"==typeof t&&Pt in t}function rh(t){return"function"==typeof t}function ih(t,e,n,r,i){if(t=L(t),Array.isArray(t))for(var o=0;o<t.length;o++)ih(t[o],e,n,r,i);else{var a=pr(),s=rh(t)?t:L(t.provide),u=$l(t),c=Cr(),l=65535&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>16;if(t.useClass||rh(t)){var p=(t.useClass||t).prototype.ngOnDestroy;if(p){var d=a[ln];(d.destroyHooks||(d.destroyHooks=[])).push(e.length,p)}}if(rh(t)||!t.multi){var y=new $n(u,i,Uu),m=ah(s,e,i?l:l+f,h);-1==m?(Vi(Ri(c,a),a,s),e.push(s),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(y),a.push(y)):(n[m]=y,a[m]=y)}else{var v=ah(s,e,l+f,h),g=ah(s,e,l,l+f),b=g>=0&&n[g];i&&!b||!i&&!(v>=0&&n[v])?(Vi(Ri(c,a),a,s),y=function(t,e,n,r,i){var o=new $n(t,n,Uu);return o.multi=[],o.index=e,o.componentProviders=0,oh(o,i,r&&!n),o}(i?uh:sh,n.length,i,r,u),!i&&b&&(n[g].providerFactory=y),e.push(s),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(y),a.push(y)):oh(n[i?g:v],u,!i&&r),!i&&r&&b&&n[g].componentProviders++}}}function oh(t,e,n){t.multi.push(e),n&&t.componentProviders++}function ah(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function sh(t,e,n,r){return ch(this.multi,[])}function uh(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=Hi(e,n,this.providerFactory.index,r);ch(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else ch(o,i=[]);return i}function ch(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function lh(t,e){return void 0===e&&(e=[]),function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=pr()[ln];if(r.firstTemplatePass){var i=zn(t);ih(n,r.data,r.blueprint,i,!0),ih(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var hh=function(){return function(){}}(),fh=function(){return function(){}}();function ph(t){var e=Error("No component factory found for "+R(t)+". Did you add it to @NgModule.entryComponents?");return e[vh]=t,e}var dh,yh,mh,vh="ngComponent",gh=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw ph(t)},t}(),bh=function(){function t(){}return t.NULL=new gh,t}(),_h=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw ph(t);return new wh(e,this._ngModule)},t}(),wh=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.__extends)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(fh),Eh=function(){return function(){}}(),Sh=function(){return function(){}}(),Th=function(){function t(t,e,n){this._context=e,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=t}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return null==this._lView[cn]?function t(e,n,r){for(var i=n.child;i;){var o=Vn(i,e);if(o&&r.push(o),4===i.type)t(e,i,r);else if(1===i.type)for(var a=Ai(e),s=a[yn],u=Oi(a),c=s.projection[i.projection];c&&u;)r.push(Vn(c,u)),c=c.next;i=i.next}return r}(this._lView,this._lView[yn],[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 256==(256&this._lView[hn])},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}wu(this._lView)},t.prototype.onDestroy=function(t){var e,n;n=t,nu(e=this._lView).push(n),e[ln].firstTemplatePass&&ru(e).push(e[vn].length-1,null)},t.prototype.markForCheck=function(){Gs(this._lView)},t.prototype.detach=function(){this._lView[hn]&=-129},t.prototype.reattach=function(){this._lView[hn]|=128},t.prototype.detectChanges=function(){Ys(this._lView,this.context)},t.prototype.checkNoChanges=function(){!function(t,e){Rr(!0);try{Ys(t,e)}finally{Rr(!1)}}(this._lView,this.context)},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t.prototype.detachFromAppRef=function(){var t;this._appRef=null,du(t=this._lView,1,t[wn],null)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype._lookUpContext=function(){return this._context=Oi(this._lView)[this._componentIndex]},t}(),Ch=function(t){function e(e){var n=t.call(this,e,null,-1)||this;return n._view=e,n}return Object(r.__extends)(e,t),e.prototype.detectChanges=function(){Zs(this._view)},e.prototype.checkNoChanges=function(){!function(t){Rr(!0);try{Zs(t)}finally{Rr(!1)}}(this._view)},Object.defineProperty(e.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),e}(Th);function Ih(t,e,n){return dh||(dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(t)),new dh(Vn(e,n))}function Oh(t,e,n,i){if(yh||(yh=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a._declarationParentView=e,a.elementRef=n,a._tView=r,a._hostLContainer=i,a._injectorIndex=o,a}return Object(r.__extends)(e,t),e.prototype.createEmbeddedView=function(t,e,n){var r=this._declarationParentView[dn];r&&null==this._hostLContainer[dn]&&(this._hostLContainer[dn]=r.container());var i=function(t,e,n,r,i){var o=Ar(),a=Cr();xr(!0),Ir(null);var s=gs(n,t,e,16,null,null);return s[In]=n,r&&(s[dn]=r.createView()),_s(t,null,-1,s),t.firstTemplatePass&&(t.node.injectorIndex=i),xr(o),Ir(a),s}(this._tView,t,this._declarationParentView,this._hostLContainer[dn],this._injectorIndex);e&&gu(i,e,n),ws(i,this._tView,t);var o=new Th(i,t,-1);return o._tViewNode=i[yn],o},e}(t)),0===n.type){var o=i[n.index];return new yh(i,Ih(e,n,i),n.tViews,o,n.injectorIndex)}return null}function Ah(t,e,n){if(qn(t)){var r=t.directiveStart,i=Bn(t.index,e);return new Th(i,n,r)}if(3===t.type||0===t.type||4===t.type){var o=Ai(e);return new Th(o,o[gn],-1)}return null}function xh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var kh=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return Dh(t)},t}(),Nh=function(t){return Ih(t,Cr(),pr())},Dh=xh,Ph=function(){return function(t,e,n,r,i,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o}}(),Rh=function(){return function(){}}(),Mh=function(){return function(){}}(),jh=function(){return function(){}}(),Lh=function(){return function(){}}(),Vh=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),Fh=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Bh()},t}(),Uh=function(){return function(t){var e=pr()[wn];if(Jr(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}()},Bh=xh,qh=function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}(),zh=new qh("8.0.3"),Hh=function(){function t(){}return t.prototype.supports=function(t){return kc(t)},t.prototype.create=function(t){return new Gh(t)},t}(),Kh=function(t,e){return e},Gh=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Kh}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Zh(n,r,i)?e:n,a=Zh(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!kc(t))throw new Error("Error trying to diff '"+R(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&Oc(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Oc(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[Ic()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Oc(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Oc(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Oc(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Oc(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Qh(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Yh),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yh),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),Qh=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Wh=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Oc(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Yh=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Wh,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Zh(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Xh=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Nc(t)},t.prototype.create=function(){return new Jh},t}(),Jh=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Nc(t)))throw new Error("Error trying to diff '"+R(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new $h(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){Oc(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),$h=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),tf=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new g]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=O({providedIn:"root",factory:function(){return new t([new Hh])}}),t}(),ef=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new g]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t.ngInjectableDef=O({providedIn:"root",factory:function(){return new t([new Xh])}}),t}(),nf=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return of()},t}(),rf=function(){return Ah(Cr(),pr(),null)},of=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},af=[new Xh],sf=new tf([new Hh]),uf=new ef(af),cf=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return hf(t,kh)},t}(),lf=function(t,e){return Oh(t,e,Cr(),pr())},hf=xh,ff=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return df(t,kh)},t}(),pf=function(t,e){return function(t,e,n,i){var o;mh||(mh=function(t){function n(e,n,r){var i=t.call(this)||this;return i._lContainer=e,i._hostTNode=n,i._hostView=r,i._viewRefs=[],i}return Object(r.__extends)(n,t),Object.defineProperty(n.prototype,"element",{get:function(){return Ih(e,this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return new Qi(this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentInjector",{get:function(){var t=Li(this._hostTNode,this._hostView),e=Ii(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.injectorIndex;)i=i.parent;return i}for(var o=Ci(t),a=e,s=e[yn];o>1;)s=(a=a[In])[yn],o--;return s}(t,this._hostView,this._hostTNode);return Si(t)&&null!=n?new Qi(n,e):new Qi(null,this._hostView)},enumerable:!0,configurable:!0}),n.prototype.clear=function(){for(;this._lContainer[Dn].length;)this.remove(0)},n.prototype.get=function(t){return this._viewRefs[t]||null},Object.defineProperty(n.prototype,"length",{get:function(){return this._lContainer[Dn].length},enumerable:!0,configurable:!0}),n.prototype.createEmbeddedView=function(t,e,n){var r=this._adjustIndex(n),i=t.createEmbeddedView(e||{},this._lContainer,r);return i.attachToViewContainerRef(this),this._viewRefs.splice(r,0,i),i},n.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;!i&&null==t.ngModule&&o&&(i=o.get(Eh,null));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},n.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t._lView,r=this._adjustIndex(e);return Qn(n)?this.move(t,r):(gu(n,this._lContainer,r),vu(n,!0,Au(r,this._lContainer[Dn],this._lContainer[Nn])),t.attachToViewContainerRef(this),this._viewRefs.splice(r,0,t),t)},n.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this.indexOf(t);return-1!==n&&this.detach(n),this.insert(t,e),t},n.prototype.indexOf=function(t){return this._viewRefs.indexOf(t)},n.prototype.remove=function(t){var e=this._adjustIndex(t,-1);_u(this._lContainer,e),this._viewRefs.splice(e,1)},n.prototype.detach=function(t){var e=this._adjustIndex(t,-1),n=bu(this._lContainer,e);return n&&null!=this._viewRefs.splice(e,1)[0]?new Th(n,n[gn],-1):null},n.prototype._adjustIndex=function(t,e){return void 0===e&&(e=0),null==t?this._lContainer[Dn].length+e:t},n}(t));var a=i[n.index];if(jn(a))(o=a)[kn]=-1;else{var s=i[wn].createComment("");if(Hn(i)){var u=i[wn],c=Vn(n,i);Tu(u,Iu(u,c),s,function(t,e){return Jr(t)?t.nextSibling(e):e.nextSibling}(u,c))}else Ou(s,n,i);i[n.index]=o=Hs(a,i,s,n,!0),Ks(i,o)}return new mh(o,n,i)}(t,e,Cr(),pr())},df=xh;function yf(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return mf(n,e),n}(i,t)}function mf(t,e){t[zt]=e,t[Kt]=e.logError.bind(e)}function vf(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function gf(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function bf(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function _f(t,e){return t.nodes[e]}function wf(t,e){return t.nodes[e]}function Ef(t,e){return t.nodes[e]}function Sf(t,e){return t.nodes[e]}function Tf(t,e){return t.nodes[e]}var Cf=function(){return function(){}}(),If={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Of=function(){},Af=new Map;function xf(t){var e=Af.get(t);return e||(e=R(t)+"_"+Af.size,Af.set(t,e)),e}function kf(t,e,n,r){if(xc.isWrapped(r)){r=xc.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=xc.unwrap(t.oldValues[i]);t.oldValues[i]=new xc(o)}return r}var Nf="$$undefined",Df="$$empty";function Pf(t){return{id:Nf,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Rf=0;function Mf(t,e,n,r){return!(!(2&t.state)&&Oc(t.oldValues[e.bindingIndex+n],r))}function jf(t,e,n,r){return!!Mf(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Lf(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ac(i,r)){var o=e.bindings[n].name;throw yf(If.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function Vf(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Ff(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Uf(t,e,n,r){try{return Vf(33554432&t.def.nodes[e].flags?wf(t,e).componentView:t),If.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Bf(t){return t.parent?wf(t.parent,t.parentNodeDef.nodeIndex):null}function qf(t){return t.parent?t.parentNodeDef.parent:null}function zf(t,e){switch(201347067&e.flags){case 1:return wf(t,e.nodeIndex).renderElement;case 2:return _f(t,e.nodeIndex).renderText}}function Hf(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Kf(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Gf(t){return 1<<t%32}function Qf(t){var e={},n=0,i={};return t&&t.forEach(function(t){var o=Object(r.__read)(t,2),a=o[0],s=o[1];"number"==typeof a?(e[a]=s,n|=Gf(a)):i[a]=s}),{matchedQueries:e,references:i,matchedQueryIds:n}}function Wf(t,e){return t.map(function(t){var n,i,o;return Array.isArray(t)?(o=(n=Object(r.__read)(t,2))[0],i=n[1]):(o=0,i=t),i&&("function"==typeof i||"object"==typeof i)&&e&&Object.defineProperty(i,St,{value:e,configurable:!0}),{flags:o,token:i,tokenKey:xf(i)}})}function Yf(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Oe.Native?wf(t,n.renderParent.nodeIndex).renderElement:void 0:e}var Zf=new WeakMap;function Xf(t){var e=Zf.get(t);return e||((e=t(function(){return Of})).factory=t,Zf.set(t,e)),e}function Jf(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(zf(t,t.def.lastRenderRootNode))),$f(t,e,0,t.def.nodes.length-1,n,r,i)}function $f(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&ep(t,u,e,i,o,a),s+=u.childCount}}function tp(t,e,n,r,i,o){for(var a=t;a&&!Hf(a);)a=a.parent;for(var s=a.parent,u=qf(a),c=u.nodeIndex+u.childCount,l=u.nodeIndex+1;l<=c;l++){var h=s.def.nodes[l];h.ngContentIndex===e&&ep(s,h,n,r,i,o),l+=h.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(l=0;l<f.length;l++)np(t,f[l],n,r,i,o)}}function ep(t,e,n,r,i,o){if(8&e.flags)tp(t,e.ngContent.index,n,r,i,o);else{var a=zf(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&np(t,a,n,r,i,o),32&e.bindingFlags&&np(wf(t,e.nodeIndex).componentView,a,n,r,i,o)):np(t,a,n,r,i,o),16777216&e.flags)for(var s=wf(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)Jf(s[u],n,r,i,o);1&e.flags&&!e.element.name&&$f(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function np(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var rp=/^:([^:]+):(.+)$/;function ip(t){if(":"===t[0]){var e=t.match(rp);return[e[1],e[2]]}return["",t]}function op(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function ap(t,e){for(var n="",r=0;r<2*t;r+=2)n=n+e[r]+up(e[r+1]);return n+e[2*t]}function sp(t,e,n,r,i,o,a,s,u,c,l,h,f,p,d,y,m,v,g,b){switch(t){case 1:return e+up(n)+r;case 2:return e+up(n)+r+up(i)+o;case 3:return e+up(n)+r+up(i)+o+up(a)+s;case 4:return e+up(n)+r+up(i)+o+up(a)+s+up(u)+c;case 5:return e+up(n)+r+up(i)+o+up(a)+s+up(u)+c+up(l)+h;case 6:return e+up(n)+r+up(i)+o+up(a)+s+up(u)+c+up(l)+h+up(f)+p;case 7:return e+up(n)+r+up(i)+o+up(a)+s+up(u)+c+up(l)+h+up(f)+p+up(d)+y;case 8:return e+up(n)+r+up(i)+o+up(a)+s+up(u)+c+up(l)+h+up(f)+p+up(d)+y+up(m)+v;case 9:return e+up(n)+r+up(i)+o+up(a)+s+up(u)+c+up(l)+h+up(f)+p+up(d)+y+up(m)+v+up(g)+b;default:throw new Error("Does not support more than 9 expressions")}}function up(t){return null!=t?t.toString():""}var cp=[],lp={},hp=new Object,fp=xf(At),pp=xf(It),dp=xf(Eh);function yp(t,e,n,r){return n=L(n),{index:-1,deps:Wf(r,R(e)),flags:t,token:e,value:n}}function mp(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===Hl&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[xf(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function vp(t,e,n){void 0===n&&(n=At.THROW_IF_NOT_FOUND);var r,i,o=z(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case fp:case pp:case dp:return t}var s,u=t._def.providersByKey[a];if(u){var c=t._providers[u.index];return void 0===c&&(c=t._providers[u.index]=gp(t,u)),c===hp?void 0:c}if((s=k(e.token))&&(r=t,null!=(i=s).providedIn&&(function(t,e){return t._def.modules.indexOf(i.providedIn)>-1}(r)||"root"===i.providedIn&&r._def.isRoot))){var l=t._providers.length;return t._def.providers[l]=t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:l,token:e.token},t._providers[l]=hp,t._providers[l]=gp(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{z(o)}}function gp(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(vp(t,n[0]));case 2:return new e(vp(t,n[0]),vp(t,n[1]));case 3:return new e(vp(t,n[0]),vp(t,n[1]),vp(t,n[2]));default:for(var o=new Array(i),a=0;a<i;a++)o[a]=vp(t,n[a]);return new(e.bind.apply(e,Object(r.__spread)([void 0],o)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(vp(t,n[0]));case 2:return e(vp(t,n[0]),vp(t,n[1]));case 3:return e(vp(t,n[0]),vp(t,n[1]),vp(t,n[2]));default:for(var o=Array(i),a=0;a<i;a++)o[a]=vp(t,n[a]);return e.apply(void 0,Object(r.__spread)(o))}}(t,e.value,e.deps);break;case 2048:n=vp(t,e.deps[0]);break;case 256:n=e.value}return n===hp||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?hp:n}function bp(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Sp(n,e),If.dirtyParentQueries(r),wp(r),r}function _p(t,e,n){var r=e?zf(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Jf(n,2,i,o,void 0)}function wp(t){Jf(t,3,null,null,void 0)}function Ep(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Sp(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var Tp=new Object;function Cp(t,e,n,r,i,o){return new Op(t,e,n,r,i,o)}function Ip(t){return t.viewDefFactory}var Op=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=Xf(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=If.createRootView(t,e||[],n,i,r,Tp),s=Ef(a,o).instance;return n&&a.renderer.setAttribute(wf(a,0).renderElement,"ng-version",zh.full),new Ap(a,new Dp(a),s)},e}(fh),Ap=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new kh(wf(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new jp(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(hh);function xp(t,e,n){return new kp(t,e,n)}var kp=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new kh(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new jp(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=qf(t),t=t.parent;return t?new jp(t,e):new jp(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=bp(this._data,t);If.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Dp(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof wh||(i=o.get(Eh));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a=t;return o=(n=this._data).viewContainer._embeddedViews,null==(r=e)&&(r=o.length),(i=a._view).viewContainerParent=this._view,Ep(o,r,i),function(t,e){var n=Bf(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,i),If.dirtyParentQueries(i),_p(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return i=e,a=(o=(n=this._data).viewContainer._embeddedViews)[r=s],Sp(o,r),null==i&&(i=o.length),Ep(o,i,a),If.dirtyParentQueries(a),wp(a),_p(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=bp(this._data,t);e&&If.destroyView(e)},t.prototype.detach=function(t){var e=bp(this._data,t);return e?new Dp(e):null},t}();function Np(t){return new Dp(t)}var Dp=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return Jf(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Vf(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{If.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){If.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),If.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,wp(this._view),If.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Pp(t,e){return new Rp(t,e)}var Rp=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.__extends)(e,t),e.prototype.createEmbeddedView=function(t){return new Dp(If.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new kh(wf(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(cf);function Mp(t,e){return new jp(t,e)}var jp=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=At.THROW_IF_NOT_FOUND),If.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:xf(t)},e)},t}();function Lp(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=wf(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return _f(t,n.nodeIndex).renderText;if(20240&n.flags)return Ef(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Vp(t){return new Fp(t.renderer)}var Fp=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Object(r.__read)(ip(e),2),i=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=Object(r.__read)(ip(e),2),o=i[0],a=i[1];null!=n?this.delegate.setAttribute(t,a,n,o):this.delegate.removeAttribute(t,a,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Up(t,e,n,r){return new Bp(t,e,n,r)}var Bp=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=gp(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=At.THROW_IF_NOT_FOUND),void 0===n&&(n=T.Default);var r=0;return n&T.SkipSelf?r|=1:n&T.Self&&(r|=4),vp(this,{token:t,tokenKey:xf(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(bh)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+R(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==hp){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),qp=xf(Mh),zp=xf(Fh),Hp=xf(kh),Kp=xf(ff),Gp=xf(cf),Qp=xf(nf),Wp=xf(At),Yp=xf(It);function Zp(t,e,n,i,o,a,s,u){var c=[];if(s)for(var l in s){var h=Object(r.__read)(s[l],2);c[h[0]]={flags:8,name:l,nonMinifiedName:h[1],ns:null,securityContext:null,suffix:null}}var f=[];if(u)for(var p in u)f.push({type:1,propName:p,target:null,eventName:u[p]});return $p(t,e|=16384,n,i,o,o,a,c,f)}function Xp(t,e,n){return $p(-1,t|=16,null,0,e,e,n)}function Jp(t,e,n,r,i){return $p(-1,t,e,0,n,r,i)}function $p(t,e,n,r,i,o,a,s,u){var c=Qf(n),l=c.matchedQueries,h=c.references,f=c.matchedQueryIds;u||(u=[]),s||(s=[]),o=L(o);var p=Wf(a,R(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:op(s),outputs:u,element:null,provider:{token:i,value:o,deps:p},text:null,query:null,ngContent:null}}function td(t,e){return id(t,e)}function ed(t,e){for(var n=t;n.parent&&!Hf(n);)n=n.parent;return od(n.parent,qf(n),!0,e.provider.value,e.provider.deps)}function nd(t,e){var n=od(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName];if(!yc(o))throw new Error("@Output "+i.propName+" not initialized in '"+n.constructor.name+"'.");var a=o.subscribe(rd(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=a.unsubscribe.bind(a)}return n}function rd(t,e,n){return function(r){return Uf(t,e,n,r)}}function id(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return od(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,o){var a=o.length;switch(a){case 0:return i();case 1:return i(sd(t,e,n,o[0]));case 2:return i(sd(t,e,n,o[0]),sd(t,e,n,o[1]));case 3:return i(sd(t,e,n,o[0]),sd(t,e,n,o[1]),sd(t,e,n,o[2]));default:for(var s=Array(a),u=0;u<a;u++)s[u]=sd(t,e,n,o[u]);return i.apply(void 0,Object(r.__spread)(s))}}(t,e.parent,n,i.value,i.deps);case 2048:return sd(t,e.parent,n,i.deps[0]);case 256:return i.value}}function od(t,e,n,i,o){var a=o.length;switch(a){case 0:return new i;case 1:return new i(sd(t,e,n,o[0]));case 2:return new i(sd(t,e,n,o[0]),sd(t,e,n,o[1]));case 3:return new i(sd(t,e,n,o[0]),sd(t,e,n,o[1]),sd(t,e,n,o[2]));default:for(var s=new Array(a),u=0;u<a;u++)s[u]=sd(t,e,n,o[u]);return new(i.bind.apply(i,Object(r.__spread)([void 0],s)))}}var ad={};function sd(t,e,n,r,i){if(void 0===i&&(i=At.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===Qp&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case qp:return Vp(ud(s,e,n));case zp:return ud(s,e,n).renderer;case Hp:return new kh(wf(s,e.nodeIndex).renderElement);case Kp:return wf(s,e.nodeIndex).viewContainer;case Gp:if(e.element.template)return wf(s,e.nodeIndex).template;break;case Qp:return Np(ud(s,e,n));case Wp:case Yp:return Mp(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var c=Ef(s,u.nodeIndex);return c||(c={instance:id(s,u)},s.nodes[u.nodeIndex]=c),c.instance}}n=Hf(s),e=qf(s),s=s.parent,4&r.flags&&(s=null)}var l=o.root.injector.get(r.token,ad);return l!==ad||i===ad?l:o.root.ngModule.injector.get(r.token,i)}function ud(t,e,n){var r;if(n)r=wf(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Hf(r);)r=r.parent;return r}function cd(t,e,n,r,i,o){if(32768&n.flags){var a=wf(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=xc.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Rl(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function ld(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&fd(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=hd(t,a,e,r)),a=a.parent}}function hd(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&fd(t,i,o.flags&n,r++),i+=o.childCount}return r}function fd(t,e,n,r){var i=Ef(t,e);if(i){var o=i.instance;o&&(If.setCurrentNode(t,e),1048576&n&&bf(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&bf(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var pd=function(t){function e(e){var n=t.call(this)||this;return n.ngModule=e,n}return Object(r.__extends)(e,t),e.prototype.resolveComponentFactory=function(t){var e=We(t);return new vd(e,this.ngModule)},e}(bh);function dd(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var yd=new Et("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return Nl(G(md))}}),md=new Et("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return en}}),vd=function(t){function e(e,n){var r=t.call(this)||this;return r.componentDef=e,r.ngModule=n,r.componentType=e.type,r.selector=e.selectors[0][0],r.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],r.isBoundToModule=!!n,r}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return dd(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return dd(this.componentDef.outputs)},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){var i=void 0===n,o=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,ad,i);return o!==ad||r===ad?o:e.get(n,r,i)}}}(t,r.injector):t,a=o.get(Lh,$r),s=o.get(Fo,null),u=i?vs(this.selector,a.createRenderer(null,this.componentDef)):ks(a,n),c=this.componentDef.onPush?576:528,l="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),h=i||l?Nl():o.get(yd),f=a.createRenderer(u,this.componentDef);n&&u&&(Jr(f)?f.setAttribute(u,"ng-version",zh.full):u.setAttribute("ng-version",zh.full));var p,d,y=gs(null,xs(-1,null,1,0,null,null,null,null),h,c,null,null,a,f,s,o),m=Br(y,null);try{var v=xl(u,this.componentDef,y,a,f);d=Fn(0,y),e&&(d.projection=e.map(function(t){return Array.from(t)})),p=kl(v,this.componentDef,y,h,[Dl]),Ks(y,v),ys(y)}finally{zr(m)}var g=new gd(this.componentType,p,Ih(kh,d,y),y,d);return i&&(g.hostView._tViewNode.child=d),g},e}(fh),gd=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a.location=r,a._rootLView=i,a._tNode=o,a.destroyCbs=[],a.instance=n,a.hostView=a.changeDetectorRef=new Ch(i),a.hostView._tViewNode=_s(i[ln],null,-1,i),a.componentType=e,a}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"injector",{get:function(){return new Qi(this._tNode,this._rootLView)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy()},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(hh);function bd(t,e){for(var n=0;n<t.length;n++)e.push(t[n])}function _d(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),_d(r,e)):e!==t&&e.push(r)}return e}var wd="\ufffd",Ed=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Sd=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Td=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Cd=/\ufffd(\d+):?\d*\ufffd/gi,Id=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Od=0,Ad=/\[(\ufffd.+?\ufffd?)\]/,xd=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,kd=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Nd=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Dd=/\/\*/,Pd=/\d+\:(\d+)/;function Rd(t){if(!t)return[];var e,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var a=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var s=t.substring(n,a);Ed.test(s)?i.push(Md(s)):s&&i.push(s),n=a+1}}else{if(0==r.length){var u=t.substring(n,a);i.push(u),n=a+1}r.push("{")}}var c=t.substring(n);return""!=c&&i.push(c),i}function Md(t){for(var e=[],n=[],r=1,i=0,o=Rd(t=t.replace(Ed,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var u=Rd(o[a++]);u.length&&n.push(u)}return c=e.indexOf("other"),l='Missing key "other" in ICU statement.',c<=-1&&function(t){throw new Error("ASSERTION ERROR: "+t)}(l),{type:r,mainBinding:i,cases:e,values:n};var c,l}function jd(t){for(var e,n,r="",i=0,o=!1;null!==(e=Sd.exec(t));)o?e[0]===wd+"/*"+n+wd&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+t.substr(i)}function Ld(t,e,n,r){void 0===r&&(r=null);for(var i=[null,null],o=t.split(Cd),a=0,s=0;s<o.length;s++){var u=o[s];if(1&s){var c=parseInt(u,10);i.push(-1-c),a|=Bd(c)}else""!==u&&i.push(u)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=a,i[1]=i.length-2,i}function Vd(t,e){var n;void 0===e&&(e=0),e|=Bd(t.mainBinding);for(var r=0;r<t.values.length;r++)for(var i=t.values[r],o=0;o<i.length;o++){var a=i[o];if("string"==typeof a)for(;n=Cd.exec(a);)e|=Bd(parseInt(n[1],10));else e=Vd(a,e)}return e}var Fd=[],Ud=-1;function Bd(t){return 1<<Math.min(t,31)}var qd,zd=[];function Hd(t,e,n){var r=pr()[ln];Fd[++Ud]=t,r.firstTemplatePass&&null===r.data[t+An]&&function(t,e,n,r){var i=pr(),o=t.blueprint.length-An;qd=0;var a=Cr(),s=Ar()?Cr():a&&a.parent,u=s&&s!==i[yn]?s.index-An:e,c=0;zd[c]=u;var l=[];e>0&&a!==s&&l.push(a.index<<3|0);for(var h=[],f=[],p=function(t,e){if("number"!=typeof e)return jd(t);var n=t.indexOf(":"+e+wd)+2+e.toString().length,r=t.search(new RegExp(wd+"\\/\\*\\d+:"+e+wd));return jd(t.substring(n,r))}(n,r).split(Td),d=0;d<p.length;d++){var y=p[d];if(1&d)if("/"===y.charAt(0)){if("#"===y.charAt(1)){var m=parseInt(y.substr(2),10);u=zd[--c],l.push(m<<3|5)}}else m=parseInt(y.substr(1),10),l.push(m<<3|0,u<<17|1),"#"===y.charAt(0)&&(zd[++c]=u=m);else for(var v=Rd(y),g=0;g<v.length;g++)if(1&g){var b=o+qd++;l.push(ea,"",b,u<<17|1);var _=v[g],w=Vd(_);oy(f,_,b,b);var E=f.length-1;h.push(Bd(_.mainBinding),3,-1-_.mainBinding,b<<2|2,E,w,2,b<<2|3,E)}else if(""!==v[g]){var S=v[g],T=S.match(Cd),C=o+qd++;l.push(T?"":S,C,u<<17|1),T&&bd(Ld(S,C),h)}}(function(t,e){var n=t[ln];if(n.firstTemplatePass){for(var r=0;r<e;r++)n.blueprint.push(null),n.data.push(null),t.push(null);n.expandoInstructions?n.expandoInstructions.push(e):n.expandoStartIndex+=e}})(i,qd),t.data[e+An]={vars:qd,create:l,update:h,icus:f.length?f:null}}(r,t,e,n)}function Kd(t,e,n){var r=t.next,i=pr();n||(n=e),n===e&&t!==e.child?(t.next=e.child,e.child=t):n!==e&&t!==n.next?(t.next=n.next,n.next=t):t.next=null,e!==i[yn]&&(t.parent=e);for(var o=t.next;o;)o.next===t&&(o.next=r),o=o.next;Ou(Vn(t,i),t,i);var a=i[t.index];return 0!==t.type&&jn(a)&&Ou(a[Nn],t,i),t}function Gd(t,e){void 0===e&&(e={});var n=t;if(Ad.test(t)){var i={},o=[Od];if(n=n.replace(xd,function(t,e,n){var a=e||n;if(!i[a]){var s=[];a.split("|").forEach(function(t){var e=t.match(Pd),n=e?parseInt(e[1],10):Od,r=Dd.test(t);s.push([n,r,t])}),i[a]=s}if(!i[a].length)throw new Error("i18n postprocess: unmatched placeholder - "+a);for(var u=o[o.length-1],c=i[a],l=0,h=0;h<c.length;h++)if(c[h][0]===u){l=h;break}var f=Object(r.__read)(c[l],3),p=f[0],d=f[2];return f[1]?o.pop():u!==p&&o.push(p),c.splice(l,1),d}),Object.keys(i).some(function(t){return!!i[t].length}))throw new Error("i18n postprocess: unmatched values - "+JSON.stringify(i))}return Object.keys(e).length?n=(n=n.replace(kd,function(t,n,r,i,o,a){return e.hasOwnProperty(r)?""+n+e[r]+a:t})).replace(Nd,function(t,n){if(e.hasOwnProperty(n)){var r=e[n];if(!r.length)throw new Error("i18n postprocess: unmatched ICU - "+t+" with key: "+n);return r.shift()}return t}):n}function Qd(){!function(t){for(var e=pr(),n=Fd[Ud--],r=t.data[n+An],i=Cr(),o=Yd(n,r.create,0,e),a=n+1;a<=i.index-An;a++)-1===o.indexOf(a)&&Zd(a,e)}(pr()[ln])}function Wd(t,e,n,r){var i=Cr(),o=bs(t,e,n,r,null);return i.next===o&&(i.next=null),o}function Yd(t,e,n,r){for(var i=pr()[wn],o=null,a=null,s=[],u=0;u<e.length;u++){var c=e[u];if("string"==typeof c){var l=mu(c,i),h=e[++u];a=o,o=Wd(h,3,l,null),s.push(h),xr(!1)}else if("number"==typeof c)switch(7&c){case 1:var f=c>>>17;a=Kd(o,f===t?r[yn]:Fn(f,r),a);break;case 0:var p=c>>>3;s.push(p),a=o,(o=Fn(p,r))&&(Ir(o),3===o.type&&xr(!0));break;case 5:a=o=Fn(c>>>3,r),Ir(o),xr(!1);break;case 4:sc(v=c>>>3,e[++u],e[++u]);break;default:throw new Error('Unable to determine the type of mutate operation for "'+c+'"')}else switch(c){case ea:var d=e[++u],y=e[++u],m=i.createComment(d);a=o,o=Wd(y,5,m,null),s.push(y),ri(m,r),o.activeCaseIndex=null,xr(!1);break;case ta:var v,g=e[++u];a=o,o=Wd(v=e[++u],3,i.createElement(g),g),s.push(v);break;default:throw new Error('Unable to determine the type of mutate operation for "'+c+'"')}}return xr(!1),s}function Zd(t,e){var n=Fn(t,e),r=Ln(t,e);r&&xu(e[wn],r);var i=Fu(t);jn(i)&&0!==n.type&&xu(e[wn],i[Nn])}function Xd(t,e,n){Hd(t,e,n),Qd()}function Jd(t,e){var n=pr()[ln];n.firstTemplatePass&&null===n.data[t+An]&&function(t,e,n){for(var r=Cr().index-An,i=[],o=0;o<n.length;o+=2)for(var a=n[o],s=n[o+1].split(Id),u=0;u<s.length;u++){var c=s[u];1&u||""!==c&&(c.match(Cd)?bd(Ld(c,r,a),i):sc(r,a,c))}t.data[e+An]=i}(n,t,e)}var $d=0,ty=0;function ey(t){t!==ra&&($d|=1<<ty),ty++}function ny(t){if(ty){var e=pr(),n=e[ln].data[t+An],r=void 0,i=null;Array.isArray(n)?r=n:(r=n.update,i=n.icus),function t(e,n,r,i,o,a){void 0===a&&(a=!1);for(var s=!1,u=0;u<e.length;u++){var c=e[u],l=e[++u];if(a||c&i)for(var h="",f=u+1;f<=u+l;f++){var p=e[f];if("string"==typeof p)h+=p;else if("number"==typeof p)if(p<0)h+=$e(o[r-p]);else{var d=p>>>2,y=void 0,m=void 0;switch(3&p){case 1:sc(d,e[++f],h,e[++f]);break;case 0:cl(d,h);break;case 2:if(y=n[e[++f]],null!==(m=Fn(d,o)).activeCaseIndex)for(var v=y.remove[m.activeCaseIndex],g=0;g<v.length;g++){var b=v[g];switch(7&b){case 3:Zd(b>>>3,o);break;case 6:var _=Fn(v[g+1]>>>3,o).activeCaseIndex;null!==_&&bd(n[b>>>3].remove[_],v)}}var w=iy(y,h);m.activeCaseIndex=-1!==w?w:null,Yd(-1,y.create[w],0,o),s=!0;break;case 3:y=n[e[++f]],m=Fn(d,o),t(y.update[m.activeCaseIndex],n,r,i,o,s)}}}u+=l}}(r,i,e[mn]-ty-1,$d,e),$d=0,ty=0}}var ry=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});function iy(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var r=function(t,n){switch(function(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,a=parseInt(r,10),s=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?ry.One:ry.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?ry.One:ry.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?ry.One:ry.Other;case"ar":return 0===n?ry.Zero:1===n?ry.One:2===n?ry.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?ry.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?ry.Many:ry.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?ry.One:ry.Other;case"be":return n%10==1&&n%100!=11?ry.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?ry.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?ry.Many:ry.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?ry.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?ry.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?ry.Few:0!==n&&n%1e6==0?ry.Many:ry.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||a%10==1&&a%100!=11?ry.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?ry.Few:ry.Other;case"cs":case"sk":return 1===i&&0===o?ry.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?ry.Few:0!==o?ry.Many:ry.Other;case"cy":return 0===n?ry.Zero:1===n?ry.One:2===n?ry.Two:3===n?ry.Few:6===n?ry.Many:ry.Other;case"da":return 1===n||0!==s&&(0===i||1===i)?ry.One:ry.Other;case"dsb":case"hsb":return 0===o&&i%100==1||a%100==1?ry.One:0===o&&i%100==2||a%100==2?ry.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||a%100===Math.floor(a%100)&&a%100>=3&&a%100<=4?ry.Few:ry.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?ry.One:ry.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&a%10!=4&&a%10!=6&&a%10!=9?ry.One:ry.Other;case"ga":return 1===n?ry.One:2===n?ry.Two:n===Math.floor(n)&&n>=3&&n<=6?ry.Few:n===Math.floor(n)&&n>=7&&n<=10?ry.Many:ry.Other;case"gd":return 1===n||11===n?ry.One:2===n||12===n?ry.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?ry.Few:ry.Other;case"gv":return 0===o&&i%10==1?ry.One:0===o&&i%10==2?ry.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?ry.Many:ry.Other:ry.Few;case"he":return 1===i&&0===o?ry.One:2===i&&0===o?ry.Two:0!==o||n>=0&&n<=10||n%10!=0?ry.Other:ry.Many;case"is":return 0===s&&i%10==1&&i%100!=11||0!==s?ry.One:ry.Other;case"ksh":return 0===n?ry.Zero:1===n?ry.One:ry.Other;case"kw":case"naq":case"se":case"smn":return 1===n?ry.One:2===n?ry.Two:ry.Other;case"lag":return 0===n?ry.Zero:0!==i&&1!==i||0===n?ry.Other:ry.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?ry.Few:0!==a?ry.Many:ry.Other:ry.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=19?ry.Zero:n%10==1&&n%100!=11||2===o&&a%10==1&&a%100!=11||2!==o&&a%10==1?ry.One:ry.Other;case"mk":return 0===o&&i%10==1||a%10==1?ry.One:ry.Other;case"mt":return 1===n?ry.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?ry.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?ry.Many:ry.Other;case"pl":return 1===i&&0===o?ry.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?ry.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?ry.Many:ry.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?ry.One:ry.Other;case"ro":return 1===i&&0===o?ry.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?ry.Few:ry.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?ry.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?ry.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?ry.Many:ry.Other;case"shi":return 0===i||1===n?ry.One:n===Math.floor(n)&&n>=2&&n<=10?ry.Few:ry.Other;case"si":return 0===n||1===n||0===i&&1===a?ry.One:ry.Other;case"sl":return 0===o&&i%100==1?ry.One:0===o&&i%100==2?ry.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?ry.Few:ry.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?ry.One:ry.Other;default:return ry.Other}}("en-US",e)){case ry.Zero:return"zero";case ry.One:return"one";case ry.Two:return"two";case ry.Few:return"few";case ry.Many:return"many";default:return"other"}}();-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return n}function oy(t,e,n,i){for(var o=[],a=[],s=[],u=[],c=[],l=0;l<e.values.length;l++){for(var h=e.values[l],f=[],p=0;p<h.length;p++){var d=h[p];if("string"!=typeof d){var y=f.push(d)-1;h[p]="\x3c!--\ufffd"+y+"\ufffd--\x3e"}}var m=ay(h.join(""),n,f,t,i);o.push(m.create),a.push(m.remove),s.push(m.update),u.push(m.vars),c.push(m.childIcus)}t.push({type:e.type,vars:u,childIcus:c,cases:e.cases,create:o,remove:a,update:s}),qd+=Math.max.apply(Math,Object(r.__spread)(u))}function ay(t,e,n,i,o){var a=new yo(document).getInertBodyElement(t);if(!a)throw new Error("Unable to generate inert body element");var s={vars:0,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,i,o,a,s){if(e){for(var u=[];e;){var c=e.nextSibling,l=s+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:var h=e,f=h.tagName.toLowerCase();if(Oo.hasOwnProperty(f)){n.create.push(ta,f,l,i<<17|1);for(var p=h.attributes,d=0;d<p.length;d++){var y=p.item(d),m=y.name.toLowerCase();y.value.match(Cd)?ko.hasOwnProperty(m)&&bd(Ao[m]?Ld(y.value,l,y.name,go):xo[m]?Ld(y.value,l,y.name,bo):Ld(y.value,l,y.name),n.update):n.create.push(l<<3|4,y.name,y.value)}t(e.firstChild,n,l,o,a,s),n.remove.push(l<<3|3)}else n.vars--;break;case Node.TEXT_NODE:var v=e.textContent||"",g=v.match(Cd);n.create.push(g?"":v,l,i<<17|1),n.remove.push(l<<3|3),g&&bd(Ld(v,l),n.update);break;case Node.COMMENT_NODE:var b=sy.exec(e.textContent||"");if(b){var _=parseInt(b[1],10);n.create.push(ea,"",l,i<<17|1),u.push([w=o[_],l])}else n.vars--;break;default:n.vars--}e=c}for(d=0;d<u.length;d++){var w,E=u[d][1];oy(a,w=u[d][0],E,s+n.vars);var S=a.length-1;n.vars+=Math.max.apply(Math,Object(r.__spread)(a[S].vars)),n.childIcus.push(S);var T=Vd(w);n.update.push(Bd(w.mainBinding),3,-1-w.mainBinding,E<<2|2,S,T,2,E<<2|3,S),n.remove.push(S<<3|6,E<<3|3)}}}((Lo(a)||a).firstChild,s,e,n,i,o),s}var sy=/\ufffd(\d+)\ufffd/,uy={};function cy(t){void 0===t&&(t={translations:{}}),uy=t.translations}var ly=/\{\$(.*?)\}/g;function hy(t,e){return void 0===e&&(e={}),void 0!==uy[t]&&(t=uy[t]),Object.keys(e).length?t.replace(ly,function(t,n){return e[n]||""}):t}var fy={provide:bh,useClass:pd,deps:[Eh]},py=function(t){function e(e,n){var r=t.call(this)||this;r._parent=n,r._bootstrapComponents=[],r.injector=r,r.destroyCbs=[];var i=Je(e);return r._bootstrapComponents=un(i.bootstrap),r._r3Injector=Zl(e,n,[{provide:Eh,useValue:r},fy],R(e)),r.instance=r.get(e),r}return Object(r.__extends)(e,t),e.prototype.get=function(t,e,n){return void 0===e&&(e=At.THROW_IF_NOT_FOUND),void 0===n&&(n=T.Default),t===At||t===Eh||t===It?this:this._r3Injector.get(t,e,n)},Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(bh)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(Eh),dy=function(t){function e(e){var n=t.call(this)||this;return n.moduleType=e,n}return Object(r.__extends)(e,t),e.prototype.create=function(t){return new py(this.moduleType,t)},e}(Sh);function yy(t,e,n,i){return Ae(function(){var o,a=t,s=a.prototype?Object.getPrototypeOf(a.prototype):null,u=s&&s.constructor;null!==e&&(void 0===a.decorators||u&&u.decorators===a.decorators?a.decorators=e:(o=a.decorators).push.apply(o,Object(r.__spread)(e))),null!==n&&(a.ctorParameters=n),null!==i&&(a.propDecorators=void 0===a.propDecorators||u&&u.propDecorators===a.propDecorators?i:Object(r.__assign)({},a.propDecorators,i))})}function my(t,e,n){var r=jr()+t,i=pr();return kr()?Dc(i,r,n?e.call(n):e()):Pc(i,r)}function vy(t,e,n,r){var i=pr(),o=jr()+t;return Rc(i,o,n)?Dc(i,o+1,r?e.call(r,n):e(n)):Pc(i,o+1)}function gy(t,e,n,r,i){var o=jr()+t,a=pr();return Mc(a,o,n,r)?Dc(a,o+2,i?e.call(i,n,r):e(n,r)):Pc(a,o+2)}function by(t,e,n,r,i,o){var a=jr()+t,s=pr();return jc(s,a,n,r,i)?Dc(s,a+3,o?e.call(o,n,r,i):e(n,r,i)):Pc(s,a+3)}function _y(t,e,n,r,i,o,a){var s=jr()+t,u=pr();return Lc(u,s,n,r,i,o)?Dc(u,s+4,a?e.call(a,n,r,i,o):e(n,r,i,o)):Pc(u,s+4)}function wy(t,e,n,r,i,o,a,s){var u=jr()+t,c=pr(),l=Lc(c,u,n,r,i,o);return Rc(c,u+4,a)||l?Dc(c,u+5,s?e.call(s,n,r,i,o,a):e(n,r,i,o,a)):Pc(c,u+5)}function Ey(t,e,n,r,i,o,a,s,u){var c=jr()+t,l=pr(),h=Lc(l,c,n,r,i,o);return Mc(l,c+4,a,s)||h?Dc(l,c+6,u?e.call(u,n,r,i,o,a,s):e(n,r,i,o,a,s)):Pc(l,c+6)}function Sy(t,e,n,r,i,o,a,s,u,c){var l=jr()+t,h=pr(),f=Lc(h,l,n,r,i,o);return jc(h,l+4,a,s,u)||f?Dc(h,l+7,c?e.call(c,n,r,i,o,a,s,u):e(n,r,i,o,a,s,u)):Pc(h,l+7)}function Ty(t,e,n,r,i,o,a,s,u,c,l){var h=jr()+t,f=pr(),p=Lc(f,h,n,r,i,o);return Lc(f,h+4,a,s,u,c)||p?Dc(f,h+8,l?e.call(l,n,r,i,o,a,s,u,c):e(n,r,i,o,a,s,u,c)):Pc(f,h+8)}function Cy(t,e,n,r){for(var i=jr()+t,o=!1,a=pr(),s=0;s<n.length;s++)Rc(a,i++,n[s])&&(o=!0);return o?Dc(a,i,e.apply(r,n)):Pc(a,i)}function Iy(t,e){var n,r=pr()[ln],i=t+An;r.firstTemplatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '"+t+"' could not be found!")}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory(null);return Lu(t,o),o}function Oy(t,e,n){var r=Fu(t);return Py(Dy(t)?vy(e,r.transform,n,r):r.transform(n))}function Ay(t,e,n,r){var i=Fu(t);return Py(Dy(t)?gy(e,i.transform,n,r,i):i.transform(n,r))}function xy(t,e,n,r,i){var o=Fu(t);return Py(Dy(t)?by(e,o.transform,n,r,i,o):o.transform(n,r,i))}function ky(t,e,n,r,i,o){var a=Fu(t);return Py(Dy(t)?_y(e,a.transform,n,r,i,o,a):a.transform(n,r,i,o))}function Ny(t,e,n){var r=Fu(t);return Py(Dy(t)?Cy(e,r.transform,n,r):r.transform.apply(r,n))}function Dy(t){return pr()[ln].data[t+An].pure}function Py(t){if(xc.isWrapped(t)){t=xc.unwrap(t);var e=pr();e[e[mn]]=ra}return t}var Ry=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.__extends)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var o,a=function(t){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(a=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=t.prototype.subscribe.call(this,o,a,s);return e instanceof i.a&&e.add(u),u},e}(o.a),My=function(){function t(){this.dirty=!0,this._results=[],this.changes=new Ry,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[Ic()]=function(){return this._results[Ic()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=_d(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),jy=function(){function t(t,e,n){this.parent=t,this.shallow=e,this.deep=n}return t.prototype.track=function(t,e,n,r){n?this.deep=Wy(this.deep,t,e,null!=r?r:null):this.shallow=Wy(this.shallow,t,e,null!=r?r:null)},t.prototype.clone=function(){return new t(this,null,this.deep)},t.prototype.container=function(){var e=Ly(this.shallow),n=Ly(this.deep);return e||n?new t(this,e,n):null},t.prototype.createView=function(){var e=Vy(this.shallow),n=Vy(this.deep);return e||n?new t(this,e,n):null},t.prototype.insertView=function(t){Fy(t,this.shallow),Fy(t,this.deep)},t.prototype.addNode=function(t){Ky(this.deep,t,!1),Ky(this.shallow,t,!1)},t.prototype.insertNodeBeforeViews=function(t){Ky(this.deep,t,!0),Ky(this.shallow,t,!0)},t.prototype.removeView=function(){Uy(this.shallow),Uy(this.deep)},t}();function Ly(t){for(var e=null;t;){var n=[];t.values.push(n),e={next:e,list:t.list,predicate:t.predicate,values:n,containerValues:null},t=t.next}return e}function Vy(t){for(var e=null;t;)e={next:e,list:t.list,predicate:t.predicate,values:[],containerValues:t.values},t=t.next;return e}function Fy(t,e){for(;e;)e.containerValues.splice(t,0,e.values),e.values.length&&e.list.setDirty(),e=e.next}function Uy(t){for(;t;){var e=t.containerValues,n=e.indexOf(t.values);e.splice(n,1)[0].length&&t.list.setDirty(),t=t.next}}function By(t,e){var n=t.localNames;if(n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function qy(t,e,n){var r=t[je];if("function"==typeof r)return r();var i=zi(e,n,t,!1,!1);return null!==i?Hi(n[ln].data,n,i,e):null}function zy(t,e,n,r){var i=t[je]();return r?i?qy(r,e,n):null:i}function Hy(t,e,n,r){return n?qy(n,t,e):r>-1?Hi(e[ln].data,e,r,t):function(t,e){return 3===t.type||4===t.type?Ih(kh,t,e):0===t.type?Oh(cf,kh,t,e):null}(t,e)}function Ky(t,e,n){for(var r=pr();t;){var i=t.predicate,o=i.type;if(o){var a=null;o===cf?a=zy(o,e,r,i.read):null!==(c=zi(e,r,o,!1,!1))&&(a=Hy(e,r,i.read,c)),null!==a&&Gy(t,a,n)}else for(var s=i.selector,u=0;u<s.length;u++){var c;null!==(c=By(e,s[u]))&&null!==(a=Hy(e,r,i.read,c))&&Gy(t,a,n)}t=t.next}}function Gy(t,e,n){n?t.values.splice(-1,0,e):t.values.push(e),t.list.setDirty()}function Qy(t,e){var n=Array.isArray(t);return{type:n?null:t,selector:n?t:null,read:e}}function Wy(t,e,n,r){return{next:t,list:e,predicate:Qy(n,r),values:e._valuesTree,containerValues:null}}function Yy(t,e,n){var r=pr(),i=new My,o=r[dn]||(r[dn]=new jy(null,null,null));return i._valuesTree=[],i._static=!1,o.track(i,t,e,n),function(t,e,n){var r=nu(t);r.push(e),t[ln].firstTemplatePass&&ru(t).push(n,r.length-1)}(r,i,i.destroy),i}function Zy(t){var e=t,n=kr();return!(!t.dirty||n!==e._static||(t.reset(e._valuesTree||[]),t.notifyOnChanges(),0))}function Xy(t,e,n){var r=Jy(t,e,n),i=pr()[ln];r._static=!0,i.staticViewQueries||(i.staticViewQueries=!0)}function Jy(t,e,n){var r=pr()[ln];r.firstTemplatePass&&r.expandoStartIndex++;var i=Fr(),o=Yy(t,e,n);return Lu(i-An,o),Ur(i+1),o}function $y(){var t=Fr();return Ur(t+1),Fu(t-An)}function tm(t,e,n,r){var i=pr(),o=i[ln],a=Yy(e,n,r);if((i[Cn]||(i[Cn]=[])).push(a),o.firstTemplatePass){var s=o.contentQueries||(o.contentQueries=[]);t!==(o.contentQueries.length?o.contentQueries[o.contentQueries.length-1]:-1)&&s.push(t)}return a}function em(t,e,n,r){var i=tm(t,e,n,r),o=pr()[ln];i._static=!0,o.staticContentQueries||(o.staticContentQueries=!0)}function nm(){var t=pr(),e=Fr();return Ur(e+1),t[Cn][e]}function rm(t,e){return Oh(cf,kh,t,e)}var im=function(){return function(){}}(),om=new Map;function am(t,e){var n=om.get(t);sm(t,n&&n.moduleType,e.moduleType),om.set(t,e)}function sm(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for "+t+" - "+R(e)+" vs "+R(e.name))}function um(t,e){sm(t,om.get(t),e),om.set(t,e)}function cm(t){var e=om.get(t);if(!e)throw fm(t);return e}function lm(t){var e=om.get(t);if(!e)throw fm(t);return new dy(e)}var hm=cm;function fm(t){return new Error("No module with ID "+t+" loaded")}var pm=function(){return{"\u0275\u0275defineBase":Ke,"\u0275\u0275defineComponent":Ve,"\u0275\u0275defineDirective":Ge,"\u0275\u0275defineInjectable":O,"\u0275\u0275defineInjector":x,"\u0275\u0275defineNgModule":qe,"\u0275\u0275definePipe":Qe,"\u0275\u0275directiveInject":Uu,"\u0275\u0275getFactoryOf":Wi,"\u0275\u0275getInheritedFactory":Yi,"\u0275\u0275inject":G,"\u0275\u0275injectAttribute":Bu,"\u0275\u0275templateRefExtractor":rm,"\u0275\u0275NgOnChangesFeature":Ml,"\u0275\u0275ProvidersFeature":lh,"\u0275\u0275InheritDefinitionFeature":Ul,"\u0275\u0275elementAttribute":sc,"\u0275\u0275bind":Fc,"\u0275\u0275container":Nu,"\u0275\u0275nextContext":wc,"\u0275\u0275containerRefreshStart":Pu,"\u0275\u0275containerRefreshEnd":Ru,"\u0275\u0275namespaceHTML":Zr,"\u0275\u0275namespaceMathML":Yr,"\u0275\u0275namespaceSVG":Wr,"\u0275\u0275enableBindings":hr,"\u0275\u0275disableBindings":fr,"\u0275\u0275allocHostVars":uu,"\u0275\u0275elementStart":ic,"\u0275\u0275elementEnd":oc,"\u0275\u0275element":ac,"\u0275\u0275elementContainerStart":cc,"\u0275\u0275elementContainerEnd":lc,"\u0275\u0275pureFunction0":my,"\u0275\u0275pureFunction1":vy,"\u0275\u0275pureFunction2":gy,"\u0275\u0275pureFunction3":by,"\u0275\u0275pureFunction4":_y,"\u0275\u0275pureFunction5":wy,"\u0275\u0275pureFunction6":Ey,"\u0275\u0275pureFunction7":Sy,"\u0275\u0275pureFunction8":Ty,"\u0275\u0275pureFunctionV":Cy,"\u0275\u0275getCurrentView":pc,"\u0275\u0275restoreView":Tr,"\u0275\u0275interpolation1":zc,"\u0275\u0275interpolation2":Hc,"\u0275\u0275interpolation3":Kc,"\u0275\u0275interpolation4":Gc,"\u0275\u0275interpolation5":Qc,"\u0275\u0275interpolation6":Wc,"\u0275\u0275interpolation7":Yc,"\u0275\u0275interpolation8":Zc,"\u0275\u0275interpolationV":qc,"\u0275\u0275listener":mc,"\u0275\u0275load":Fu,"\u0275\u0275projection":Tc,"\u0275\u0275elementProperty":Uc,"\u0275\u0275componentHostSyntheticProperty":Bc,"\u0275\u0275componentHostSyntheticListener":vc,"\u0275\u0275pipeBind1":Oy,"\u0275\u0275pipeBind2":Ay,"\u0275\u0275pipeBind3":xy,"\u0275\u0275pipeBind4":ky,"\u0275\u0275pipeBindV":Ny,"\u0275\u0275projectionDef":Sc,"\u0275\u0275property":Vc,"\u0275\u0275propertyInterpolate":Xc,"\u0275\u0275propertyInterpolate1":Jc,"\u0275\u0275propertyInterpolate2":$c,"\u0275\u0275propertyInterpolate3":tl,"\u0275\u0275propertyInterpolate4":el,"\u0275\u0275propertyInterpolate5":nl,"\u0275\u0275propertyInterpolate6":rl,"\u0275\u0275propertyInterpolate7":il,"\u0275\u0275propertyInterpolate8":ol,"\u0275\u0275propertyInterpolateV":al,"\u0275\u0275pipe":Iy,"\u0275\u0275queryRefresh":Zy,"\u0275\u0275viewQuery":Jy,"\u0275\u0275staticViewQuery":Xy,"\u0275\u0275staticContentQuery":em,"\u0275\u0275loadViewQuery":$y,"\u0275\u0275contentQuery":tm,"\u0275\u0275loadContentQuery":nm,"\u0275\u0275reference":Vu,"\u0275\u0275elementHostAttrs":uc,"\u0275\u0275elementStyling":qu,"\u0275\u0275elementStylingMap":Xu,"\u0275\u0275elementStyleProp":Ku,"\u0275\u0275elementStylingApply":$u,"\u0275\u0275elementClassProp":Wu,"\u0275\u0275elementHostStyling":zu,"\u0275\u0275elementHostStylingMap":Ju,"\u0275\u0275elementHostStyleProp":Gu,"\u0275\u0275elementHostStylingApply":tc,"\u0275\u0275elementHostClassProp":Yu,"\u0275\u0275select":sl,"\u0275\u0275template":Du,"\u0275\u0275text":ul,"\u0275\u0275textBinding":cl,"\u0275\u0275embeddedViewStart":hc,"\u0275\u0275embeddedViewEnd":fc,"\u0275\u0275i18n":Xd,"\u0275\u0275i18nAttributes":Jd,"\u0275\u0275i18nExp":ey,"\u0275\u0275i18nStart":Hd,"\u0275\u0275i18nEnd":Qd,"\u0275\u0275i18nApply":ny,"\u0275\u0275i18nPostprocess":Gd,"\u0275\u0275i18nLocalize":hy,"\u0275\u0275resolveWindow":nn,"\u0275\u0275resolveDocument":rn,"\u0275\u0275resolveBody":on,"\u0275\u0275setComponentScope":Fe,"\u0275\u0275setNgModuleScope":ze,"\u0275\u0275sanitizeHtml":zo,"\u0275\u0275sanitizeStyle":Ho,"\u0275\u0275defaultStyleSanitizer":Zo,"\u0275\u0275sanitizeResourceUrl":Go,"\u0275\u0275sanitizeScript":Qo,"\u0275\u0275sanitizeUrl":Ko,"\u0275\u0275sanitizeUrlOrResourceUrl":Yo,"\u0275registerNgModuleType":um}}(),dm=[],ym=[],mm=!1;function vm(){if(!mm){mm=!0;try{for(var t=ym.length-1;t>=0;t--){var e=ym[t],n=e.moduleType,r=e.ngModule;r.declarations&&r.declarations.every(gm)&&(ym.splice(t,1),Em(n,r))}}finally{mm=!1}}}function gm(t){return Array.isArray(t)?t.every(gm):!!L(t)}function bm(t,e){void 0===e&&(e={}),_m(t,e),function(t,e){ym.push({moduleType:t,ngModule:e})}(t,e)}function _m(t,e){var n=_d(e.declarations||dm),r=null;Object.defineProperty(t,Re,{configurable:!0,get:function(){return null===r&&(r=U().compileNgModule(pm,"ng:///"+t.name+"/ngModuleDef.js",{type:t,bootstrap:_d(e.bootstrap||dm).map(L),declarations:n.map(L),imports:_d(e.imports||dm).map(L).map(Cm),exports:_d(e.exports||dm).map(L).map(Cm),emitInline:!0,schemas:e.schemas?_d(e.schemas):null})),r}}),e.id&&um(e.id,t);var i=null;Object.defineProperty(t,P,{get:function(){if(null===i){var n={name:t.name,type:t,deps:ut(t),providers:e.providers||dm,imports:[(e.imports||dm).map(L),(e.exports||dm).map(L)]};i=U().compileInjector(pm,"ng:///"+t.name+"/ngInjectorDef.js",n)}return i},configurable:!1})}function wm(){new Map,new Map,ym.length=0}function Em(t,e){var n=_d(e.declarations||dm),r=Tm(t);n.forEach(function(e){e.hasOwnProperty(Ne)?Sm(We(e),r):e.hasOwnProperty(De)||e.hasOwnProperty(Pe)||(e.ngSelectorScope=t)})}function Sm(t,e){t.directiveDefs=function(){return Array.from(e.compilation.directives).map(function(t){return t.hasOwnProperty(Ne)?We(t):Ye(t)}).filter(function(t){return!!t})},t.pipeDefs=function(){return Array.from(e.compilation.pipes).map(function(t){return Ze(t)})},t.schemas=e.schemas,t.template.ngPrivateData=void 0}function Tm(t,e){if(!Im(t))throw new Error(t.name+" does not have an ngModuleDef");var n=Je(t);if(null!==n.transitiveCompileScopes)return n.transitiveCompileScopes;var r={schemas:n.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return un(n.declarations).forEach(function(t){Ze(t)?r.compilation.pipes.add(t):r.compilation.directives.add(t)}),un(n.imports).forEach(function(t){var n=t;if(!Im(n))throw new Error("Importing "+n.name+" which does not have an ngModuleDef");e&&e(n);var i=Tm(n,e);i.exported.directives.forEach(function(t){return r.compilation.directives.add(t)}),i.exported.pipes.forEach(function(t){return r.compilation.pipes.add(t)})}),un(n.exports).forEach(function(t){var n=t;if(Im(n)){var i=Tm(n,e);i.exported.directives.forEach(function(t){r.compilation.directives.add(t),r.exported.directives.add(t)}),i.exported.pipes.forEach(function(t){r.compilation.pipes.add(t),r.exported.pipes.add(t)})}else Ze(n)?r.exported.pipes.add(n):r.exported.directives.add(n)}),n.transitiveCompileScopes=r,r}function Cm(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function Im(t){return!!Je(t)}function Om(t,e){var n=null;!function(t,e){Te(e)&&(Ee.set(t,e),Se.add(t))}(t,e),Object.defineProperty(t,Ne,{get:function(){var i=U();if(null===n){if(Te(e)){var o=["Component '"+t.name+"' is not resolved:"];throw e.templateUrl&&o.push(" - templateUrl: "+e.templateUrl),e.styleUrls&&e.styleUrls.length&&o.push(" - styleUrls: "+JSON.stringify(e.styleUrls)),o.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(o.join("\n"))}var a=e.templateUrl||"ng:///"+t.name+"/template.html",s=Object(r.__assign)({},km(t,e),{typeSourceSpan:i.createParseSourceSpan("Component",t.name,a),template:e.template||"",preserveWhitespaces:e.preserveWhitespaces||!1,styles:e.styles||ke,animations:e.animations,directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:e.encapsulation||Oe.Emulated,interpolation:e.interpolation,viewProviders:e.viewProviders||null});if(s.usesInheritance&&Nm(t),n=i.compileComponent(pm,a,s),vm(),void 0!==t.ngSelectorScope){var u=Tm(t.ngSelectorScope);Sm(n,u)}}return n},configurable:!1}),lt(t)}function Am(t,e){var n=null;Object.defineProperty(t,De,{get:function(){if(null===n){var r=t&&t.name,i="ng:///"+r+"/ngDirectiveDef.js",o=U(),a=km(t,e);a.typeSourceSpan=o.createParseSourceSpan("Directive",r,i),a.usesInheritance&&Nm(t),n=o.compileDirective(pm,i,a)}return n},configurable:!1}),lt(t)}function xm(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function km(t,e){var n,r=st().ownPropMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:e.selector,deps:ut(t),host:e.host||xe,propMetadata:r,inputs:e.inputs||ke,outputs:e.outputs||ke,queries:Rm(t,r,Mm),lifecycle:{usesOnChanges:t.prototype.hasOwnProperty("ngOnChanges")},typeSourceSpan:null,usesInheritance:!xm(t),exportAs:(n=e.exportAs,void 0===n?null:n.split(",").map(function(t){return t.trim()})),providers:e.providers||null,viewQueries:Rm(t,r,jm)}}function Nm(t){for(var e=Object.prototype,n=Object.getPrototypeOf(t);n&&n!==e;){if(!Ye(n)&&!We(n)&&!Xe(n)){var r=Pm(n);r&&Dm(n,r)}n=Object.getPrototypeOf(n)}}function Dm(t,e){var n=null;Object.defineProperty(t,Me,{get:function(){if(null===n){var r="ng://"+(t&&t.name)+"/ngBaseDef.js",i=U();n=i.compileBase(pm,r,e)}return n},configurable:!1})}function Pm(t){var e,n,r=st().ownPropMetadata(t),i=Rm(t,r,jm),o=Rm(t,r,Mm),a=function(t){r[t].forEach(function(r){"Input"===r.ngMetadataName?(e=e||{})[t]=r.bindingPropertyName?[r.bindingPropertyName,t]:t:"Output"===r.ngMetadataName&&((n=n||{})[t]=r.bindingPropertyName||t)})};for(var s in r)a(s);return e||n||i.length||o.length?{inputs:e,outputs:n,viewQueries:i,queries:o}:null}function Rm(t,e,n){var r=[],i=function(i){if(e.hasOwnProperty(i)){var o=e[i];o.forEach(function(e){if(n(e)){if(!e.selector)throw new Error("Can't construct a query for the property \""+i+'" of "'+tn(t)+"\" since the query selector wasn't defined.");if(o.some(Lm))throw new Error("Cannot combine @Input decorators with query decorators");r.push(function(t,e){return{propertyName:i,predicate:(n=e.selector,"string"==typeof n?n.split(",").map(function(t){return t.trim()}):L(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static};var n}(0,e))}})}};for(var o in e)i(o);return r}function Mm(t){var e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function jm(t){var e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function Lm(t){return"Input"===t.ngMetadataName}function Vm(t,e){var n=null;Object.defineProperty(t,Pe,{get:function(){if(null===n){var r=t.name;n=U().compilePipe(pm,"ng:///"+r+"/ngPipeDef.js",{type:t,typeArgumentCount:0,name:r,deps:ut(t),pipeName:e.name,pure:void 0===e.pure||e.pure})}return n},configurable:!1})}var Fm=f("Directive",function(t){return void 0===t&&(t={}),t},void 0,void 0,function(t,e){return Zm(t,e)}),Um=f("Component",function(t){return void 0===t&&(t={}),Object(r.__assign)({changeDetection:ge.Default},t)},Fm,void 0,function(t,e){return Ym(t,e)}),Bm=f("Pipe",function(t){return Object(r.__assign)({pure:!0},t)},void 0,void 0,function(t,e){return Xm(t,e)}),qm=y("Input",function(t){return{bindingPropertyName:t}}),zm=y("Output",function(t){return{bindingPropertyName:t}}),Hm=y("HostBinding",function(t){return{hostPropertyName:t}}),Km=y("HostListener",function(t,e){return{eventName:t,args:e}}),Gm=Om,Qm=Am,Wm=Vm,Ym=xh,Zm=xh,Xm=xh,Jm=f("NgModule",function(t){return t},void 0,void 0,function(t,e){return tv(t,e)}),$m=bm,tv=function(t,e){var n=e&&e.imports||[];e&&e.exports&&(n=Object(r.__spread)(n,[e.exports])),t.ngInjectorDef=x({factory:gt(t,{useClass:t}),providers:e&&e.providers,imports:n})},ev=new Et("Application Initializer"),nv=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();dc(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),rv=new Et("AppId");function iv(){return""+av()+av()+av()}var ov={provide:rv,useFactory:iv,deps:[]};function av(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var sv=new Et("Platform Initializer"),uv=new Et("Platform ID"),cv=new Et("appBootstrapListener"),lv=new Et("Application Packages Root URL"),hv=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}(),fv=function(){return function(t,e){this.ngModuleFactory=t,this.componentFactories=e}}();function pv(){throw new Error("Runtime compiler is not loaded")}var dv,yv,mv=function(t){return new dy(t)},vv=pv,gv=function(t){return Promise.resolve(mv(t))},bv=pv,_v=function(t){var e=mv(t),n=un(Je(t).declarations).reduce(function(t,e){var n=We(e);return n&&t.push(new vd(n)),t},[]);return new fv(e,n)},wv=pv,Ev=function(t){return Promise.resolve(_v(t))},Sv=pv,Tv=function(){function t(){this.compileModuleSync=vv,this.compileModuleAsync=bv,this.compileModuleAndAllComponentsSync=wv,this.compileModuleAndAllComponentsAsync=Sv}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),Cv=new Et("compilerOptions"),Iv=function(){return function(){}}();function Ov(){var t=F.wtf;return!(!t||!(dv=t.trace)||(yv=dv.events,0))}function Av(t,e){return void 0===e&&(e=null),yv.createScope(t,e)}function xv(t,e){return dv.leaveScope(t,e),e}function kv(t,e){return dv.beginTimeRange(t,e)}function Nv(t){dv.endTimeRange(t)}var Dv=Ov();function Pv(t,e){return null}var Rv=Dv?Av:function(t,e){return Pv},Mv=Dv?xv:function(t,e){return e},jv=Dv?kv:function(t,e){return null},Lv=Dv?Nv:function(t){return null},Vv=function(){return Promise.resolve(0)}();function Fv(t){"undefined"==typeof Zone?Vv.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Uv=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ry(!1),this.onMicrotaskEmpty=new Ry(!1),this.onStable=new Ry(!1),this.onError=new Ry(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return Hv(e),t.invokeTask(r,i,o,a)}finally{Kv(e)}},onInvoke:function(t,n,r,i,o,a,s){try{return Hv(e),t.invoke(r,i,o,a,s)}finally{Kv(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,zv(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,qv,Bv,Bv);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function Bv(){}var qv={};function zv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Hv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Kv(t){t._nesting--,zv(t)}var Gv=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ry,this.onMicrotaskEmpty=new Ry,this.onStable=new Ry,this.onError=new Ry}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Qv=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Uv.assertNotInAngularZone(),Fv(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())Fv(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Wv=function(){function t(){this._applications=new Map,Xv.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Xv.findTestabilityInTree(this,t,e)},Object(r.__decorate)([Object(r.__metadata)("design:paramtypes",[])],t)}();function Yv(t){Xv=t}var Zv,Xv=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}());function Jv(t,e,n){var i=new dy(n);if(0===Ee.size)return Promise.resolve(i);var o,a,s=(o=t.get(Cv,[]).concat(e).map(function(t){return t.providers}),a=[],o.forEach(function(t){return t&&a.push.apply(a,Object(r.__spread)(t))}),a);if(0===s.length)return Promise.resolve(i);var u=U(),c=At.create({providers:s}).get(u.ResourceLoader);return we(function(t){return Promise.resolve(c.get(t))}).then(function(){return i})}function $v(t){return t.isBoundToModule}var tg=new Et("AllowMultipleToken"),eg=function(){return function(t,e){this.name=t,this.token=e}}();function ng(t){if(Zv&&!Zv.destroyed&&!Zv.injector.get(tg,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Zv=t.get(sg);var e=t.get(sv,null);return e&&e.forEach(function(t){return t()}),Zv}function rg(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new Et(r);return function(e){void 0===e&&(e=[]);var o=ag();if(!o||o.injector.get(tg,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});ng(At.create({providers:a,name:r}))}return ig(i)}}function ig(t){var e=ag();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function og(){Zv&&!Zv.destroyed&&Zv.destroy()}function ag(){return Zv&&!Zv.destroyed?Zv:null}var sg=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new Gv:("zone.js"===n?void 0:n)||new Uv({enableLongStackTrace:fo()}),o=[{provide:Uv,useValue:i}];return i.run(function(){var e=At.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get($i,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return lg(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,i){try{var o=((a=n.injector.get(nv)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return dc(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(a,i)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=ug({},e);return function(t,e,n){return t.get(Iv).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then(function(t){return n.bootstrapModuleFactory(t,r)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(cg);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+R(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function ug(t,e){return Array.isArray(e)?e.reduce(ug,t):Object(r.__assign)({},t,e)}var cg=function(){function t(t,e,n,r,i,o){var c=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=fo(),this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}});var l=new a.a(function(t){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular(function(){t.next(c._stable),t.complete()})}),h=new a.a(function(t){var e;c._zone.runOutsideAngular(function(){e=c._zone.onStable.subscribe(function(){Uv.assertNotInAngularZone(),Fv(function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,t.next(!0))})})});var n=c._zone.onUnstable.subscribe(function(){Uv.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,h.pipe(Object(u.a)()))}var e;return e=t,t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof fh?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof wh?null:this._injector.get(Eh),o=n.create(At.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(Qv,null);return a&&o.injector.get(Wv).registerApplication(o.location.nativeElement,a),this._loadComponent(o),fo()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var t,n,i,o,a=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var s=e._tickScope();try{this._runningTick=!0;try{for(var u=Object(r.__values)(this._views),c=u.next();!c.done;c=u.next())c.value.detectChanges()}catch(f){t={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}if(this._enforceNoNewChanges)try{for(var l=Object(r.__values)(this._views),h=l.next();!h.done;h=l.next())h.value.checkNoChanges()}catch(p){i={error:p}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}catch(d){this._zone.runOutsideAngular(function(){return a._exceptionHandler.handleError(d)})}finally{this._runningTick=!1,Mv(s)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;lg(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(cv,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),lg(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Rv("ApplicationRef#tick()"),t}();function lg(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var hg=!0,fg=!1,pg=function(){return function(){}}(),dg={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},yg=function(){function t(t,e){this._compiler=t,this._config=e||dg}return t.prototype.load=function(t){return!fg&&this._compiler instanceof Tv?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=Object(r.__read)(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),n("zn8P")(o).then(function(t){return t[a]}).then(function(t){return mg(t,o,a)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=Object(r.__read)(t.split("#"),2),i=e[0],o=e[1],a="NgFactory";return void 0===o&&(o="default",a=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return mg(t,i,o)})},t}();function mg(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var vg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(nf),gg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(vg),bg=function(){return function(t,e){this.name=t,this.callback=e}}(),_g=function(){function t(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof wg&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),wg=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(r.__extends)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,i=this,o=this.childNodes.indexOf(t);-1!==o&&((n=this.childNodes).splice.apply(n,Object(r.__spread)([o+1,0],e)),e.forEach(function(e){e.parent&&e.parent.removeChild(e),t.parent=i}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return Sg(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return Tg(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(_g);function Eg(t){return t.map(function(t){return t.nativeElement})}function Sg(t,e,n){t.childNodes.forEach(function(t){t instanceof wg&&(e(t)&&n.push(t),Sg(t,e,n))})}function Tg(t,e,n){t instanceof wg&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof wg&&Tg(t,e,n)})}var Cg=function(){function t(t){this.nativeNode=t}return Object.defineProperty(t.prototype,"parent",{get:function(){var t=this.nativeNode.parentNode;return t?new Ig(t):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return ml(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){var t=this.nativeNode;return t&&(fl(t)||dl(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return pl(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listeners",{get:function(){return El(this.nativeNode).filter(wl)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return void 0===(t=gl(this.nativeNode)).localRefs&&(t.localRefs=function(e,n){var r=e[ln].data[t.nodeIndex];if(r&&r.localNames){for(var i={},o=r.index+1,a=0;a<r.localNames.length;a+=2)i[r.localNames[a]]=e[o],o++;return i}return null}(t.lView)),t.localRefs||{};var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return function(t){var e=gl(t,!1);if(!e)return[];for(var n,r=e.lView[ln],i=r.data[e.nodeIndex],o=[],a=i.directiveEnd,s=65535&i.providerIndexes;s<a;s++){var u=r.data[s];void 0!==(n=u).type&&void 0!==n.template&&void 0!==n.declaredInputs&&(u=u.type),o.push(u)}return o}(this.nativeNode)},enumerable:!0,configurable:!0}),t}(),Ig=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.nativeElement.nodeName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"properties",{get:function(){var t=gl(this.nativeNode),e=t.lView,n=e[ln].data,i=n[t.nodeIndex],o=function(t,e,n){for(var r={},i=function(e,n){for(var r=t.propertyMetadataStartIndex-1,i=n[r];"string"==typeof i&&!sn(i);)i=n[--r];return r+1}(0,n);i<t.propertyMetadataEndIndex;){for(var o=void 0,a=n[i];!sn(a);)o=(o||"")+$e(e[i])+n[i],a=n[++i];o=void 0===o?e[i]:o+=e[i];var s=a.split(an),u=s[0];u&&(r[u]=s[1]&&s[2]?s[1]+o+s[2]:o),i++}return r}(i,e,n),a=function(t,e,n){for(var r={},i=t.directiveEnd,o=n[i];"string"==typeof o;)r[o.split(an)[0]]=e[i],o=n[++i];return r}(i,e,n),s=function(t){var e,n,i=t.classes,o="";try{for(var a=Object(r.__values)(Object.keys(i)),s=a.next();!s.done;s=a.next()){var u=s.value;i[u]&&(o=o?o+" "+u:u)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}(this),u=Object(r.__assign)({},o,a);return s&&(u.className=u.className?u.className+" "+s:s),u},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t={},e=this.nativeElement;if(e)for(var n=e.attributes,r=0;r<n.length;r++){var i=n[r];t[i.name]=i.value}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classes",{get:function(){var t={},e=this.nativeElement;if(e){var n=_l(e),r=pi(n.nodeIndex,n.lView);if(r){for(var i=10;i<r.length;i+=4)if(Ea(r,i)){var o=Fa(r,i),a=Va(r,i);"boolean"==typeof a&&(t[o]=a)}}else{var s=e.classList;for(i=0;i<s.length;i++)t[s[i]]=!0}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){var t={},e=this.nativeElement;if(e){var n=_l(e),r=pi(n.nodeIndex,n.lView);if(r){for(var i=10;i<r.length;i+=4)if(!Ea(r,i)){var o=Fa(r,i),a=Va(r,i);null!==a&&(t[o]=a)}}else{var s=e.style;for(i=0;i<s.length;i++){var u=s.item(i);t[u]=s.getPropertyValue(u)}}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){for(var t=this.nativeNode.childNodes,e=[],n=0;n<t.length;n++)e.push(Dg(t[n]));return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){var t=this.nativeElement;if(!t)return[];for(var e=t.children,n=[],r=0;r<e.length;r++)n.push(Dg(e[r]));return n},enumerable:!0,configurable:!0}),e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return Og(this,t,e,!0),e},e.prototype.queryAllNodes=function(t){var e=[];return Og(this,t,e,!1),e},e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name===t&&n.callback(e)})},e}(Cg);function Og(t,e,n,r){var i=gl(t.nativeNode);Ag(i.lView[ln].data[i.nodeIndex],i.lView,e,n,r,t.nativeNode)}function Ag(t,e,n,i,o,a){var s,u;if(3===t.type||4===t.type){kg(Vn(t,e),n,i,o,a),qn(t)?(h=Bn(t.index,e))&&h[ln].firstChild&&Ag(h[ln].firstChild,h,n,i,o,a):t.child&&Ag(t.child,e,n,i,o,a);var c=e[t.index];jn(c)&&xg(c,n,i,o,a)}else if(0===t.type){var l=e[t.index];kg(l[Nn],n,i,o,a),xg(l,n,i,o,a)}else if(1===t.type){var h,f=(h=Ai(e))[yn].projection[t.projection];if(Array.isArray(f))try{for(var p=Object(r.__values)(f),d=p.next();!d.done;d=p.next())kg(d.value,n,i,o,a)}catch(v){s={error:v}}finally{try{d&&!d.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}else if(f){var y=h[fn];Ag(y[ln].data[f.index],y,n,i,o,a)}}else t.child&&Ag(t.child,e,n,i,o,a);var m=2&t.flags?t.projectionNext:t.next;m&&Ag(m,e,n,i,o,a)}function xg(t,e,n,r,i){for(var o=0;o<t[Dn].length;o++){var a=t[Dn][o];Ag(a[ln].node,a,e,n,r,i)}}function kg(t,e,n,r,i){if(i!==t){var o=Pg(t);o&&(!r||o instanceof Ig)&&e(o)&&n.push(o)}}var Ng=new Map;function Dg(t){return t instanceof Node?t.nodeType==Node.ELEMENT_NODE?new Ig(t):new Cg(t):null}var Pg=function(t){return Ng.get(t)||null};function Rg(t){Ng.set(t.nativeNode,t)}var Mg=_g,jg=wg,Lg=rg(null,"core",[{provide:uv,useValue:"unknown"},{provide:sg,deps:[At]},{provide:Wv,deps:[]},{provide:hv,deps:[]}]),Vg=new Et("LocaleId"),Fg=new Et("Translations"),Ug=new Et("TranslationsFormat"),Bg=function(t){return t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore",t}({});function qg(){return sf}function zg(){return uf}function Hg(t){return t||"en-US"}var Kg=[{provide:cg,useClass:cg,deps:[Uv,hv,At,$i,bh,nv]},{provide:md,deps:[Uv],useFactory:Gg},{provide:nv,useClass:nv,deps:[[new g,ev]]},{provide:Tv,useClass:Tv,deps:[]},ov,{provide:tf,useFactory:qg,deps:[]},{provide:ef,useFactory:zg,deps:[]},{provide:Vg,useFactory:Hg,deps:[[new v(Vg),new g,new _]]}];function Gg(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}var Qg=function(){return function(t){}}();function Wg(t,e,n,r,i,o){t|=1;var a=Qf(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Xf(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Of},provider:null,text:null,query:null,ngContent:null}}function Yg(t,e,n,i,o,a,s,u,c,l,h,f){var p;void 0===s&&(s=[]),l||(l=Of);var d=Qf(n),y=d.matchedQueries,m=d.references,v=d.matchedQueryIds,g=null,b=null;a&&(g=(p=Object(r.__read)(ip(a),2))[0],b=p[1]),u=u||[];for(var _=new Array(u.length),w=0;w<u.length;w++){var E=Object(r.__read)(u[w],3),S=E[0],T=E[1],C=E[2],I=Object(r.__read)(ip(T),2),O=I[0],A=I[1],x=void 0,k=void 0;switch(15&S){case 4:k=C;break;case 1:case 8:x=C}_[w]={flags:S,ns:O,name:A,nonMinifiedName:A,securityContext:x,suffix:k}}c=c||[];var N=new Array(c.length);for(w=0;w<c.length;w++){var D=Object(r.__read)(c[w],2);N[w]={type:0,target:D[0],eventName:D[1],propName:null}}var P=(s=s||[]).map(function(t){var e=Object(r.__read)(t,2),n=e[0],i=e[1],o=Object(r.__read)(ip(n),2);return[o[0],o[1],i]});return f=function(t){if(t&&t.id===Nf){var e=null!=t.encapsulation&&t.encapsulation!==Oe.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Rf++:Df}return t&&t.id===Df&&(t=null),t||null}(f),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:y,matchedQueryIds:v,references:m,ngContentIndex:i,childCount:o,bindings:_,bindingFlags:op(_),outputs:N,element:{ns:g,name:b,attrs:P,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:l||Of},provider:null,text:null,query:null,ngContent:null}}function Zg(t,e,n){var i,o=n.element,a=t.root.selectorOrNode,s=t.renderer;if(t.parent||!a){i=o.name?s.createElement(o.name,o.ns):s.createComment("");var u=Yf(t,e,n);u&&s.appendChild(u,i)}else i=s.selectRootElement(a,!!o.componentRendererType&&o.componentRendererType.encapsulation===Oe.ShadowDom);if(o.attrs)for(var c=0;c<o.attrs.length;c++){var l=Object(r.__read)(o.attrs[c],3);s.setAttribute(i,l[1],l[2],l[0])}return i}function Xg(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=Jg(t,n.nodeIndex,(h=o.eventName,(l=o.target)?l+":"+h:h)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var c=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=c}var l,h}function Jg(t,e,n){return function(r){return Uf(t,e,n,r)}}function $g(t,e,n,r){if(!jf(t,e,n,r))return!1;var i=e.bindings[n],o=wf(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(Vo.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}function tb(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Gf(e),bindings:r},ngContent:null}}function eb(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Kf(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Tf(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&Tf(t,i).setDirty(),i+=o.childCount}}function nb(t,e){var n=Tf(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=rb(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=Ef(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=rb(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var c=a[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,s=!0}r[c.propName]=l}s&&n.notifyOnChanges()}}function rb(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(ib(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=wf(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(rb(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var h=c[l],f=Bf(h);f&&f===u&&rb(h,0,h.def.nodes.length-1,r,i)}var p=u.template._projectedViews;if(p)for(l=0;l<p.length;l++){var d=p[l];rb(d,0,d.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function ib(t,e,n){if(null!=n)switch(n){case 1:return wf(t,e.nodeIndex).renderElement;case 0:return new kh(wf(t,e.nodeIndex).renderElement);case 2:return wf(t,e.nodeIndex).template;case 3:return wf(t,e.nodeIndex).viewContainer;case 4:return Ef(t,e.nodeIndex).instance}}function ob(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function ab(t,e,n){var r=Yf(t,e,n);r&&tp(t,n.ngContent.index,1,r,null,void 0)}function sb(t,e){return lb(128,t,new Array(e+1))}function ub(t,e){return lb(32,t,new Array(e))}function cb(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return lb(64,t,i)}function lb(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:op(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function hb(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function fb(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=Yf(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function pb(t,e){return(null!=t?t.toString():"")+e.suffix}function db(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,c=null,l=null,h=!1,f=!1,p=null,d=0;d<e.length;d++){var y=e[d];if(y.nodeIndex=d,y.parent=c,y.bindingIndex=i,y.outputIndex=o,y.renderParent=l,a|=y.flags,u|=y.matchedQueryIds,y.element){var m=y.element;m.publicProviders=c?c.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,h=!1,f=!1,y.element.template&&(u|=y.element.template.nodeMatchedQueries)}if(mb(c,y,e.length),i+=y.bindings.length,o+=y.outputs.length,!l&&3&y.flags&&(p=y),20224&y.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var v=0!=(32768&y.flags);0==(8192&y.flags)||v?c.element.publicProviders[xf(y.provider.token)]=y:(f||(f=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[xf(y.provider.token)]=y),v&&(c.element.componentProvider=y)}if(c?(c.childFlags|=y.flags,c.directChildFlags|=y.flags,c.childMatchedQueries|=y.matchedQueryIds,y.element&&y.element.template&&(c.childMatchedQueries|=y.element.template.nodeMatchedQueries)):s|=y.flags,y.childCount>0)c=y,yb(y)||(l=y);else for(;c&&d===c.nodeIndex+c.childCount;){var g=c.parent;g&&(g.childFlags|=c.childFlags,g.childMatchedQueries|=c.childMatchedQueries),l=(c=g)&&yb(c)?c.renderParent:c}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Of,updateRenderer:r||Of,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:p}}function yb(t){return 0!=(1&t.flags)&&null===t.element.name}function mb(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function vb(t,e,n,r){var i=_b(t.root,t.renderer,t,e,n);return wb(i,t.component,r),Eb(i),i}function gb(t,e,n){var r=_b(t,t.renderer,null,null,e);return wb(r,n,n),Eb(r),r}function bb(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,_b(t.root,i,t,e.element.componentProvider,n)}function _b(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function wb(t,e,n){t.component=e,t.context=n}function Eb(t){var e;Hf(t)&&(e=wf(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];If.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var s=Zg(t,e,o),u=void 0;if(33554432&o.flags){var c=Xf(o.element.componentView);u=If.createComponentView(t,o,c,s)}Xg(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?Pp(t,o):void 0},16777216&o.flags&&(a.viewContainer=xp(t,o,a));break;case 2:a=fb(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:td(t,o)});break;case 16:a={instance:ed(t,o)};break;case 16384:(a=r[i])||(a={instance:nd(t,o)}),32768&o.flags&&wb(wf(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new My;break;case 8:ab(t,e,o),a=void 0}r[i]=a}Nb(t,kb.CreateViewNodes),Mb(t,201326592,268435456,0)}function Sb(t){Ib(t),If.updateDirectives(t,1),Db(t,kb.CheckNoChanges),If.updateRenderer(t,1),Nb(t,kb.CheckNoChanges),t.state&=-97}function Tb(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,gf(t,0,256),Ib(t),If.updateDirectives(t,0),Db(t,kb.CheckAndUpdate),Mb(t,67108864,536870912,0);var e=gf(t,256,512);ld(t,2097152|(e?1048576:0)),If.updateRenderer(t,0),Nb(t,kb.CheckAndUpdate),Mb(t,134217728,536870912,0),ld(t,8388608|((e=gf(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,gf(t,768,1024)}function Cb(t,e,n,i,o,a,s,u,c,l,h,f,p){return 0===n?function(t,e,n,r,i,o,a,s,u,c,l,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings.length,p=!1;return f>0&&$g(t,e,0,n)&&(p=!0),f>1&&$g(t,e,1,r)&&(p=!0),f>2&&$g(t,e,2,i)&&(p=!0),f>3&&$g(t,e,3,o)&&(p=!0),f>4&&$g(t,e,4,a)&&(p=!0),f>5&&$g(t,e,5,s)&&(p=!0),f>6&&$g(t,e,6,u)&&(p=!0),f>7&&$g(t,e,7,c)&&(p=!0),f>8&&$g(t,e,8,l)&&(p=!0),f>9&&$g(t,e,9,h)&&(p=!0),p}(t,e,n,r,i,o,a,s,u,c,l,h);case 2:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=!1,p=e.bindings,d=p.length;if(d>0&&jf(t,e,0,n)&&(f=!0),d>1&&jf(t,e,1,r)&&(f=!0),d>2&&jf(t,e,2,i)&&(f=!0),d>3&&jf(t,e,3,o)&&(f=!0),d>4&&jf(t,e,4,a)&&(f=!0),d>5&&jf(t,e,5,s)&&(f=!0),d>6&&jf(t,e,6,u)&&(f=!0),d>7&&jf(t,e,7,c)&&(f=!0),d>8&&jf(t,e,8,l)&&(f=!0),d>9&&jf(t,e,9,h)&&(f=!0),f){var y=e.text.prefix;d>0&&(y+=pb(n,p[0])),d>1&&(y+=pb(r,p[1])),d>2&&(y+=pb(i,p[2])),d>3&&(y+=pb(o,p[3])),d>4&&(y+=pb(a,p[4])),d>5&&(y+=pb(s,p[5])),d>6&&(y+=pb(u,p[6])),d>7&&(y+=pb(c,p[7])),d>8&&(y+=pb(l,p[8])),d>9&&(y+=pb(h,p[9]));var m=_f(t,e.nodeIndex).renderText;t.renderer.setValue(m,y)}return f}(t,e,n,r,i,o,a,s,u,c,l,h);case 16384:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=Ef(t,e.nodeIndex),p=f.instance,d=!1,y=void 0,m=e.bindings.length;return m>0&&Mf(t,e,0,n)&&(d=!0,y=cd(t,f,e,0,n,y)),m>1&&Mf(t,e,1,r)&&(d=!0,y=cd(t,f,e,1,r,y)),m>2&&Mf(t,e,2,i)&&(d=!0,y=cd(t,f,e,2,i,y)),m>3&&Mf(t,e,3,o)&&(d=!0,y=cd(t,f,e,3,o,y)),m>4&&Mf(t,e,4,a)&&(d=!0,y=cd(t,f,e,4,a,y)),m>5&&Mf(t,e,5,s)&&(d=!0,y=cd(t,f,e,5,s,y)),m>6&&Mf(t,e,6,u)&&(d=!0,y=cd(t,f,e,6,u,y)),m>7&&Mf(t,e,7,c)&&(d=!0,y=cd(t,f,e,7,c,y)),m>8&&Mf(t,e,8,l)&&(d=!0,y=cd(t,f,e,8,l,y)),m>9&&Mf(t,e,9,h)&&(d=!0,y=cd(t,f,e,9,h,y)),y&&p.ngOnChanges(y),65536&e.flags&&bf(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),d}(t,e,n,r,i,o,a,s,u,c,l,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings,p=!1,d=f.length;if(d>0&&jf(t,e,0,n)&&(p=!0),d>1&&jf(t,e,1,r)&&(p=!0),d>2&&jf(t,e,2,i)&&(p=!0),d>3&&jf(t,e,3,o)&&(p=!0),d>4&&jf(t,e,4,a)&&(p=!0),d>5&&jf(t,e,5,s)&&(p=!0),d>6&&jf(t,e,6,u)&&(p=!0),d>7&&jf(t,e,7,c)&&(p=!0),d>8&&jf(t,e,8,l)&&(p=!0),d>9&&jf(t,e,9,h)&&(p=!0),p){var y=Sf(t,e.nodeIndex),m=void 0;switch(201347067&e.flags){case 32:m=new Array(f.length),d>0&&(m[0]=n),d>1&&(m[1]=r),d>2&&(m[2]=i),d>3&&(m[3]=o),d>4&&(m[4]=a),d>5&&(m[5]=s),d>6&&(m[6]=u),d>7&&(m[7]=c),d>8&&(m[8]=l),d>9&&(m[9]=h);break;case 64:m={},d>0&&(m[f[0].name]=n),d>1&&(m[f[1].name]=r),d>2&&(m[f[2].name]=i),d>3&&(m[f[3].name]=o),d>4&&(m[f[4].name]=a),d>5&&(m[f[5].name]=s),d>6&&(m[f[6].name]=u),d>7&&(m[f[7].name]=c),d>8&&(m[f[8].name]=l),d>9&&(m[f[9].name]=h);break;case 128:var v=n;switch(d){case 1:m=v.transform(n);break;case 2:m=v.transform(r);break;case 3:m=v.transform(r,i);break;case 4:m=v.transform(r,i,o);break;case 5:m=v.transform(r,i,o,a);break;case 6:m=v.transform(r,i,o,a,s);break;case 7:m=v.transform(r,i,o,a,s,u);break;case 8:m=v.transform(r,i,o,a,s,u,c);break;case 9:m=v.transform(r,i,o,a,s,u,c,l);break;case 10:m=v.transform(r,i,o,a,s,u,c,l,h)}}y.value=m}return p}(t,e,n,r,i,o,a,s,u,c,l,h);default:throw"unreachable"}}(t,e,i,o,a,s,u,c,l,h,f,p):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)$g(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)jf(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=pb(n[o],r[o]);a=e.text.prefix+a;var s=_f(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=Ef(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)Mf(t,e,s,n[s])&&(o=!0,a=cd(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&bf(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,o=!1,a=0;a<n.length;a++)jf(t,e,a,n[a])&&(o=!0);if(o){var s=Sf(t,e.nodeIndex),u=void 0;switch(201347067&e.flags){case 32:u=n;break;case 64:for(u={},a=0;a<n.length;a++)u[i[a].name]=n[a];break;case 128:var c=n[0],l=n.slice(1);u=c.transform.apply(c,Object(r.__spread)(l))}s.value=u}return o}(t,e,n);default:throw"unreachable"}}(t,e,i)}function Ib(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=wf(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,Ff(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Ob(t,e,n,r,i,o,a,s,u,c,l,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings.length;f>0&&Lf(t,e,0,n),f>1&&Lf(t,e,1,r),f>2&&Lf(t,e,2,i),f>3&&Lf(t,e,3,o),f>4&&Lf(t,e,4,a),f>5&&Lf(t,e,5,s),f>6&&Lf(t,e,6,u),f>7&&Lf(t,e,7,c),f>8&&Lf(t,e,8,l),f>9&&Lf(t,e,9,h)}(t,e,r,i,o,a,s,u,c,l,h,f):function(t,e,n){for(var r=0;r<n.length;r++)Lf(t,e,r,n[r])}(t,e,r),!1}function Ab(t,e){if(Tf(t,e.nodeIndex).dirty)throw yf(If.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function xb(t){if(!(128&t.state)){if(Db(t,kb.Destroy),Nb(t,kb.Destroy),ld(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Bf(t);if(e){var n=e.template._projectedViews;n&&(Sp(n,n.indexOf(t)),If.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(wf(t,n).renderElement):2&r.flags?t.renderer.destroyNode(_f(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Tf(t,n).destroy()}}(t),Hf(t)&&t.renderer.destroy(),t.state|=128}}var kb=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function Nb(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Pb(wf(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Db(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=wf(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)Pb(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Pb(t,e){var n=t.state;switch(e){case kb.CheckNoChanges:0==(128&n)&&(12==(12&n)?Sb(t):64&n&&Rb(t,kb.CheckNoChangesProjectedViews));break;case kb.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Sb(t):64&n&&Rb(t,e));break;case kb.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Tb(t):64&n&&Rb(t,kb.CheckAndUpdateProjectedViews));break;case kb.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Tb(t):64&n&&Rb(t,e));break;case kb.Destroy:xb(t);break;case kb.CreateViewNodes:Eb(t)}}function Rb(t,e){Db(t,e),Nb(t,e)}function Mb(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(If.setCurrentNode(t,a.nodeIndex),r){case 0:nb(t,a);break;case 1:Ab(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var jb=!1;function Lb(){if(!jb){jb=!0;var t=fo()?{setCurrentNode:a_,createRootView:Fb,createEmbeddedView:Bb,createComponentView:qb,createNgModuleRef:zb,overrideProvider:Qb,overrideComponentView:Wb,clearOverrides:Yb,checkAndUpdateView:$b,checkNoChangesView:t_,destroyView:e_,createDebugContext:function(t,e){return new d_(t,e)},handleEvent:s_,updateDirectives:u_,updateRenderer:c_}:{setCurrentNode:function(){},createRootView:Vb,createEmbeddedView:vb,createComponentView:bb,createNgModuleRef:Up,overrideProvider:Of,overrideComponentView:Of,clearOverrides:Of,checkAndUpdateView:Tb,checkNoChangesView:Sb,destroyView:xb,createDebugContext:function(t,e){return new d_(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Xb:Jb,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Xb:Jb,t)}};If.setCurrentNode=t.setCurrentNode,If.createRootView=t.createRootView,If.createEmbeddedView=t.createEmbeddedView,If.createComponentView=t.createComponentView,If.createNgModuleRef=t.createNgModuleRef,If.overrideProvider=t.overrideProvider,If.overrideComponentView=t.overrideComponentView,If.clearOverrides=t.clearOverrides,If.checkAndUpdateView=t.checkAndUpdateView,If.checkNoChangesView=t.checkNoChangesView,If.destroyView=t.destroyView,If.resolveDep=sd,If.createDebugContext=t.createDebugContext,If.handleEvent=t.handleEvent,If.updateDirectives=t.updateDirectives,If.updateRenderer=t.updateRenderer,If.dirtyParentQueries=eb}}function Vb(t,e,n,r,i,o){var a=i.injector.get(Lh);return gb(Ub(t,i,a,e,n),r,o)}function Fb(t,e,n,r,i,o){var a=i.injector.get(Lh),s=Ub(t,i,new g_(a),e,n),u=Zb(r);return m_(o_.create,gb,null,[s,u,o])}function Ub(t,e,n,r,i){var o=e.injector.get(Fo),a=e.injector.get($i),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function Bb(t,e,n,r){var i=Zb(n);return m_(o_.create,vb,null,[t,e,i,r])}function qb(t,e,n,r){return n=Gb.get(e.element.componentProvider.provider.token)||Zb(n),m_(o_.create,bb,null,[t,e,n,r])}function zb(t,e,n,r){return Up(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Hb.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=Hb.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){Kb.forEach(function(r,i){k(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=Hb.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Wf(i.deps),r.value=i.value)}if(Kb.size>0){var o=new Set(t.modules);Kb.forEach(function(e,r){if(o.has(k(r).providedIn)){var i={token:r,flags:e.flags|(n?4096:0),deps:Wf(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[xf(r)]=i}})}}(t=t.factory(function(){return Of})),t):t}(r))}var Hb=new Map,Kb=new Map,Gb=new Map;function Qb(t){var e;Hb.set(t.token,t),"function"==typeof t.token&&(e=k(t.token))&&"function"==typeof e.providedIn&&Kb.set(t.token,t)}function Wb(t,e){var n=Xf(Ip(e)),r=Xf(n.nodes[0].element.componentView);Gb.set(t,r)}function Yb(){Hb.clear(),Kb.clear(),Gb.clear()}function Zb(t){if(0===Hb.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Hb.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return Of});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Hb.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=Wf(o.deps),i.value=o.value)}}}}function Xb(t,e,n,r,i,o,a,s,u,c,l,h,f){var p=t.def.nodes[e];return Cb(t,p,n,r,i,o,a,s,u,c,l,h,f),224&p.flags?Sf(t,e).value:void 0}function Jb(t,e,n,r,i,o,a,s,u,c,l,h,f){var p=t.def.nodes[e];return Ob(t,p,n,r,i,o,a,s,u,c,l,h,f),224&p.flags?Sf(t,e).value:void 0}function $b(t){return m_(o_.detectChanges,Tb,null,[t])}function t_(t){return m_(o_.checkNoChanges,Sb,null,[t])}function e_(t){return m_(o_.destroy,xb,null,[t])}var n_,r_,i_,o_=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function a_(t,e){r_=t,i_=e}function s_(t,e,n,r){return a_(t,e),m_(o_.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function u_(t,e){if(128&t.state)throw vf(o_[n_]);return a_(t,f_(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?l_(t,a,r,i):h_(t,a,r,i),16384&a.flags&&a_(t,f_(t,n)),224&a.flags?Sf(t,a.nodeIndex).value:void 0},t)}function c_(t,e){if(128&t.state)throw vf(o_[n_]);return a_(t,p_(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?l_(t,a,r,i):h_(t,a,r,i),3&a.flags&&a_(t,p_(t,n)),224&a.flags?Sf(t,a.nodeIndex).value:void 0},t)}function l_(t,e,n,i){if(Cb.apply(void 0,Object(r.__spread)([t,e,n],i))){var o=1===n?i[0]:i;if(16384&e.flags){for(var a={},s=0;s<e.bindings.length;s++){var u=e.bindings[s],c=o[s];8&u.flags&&(a[(p=u.nonMinifiedName,"ng-reflect-"+p.replace(/[$@]/g,"_").replace(Jo,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))]=$o(c))}var l=e.parent,h=wf(t,l.nodeIndex).renderElement;if(l.element.name)for(var f in a)null!=(c=a[f])?t.renderer.setAttribute(h,f,c):t.renderer.removeAttribute(h,f);else t.renderer.setValue(h,"bindings="+JSON.stringify(a,null,2))}}var p}function h_(t,e,n,i){Ob.apply(void 0,Object(r.__spread)([t,e,n],i))}function f_(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function p_(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var d_=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=qf(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return wf(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Mp(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){y_(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&y_(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!Hf(t);)t=t.parent;return t.parent?wf(t.parent,qf(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?zf(this.view,this.nodeDef):zf(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),s=-1;e.factory(function(){var e;return++s===a?(e=t.error).bind.apply(e,Object(r.__spread)([t],i)):Of}),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(r.__spread)(i)))},t}();function y_(t,e,n){for(var r in e.references)n[r]=ib(t,e,e.references[r])}function m_(t,e,n,r){var i=n_,o=r_,a=i_;try{n_=t;var s=e.apply(n,r);return r_=o,i_=a,n_=i,s}catch(u){if(Zi(u)||!r_)throw u;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),mf(t,e),t}(u,v_())}}function v_(){return r_?new d_(r_,i_):null}var g_=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new b_(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),b_=function(){function t(t){this.delegate=t,this.debugContextFactory=v_,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){!function(t){Ng.delete(t.nativeNode)}(Pg(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var i=new wg(n,null,r);i.name=t,Rg(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Rg(new _g(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Rg(new _g(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=Pg(t),r=Pg(e);n&&r&&n instanceof wg&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=Pg(t),i=Pg(e),o=Pg(n);r&&i&&r instanceof wg&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=Pg(t),r=Pg(e);n&&r&&n instanceof wg&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),r=v_();return r&&Rg(new wg(n,null,r)),n},t.prototype.setAttribute=function(t,e,n,r){var i=Pg(t);i&&i instanceof wg&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=Pg(t);r&&r instanceof wg&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=Pg(t);n&&n instanceof wg&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=Pg(t);n&&n instanceof wg&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=Pg(t);i&&i instanceof wg&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=Pg(t);r&&r instanceof wg&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=Pg(t);r&&r instanceof wg&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=Pg(t);r&&r.listeners.push(new bg(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function __(t){return Lb(),If.overrideProvider(t)}function w_(t,e){return Lb(),If.overrideComponentView(t,e)}function E_(){return Lb(),If.clearOverrides()}function S_(t,e,n){return new T_(t,e,n)}var T_=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(r.__extends)(e,t),e.prototype.create=function(t){Lb();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Xf(this._ngModuleDefFactory));return If.createNgModuleRef(this.moduleType,t||At.NULL,this._bootstrapComponents,e)},e}(Sh)},DKTb:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},DtyJ:function(t,e,n){"use strict";var r=n("K9Ia");n.d(e,"a",function(){return r.a})},DuvN:function(t,e,n){var r=n("mrSG").__decorate;Object.defineProperty(e,"__esModule",{value:!0});var i=n("CcnG"),o=n("QZHI");e.ParallaxModule=function(){function t(){}return e=t,t.forRoot=function(){return{ngModule:e,providers:[]}},e=r([i.NgModule({declarations:[o.Parallax],exports:[o.Parallax]})],t);var e}()},"En8+":function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});var i=r()},"F/XL":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("nkY7"),i=n("IUTb"),o=n("G5J1"),a=n("PU8L");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(Object(r.a)(n)?t.pop():n=void 0,t.length){case 0:return Object(o.b)(n);case 1:return n?Object(i.a)(t,n):Object(a.a)(t[0]);default:return Object(i.a)(t,n)}}},FFOo:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),i=n("2Bdj"),o=n("6ahw"),a=n("pugT"),s=n("L/V9"),u=n("iLxQ"),c=n("DKTb"),l=function(t){function e(n,r,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new h(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new h(a,n,r,i)}return a}return r.__extends(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(a.a),h=function(t){function e(e,n,r,a){var s,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.a&&(c=Object.create(n),Object(i.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=r,u._complete=a,u}return r.__extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},Fxb1:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("6blF"),i=n("+tJ4"),o=n("S5XQ"),a=n("u67D"),s=n("JcRv"),u=n("2ePl"),c=n("/WYv"),l=n("McSo"),h=n("En8+"),f=n("xTla"),p=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[f.a])return Object(s.a)(t);if(Object(u.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[h.a])return Object(a.a)(t);var e=Object(l.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},G5J1:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("6blF"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},IUTb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6blF"),i=n("pugT"),o=n("+tJ4");function a(t,e){return new r.a(e?function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Object(o.a)(t))}},JcRv:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("xTla"),i=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},K9Ia:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return h});var r=n("mrSG"),i=n("6blF"),o=n("FFOo"),a=n("pugT"),s=n("8g8A"),u=n("uMaO"),c=n("L/V9"),l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.__extends(e,t),e}(o.a),h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.__extends(e,t),e.prototype[c.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u.a(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.a),f=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.__extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(h)},KQya:function(t,e,n){"use strict";var r=n("mrSG"),i=1,o={},a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.__extends(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=(a=e.flush.bind(e,null),s=i++,o[s]=a,Promise.resolve().then(function(){return function(t){var e=o[t];e&&e()}(s)}),s)));var a,s},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(delete o[n],e.scheduled=void 0)},e}(n("h9Dq").a),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(n("CS9Q").a);n.d(e,"a",function(){return u});var u=new s(a)},KhEm:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),i=n("K9Ia"),o=n("6blF"),a=(n("FFOo"),n("pugT")),s=n("yGWI"),u=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.__extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new l(this.getSubject(),this))),t.closed?(this._connection=null,t=a.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return Object(s.a)()(this)},e}(o.a).prototype,c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:u._subscribe},_isComplete:{value:u._isComplete,writable:!0},getSubject:{value:u.getSubject},connect:{value:u.connect},refCount:{value:u.refCount}},l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.b)},"L/V9":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},MGBS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("FFOo").a)},McSo:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},PU8L:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6blF");function i(t){var e=new r.a(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}},QZHI:function(t,e,n){var r=n("mrSG").__decorate,i=n("mrSG").__metadata;Object.defineProperty(e,"__esModule",{value:!0});var o=n("CcnG");e.Parallax=function(){function t(t){var e=this;this.name="parallaxDirective",this.cssKey="backgroundPosition",this.cssProperty="backgroundPositionY",this.axis="Y",this.ratio=-.7,this.initialValue=0,this.canMove=!0,this.cssUnit="px",this.cb_context=null,this.cb_args=[],this.parallaxStyles={},this.isSpecialVal=!1,this.evaluateScroll=function(){if(e.canMove){var t,n=void 0;n=e.scrollElement instanceof Window?e.scrollElement.scrollY*e.ratio+e.initialValue:e.scrollElement.scrollTop*e.ratio+e.initialValue,void 0!==e.maxValue&&n>=e.maxValue?n=e.maxValue:void 0!==e.minValue&&n<=e.minValue&&(n=e.minValue),t="backgroundPosition"===e.cssKey?"X"===e.axis?"calc(50% + "+n+e.cssUnit+") center":"center calc(50% + "+n+e.cssUnit+")":e.isSpecialVal?e.cssValue+"("+n+e.cssUnit+")":n+e.cssUnit,e.cb&&e.cb.apply(e.cb_context,e.cb_args),e.parallaxElement.style[e.cssKey]=t}},this.hostElement=t.nativeElement}return t.prototype.ngOnInit=function(){var t;for(var e in this.config)this[e]=this.config[e];if(this.cssProperty=this.cssProperty?this.cssProperty:"backgroundPositionY",this.cssProperty.match(/backgroundPosition/i)&&("X"===this.cssProperty.split("backgroundPosition")[1].toUpperCase()&&(this.axis="X"),this.cssProperty="backgroundPosition"),t=this.cssProperty.split(":"),this.cssKey=t[0],this.cssValue=t[1],this.isSpecialVal=!!this.cssValue,this.cssValue||(this.cssValue=this.cssKey),this.ratio=+this.ratio,this.initialValue=+this.initialValue,this.parallaxElement=this.parallaxElement||this.hostElement,!this.scrollElement)if(document.getElementById("parallaxScroll"))this.scrollElement=document.getElementById("parallaxScroll");else if(this.scrollerId)try{if(this.scrollElement=document.getElementById(this.scrollerId),!this.scrollElement)throw"The ID passed through the parallaxConfig ('"+this.scrollerId+"') object was not found in the document.  Defaulting to tracking the scrolling of the window."}catch(n){console.warn(n),this.scrollElement=window}else this.scrollElement=window;this.evaluateScroll(),this.scrollElement.addEventListener("scroll",this.evaluateScroll.bind(this))},r([o.Input(),i("design:type",Object)],t.prototype,"config",void 0),r([o.Input(),i("design:type",String)],t.prototype,"cssKey",void 0),r([o.Input(),i("design:type",String)],t.prototype,"cssProperty",void 0),r([o.Input(),i("design:type",String)],t.prototype,"axis",void 0),r([o.Input(),i("design:type",Number)],t.prototype,"ratio",void 0),r([o.Input(),i("design:type",Number)],t.prototype,"initialValue",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"canMove",void 0),r([o.Input(),i("design:type",String)],t.prototype,"scrollerId",void 0),r([o.Input(),i("design:type",Number)],t.prototype,"maxValue",void 0),r([o.Input(),i("design:type",Number)],t.prototype,"minValue",void 0),r([o.Input(),i("design:type",String)],t.prototype,"cssUnit",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"cb",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"cb_context",void 0),r([o.Input(),i("design:type",Array)],t.prototype,"cb_args",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"scrollElement",void 0),r([o.Input(),i("design:type",HTMLElement)],t.prototype,"parallaxElement",void 0),r([o.Directive({selector:"[parallax]"})],t)}()},S1nX:function(t,e,n){"use strict";var r=n("KhEm"),i=n("yGWI"),o=n("K9Ia");function a(){return new o.a}function s(){return function(t){return Object(i.a)()((e=a,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,r.a);return i.source=t,i.subjectFactory=n,i})(t));var e}}n.d(e,"a",function(){return s})},S5XQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DKTb"),i=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},S5bw:function(t,e,n){"use strict";var r=n("mrSG"),i=n("K9Ia"),o=n("zo3G"),a=n("pugT"),s=n("FFOo"),u=n("60iU"),c=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return r.__extends(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new l(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(u.a.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(u.a.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(u.a.createComplete()),this.unsubscribe()},e}(s.a),l=function(){return function(t,e){this.notification=t,this.destination=e}}(),h=n("8g8A"),f=n("uMaO");n.d(e,"a",function(){return p});var p=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.__extends(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new d(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new h.a;if(this.isStopped||this.hasError?e=a.a.EMPTY:(this.observers.push(t),e=new f.a(this,t)),i&&t.add(t=new c(t,i)),n)for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);else for(s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.a).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(i.a),d=function(){return function(t,e){this.time=t,this.value=e}}()},T1DM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("h9Dq"),i=new(n("CS9Q").a)(r.a)},Txjg:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("Zn8D");function i(){return Object(r.a)(1)}},VNr4:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),i=n("6blF"),o=n("isby"),a=n("G5J1"),s=n("zotm"),u=n("MGBS"),c=n("67Y/");function l(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(o.a)(e[0])&&(e=e[0]),0===e.length?a.a:t?l(e).pipe(Object(c.a)(function(e){return t.apply(void 0,e)})):new i.a(function(t){return new h(t,e)})}var h=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var a=n[o],u=Object(s.a)(r,a,null,o);u&&r.add(u)}return r}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()},e}(u.a)},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},XlPw:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6blF");function i(t,e){return new r.a(e?function(n){return e.schedule(o,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function o(t){t.subscriber.error(t.error)}},Zn8D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("psW0"),i=n("mChF");function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(i.a,t)}},awvh:function(t,e,n){"use strict";function r(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},b7mW:function(t,e,n){"use strict";function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},bne5:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("6blF"),i=n("isby"),o=n("2Bdj"),a=n("67Y/");function s(t,e,n,u){return Object(o.a)(n)&&(u=n,n=void 0),u?s(t,e,n).pipe(Object(a.a)(function(t){return Object(i.a)(t)?u.apply(void 0,t):u(t)})):new r.a(function(r){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),a=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,h=e.length;l<h;l++)t(e[l],n,r,i,o)}i.add(a)}(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}},dEwP:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("F/XL"),i=n("Txjg");function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(i.a)()(r.a.apply(void 0,t))}},dzgT:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),i=n("nkY7"),o=n("isby"),a=n("MGBS"),s=n("zotm"),u=n("IUTb"),c={};function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Object(i.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(o.a)(t[0])&&(t=t[0]),Object(u.a)(t,r).lift(new h(n))}var h=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.resultSelector))},t}(),f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.__extends(e,t),e.prototype._next=function(t){this.values.push(c),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(s.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===c?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(a.a)},gI3B:function(t,e,n){"use strict";var r=n("6blF"),i=n("T1DM"),o=n("isby");function a(t){return!Object(o.a)(t)&&t-parseFloat(t)+1>=0}var s=n("nkY7");function u(t,e,n){void 0===t&&(t=0);var o=-1;return a(e)?o=Number(e)<1?1:Number(e):Object(s.a)(e)&&(n=e),Object(s.a)(n)||(n=i.a),new r.a(function(e){var r=a(t)?t:+t-n.now();return n.schedule(c,r,{index:0,period:o,subscriber:e})})}function c(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}n.d(e,"a",function(){return u})},h9Dq:function(t,e,n){"use strict";var r=n("mrSG"),i=function(t){function e(e,n){return t.call(this)||this}return r.__extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n("pugT").a);n.d(e,"a",function(){return o});var o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.__extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(i)},iLxQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},isby:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},lYZG:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6blF"),i=n("0/uQ"),o=n("G5J1");function a(t){return new r.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(e)})}},mChF:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return y}),n.d(e,"__spreadArrays",function(){return m}),n.d(e,"__await",function(){return v}),n.d(e,"__asyncGenerator",function(){return g}),n.d(e,"__asyncDelegator",function(){return b}),n.d(e,"__asyncValues",function(){return _}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return E}),n.d(e,"__importDefault",function(){return S});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof v?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}},nkY7:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return y}),n.d(e,"__await",function(){return m}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return g}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return E});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function g(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},p0ib:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("6blF"),i=n("nkY7"),o=n("Zn8D"),a=n("IUTb");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return Object(i.a)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(n)(Object(a.a)(t,s))}},psW0:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),i=n("zotm"),o=n("MGBS"),a=n("rPjj"),s=n("67Y/"),u=n("0/uQ");function c(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(c(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(s.a)(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new l(t,n))})}var l=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project,this.concurrent))},t}(),h=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.__extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},pugT:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("isby"),i=n("McSo"),o=n("2Bdj"),a=n("awvh"),s=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,s=this._parents,c=this._unsubscribe,l=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,f=s?s.length:0;n;)n.remove(this),n=++h<f&&s[h]||null;if(Object(o.a)(c))try{c.call(this)}catch(d){e=!0,t=d instanceof a.a?u(d.errors):[d]}if(Object(r.a)(l))for(h=-1,f=l.length;++h<f;){var p=l[h];if(Object(i.a)(p))try{p.unsubscribe()}catch(d){e=!0,t=t||[],d instanceof a.a?t=t.concat(u(d.errors)):t.push(d)}}if(e)throw new a.a(t)}},t.prototype.add=function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t.EMPTY=((e=new t).closed=!0,e),t}();function u(t){return t.reduce(function(t,e){return t.concat(e instanceof a.a?e.errors:e)},[])}},"q/0M":function(t,e,n){"use strict";function r(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function i(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t}n.r(e),n.d(e,"LogLevel",function(){return a}),n.d(e,"Logger",function(){return c}),n.d(e,"setLogLevel",function(){return l});var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s=a.INFO,u=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case a.DEBUG:case a.VERBOSE:console.log.apply(console,i(["["+o+"]  "+t.name+":"],n));break;case a.INFO:console.info.apply(console,i(["["+o+"]  "+t.name+":"],n));break;case a.WARN:console.warn.apply(console,i(["["+o+"]  "+t.name+":"],n));break;case a.ERROR:console.error.apply(console,i(["["+o+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},c=function(){function t(t){this.name=t,this._logLevel=s,this._logHandler=u,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,i([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,i([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,i([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,i([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,i([this,a.ERROR],t))},t}();function l(t){o.forEach(function(e){e.logLevel=t})}},rPjj:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("FFOo").a)},siIJ:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}()},tHPV:function(t,e,n){"use strict";var r=n("mrSG"),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.__extends(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(n("h9Dq").a),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(n("CS9Q").a);n.d(e,"a",function(){return a});var a=new o(i)},u67D:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("En8+"),i=function(t){return function(e){for(var n=t[r.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},uMaO:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.__extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n("pugT").a)},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("30Go"),o=n("zVF4"),a=n("q/0M"),s=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["duplicate-service"]="Firebase service named '{$appName}' already registered",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),u=new o.ErrorFactory("app","Firebase",s),c="[DEFAULT]",l=[],h=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){l.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){l=l.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){var e,n,r,o;t.firebase_.INTERNAL.removeApp(t.name_);var a=[];try{for(var s=i.__values(Object.keys(t.services_)),u=s.next();!u.done;u=s.next()){var c=u.value;try{for(var l=i.__values(Object.keys(t.services_[c])),h=l.next();!h.done;h=l.next())a.push(t.services_[c][h.value])}catch(f){r={error:f}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}}catch(p){e={error:p}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return Promise.all(a.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=c),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==c?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;o.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(l.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),l=[])},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var f=new a.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var p=self.firebase.SDK_VERSION;p&&p.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var d=function t(){var e=function(t){var e={},n={},r={},a={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),("object"!=typeof r||null===r)&&(r={name:r});var i=r;void 0===i.name&&(i.name=c);var s=i.name;if("string"!=typeof s||!s)throw u.create("bad-app-name",{appName:String(s)});if(o.contains(e,s))throw u.create("duplicate-app",{appName:s});var l=new t(n,i,a);return e[s]=l,h(l,"create"),l},app:s,apps:null,SDK_VERSION:"6.3.0",INTERNAL:{registerService:function(e,i,c,h,f){if(void 0===f&&(f=!1),n[e])throw u.create("duplicate-service",{appName:e});function p(t){if(void 0===t&&(t=s()),"function"!=typeof t[e])throw u.create("invalid-app-argument",{appName:e});return t[e]()}return n[e]=i,h&&(r[e]=h,l().forEach(function(t){h("create",t)})),void 0!==c&&o.deepExtend(p,c),a[e]=p,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,e).apply(this,f?t:[])},p},removeApp:function(t){h(e[t],"delete"),delete e[t]},factories:n,useAsService:f}};function s(t){if(!o.contains(e,t=t||c))throw u.create("no-app",{appName:t});return e[t]}function l(){return Object.keys(e).map(function(t){return e[t]})}function h(t,e){var o,a;try{for(var s=i.__values(Object.keys(n)),u=s.next();!u.done;u=s.next()){var c=f(0,u.value);if(null===c)return;r[c]&&r[c](e,t)}}catch(l){o={error:l}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}}function f(t,e){return"serverAuth"===e?null:e}return a.default=a,Object.defineProperty(a,"apps",{get:l}),s.App=t,a}(h);return e.INTERNAL=i.__assign({},e.INTERNAL,{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),y=d.initializeApp;d.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\n      to false and "main" to true:\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var m=d;e.default=m,e.firebase=m},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",function(){return sr}),n.d(e,"EventType",function(){return ur}),n.d(e,"WebChannel",function(){return cr}),n.d(e,"XhrIo",function(){return lr}),n.d(e,"createWebChannelTransport",function(){return ar});var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},a=i;function s(t){return"string"==typeof t}function u(t){return"number"==typeof t}function c(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function l(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function f(t){return"array"==h(t)}function p(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:g).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function S(){this.j=this.j,this.i=this.i}S.prototype.j=!1,S.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[y]||(this[y]=++m))},S.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var T=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},C=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function O(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function A(t){return/^[\s\xa0]*$/.test(t)}var x,k=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function N(t,e){return-1!=t.indexOf(e)}function D(t,e){return t<e?-1:t>e?1:0}t:{var P=a.navigator;if(P){var R=P.userAgent;if(R){x=R;break t}}x=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function j(t){var e,n={};for(e in t)n[e]=t[e];return n}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function F(t){return F[" "](t),t}F[" "]=l;var U,B,q=N(x,"Opera"),z=N(x,"Trident")||N(x,"MSIE"),H=N(x,"Edge"),K=H||z,G=N(x,"Gecko")&&!(N(x.toLowerCase(),"webkit")&&!N(x,"Edge"))&&!(N(x,"Trident")||N(x,"MSIE"))&&!N(x,"Edge"),Q=N(x.toLowerCase(),"webkit")&&!N(x,"Edge");function W(){var t=a.document;return t?t.documentMode:void 0}t:{var Y="",Z=(B=x,G?/rv:([^\);]+)(\)|;)/.exec(B):H?/Edge\/([\d\.]+)/.exec(B):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):Q?/WebKit\/(\S+)/.exec(B):q?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(Z&&(Y=Z?Z[1]:""),z){var X=W();if(null!=X&&X>parseFloat(Y)){U=String(X);break t}}U=Y}var J,$={};function tt(t){return function(t,e){var n=$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=k(String(U)).split("."),r=k(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||D(0==a[2].length,0==s[2].length)||D(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var et=a.document;J=et&&z?W()||("CSS1Compat"==et.compatMode?parseInt(U,10):5):void 0;var nt=!z||9<=Number(J),rt=z&&!tt("9"),it=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function at(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(G){t:{try{F(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:st[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ja=!1},E(at,ot);var st={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ut="closure_listenable_"+(1e6*Math.random()|0),ct=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ct,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function ft(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=T(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function dt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}ft.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=dt(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new lt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var yt="closure_lm_"+(1e6*Math.random()|0),mt={};function vt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(f(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=Tt(r),e&&e[ut]?e.Ba(n,r,d(i)?!!i.capture:!!i,o):gt(e,n,r,!0,i,o)}(t,e,n,r,i);if(f(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=Tt(n),t&&t[ut]?t.Aa(e,n,d(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i;if(a&&!nt)return null;var s=Et(t);if(s||(t[yt]=s=new ft(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(t){if(!u(t)&&t&&!t.X){var e=t.src;if(e&&e[ut])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Et(e))?(pt(n,t),0==n.b&&(n.src=null,e[yt]=null)):ht(t)}}}function _t(t){return t in mt?mt[t]:mt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&bt(t),n.call(r,e)}(t,nt?new at(e,this):e=new at(e||c("window.event"),this))}function Et(t){return(t=t[yt])instanceof ft?t:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(t){return"function"==h(t)?t:(t[St]||(t[St]=function(e){return t.handleEvent(e)}),t[St])}function Ct(){S.call(this),this.c=new ft(this),this.J=this,this.B=null}function It(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&pt(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ja}E(Ct,S),Ct.prototype[ut]=!0,(r=Ct.prototype).addEventListener=function(t,e,n,r){vt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(f(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=d(i)?!!i.capture:!!i,r=Tt(r),e&&e[ut]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=dt(a=e.a[n],r,i,o))&&(ht(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=Et(e))&&(n=e.a[n.toString()],e=-1,n&&(e=dt(n,r,i,o)),(r=-1<e?n[e]:null)&&bt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(s(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;V(t=new ot(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=It(a,r,!0,t)&&i}if(i=It(a=t.a=n,r,!0,t)&&i,i=It(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=It(a=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(Ct.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Ba=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ot=a.JSON.stringify;function At(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function xt(){this.b=this.a=null}At.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var kt,Nt=new At(function(){return new Pt},function(t){t.reset()});function Dt(){var t=Lt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Pt(){this.next=this.b=this.a=null}function Rt(t){a.setTimeout(function(){throw t},0)}function Mt(t,e){kt||function(){var t=a.Promise.resolve(void 0);kt=function(){t.then(Vt)}}(),jt||(kt(),jt=!0),Lt.add(t,e)}xt.prototype.add=function(t,e){var n=Nt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Pt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Pt.prototype.reset=function(){this.next=this.b=this.a=null};var jt=!1,Lt=new xt;function Vt(){for(var t;t=Dt();){try{t.a.call(t.b)}catch(n){Rt(n)}var e=Nt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}jt=!1}function Ft(t,e){Ct.call(this),this.b=t||1,this.a=e||a,this.f=b(this.gb,this),this.g=w()}function Ut(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Bt(t,e,n){if("function"==h(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function qt(t,e,n){S.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.ab,this),this.a=[]}function zt(t){t.U=Bt(t.b,t.c),t.f.apply(null,t.a)}function Ht(t){S.call(this),this.b=t,this.a={}}E(Ft,Ct),(r=Ft.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Ut(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){Ft.N.G.call(this),Ut(this),delete this.a},E(qt,S),(r=qt.prototype).ea=!1,r.U=null,r.Ua=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},r.G=function(){qt.N.G.call(this),this.U&&(a.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},E(Ht,S);var Kt=[];function Gt(t,e,n,r){f(n)||(n&&(Kt[0]=n.toString()),n=Kt);for(var i=0;i<n.length;i++){var o=vt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Qt(t){M(t.a,function(t,e){this.a.hasOwnProperty(e)&&bt(t)},t),t.a={}}function Wt(){}Ht.prototype.G=function(){Ht.N.G.call(this),Qt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=new Ct;function Zt(t){ot.call(this,"serverreachability",t)}function Xt(t){Yt.dispatchEvent(new Zt(Yt,t))}function Jt(t){ot.call(this,"statevent",t)}function $t(t){Yt.dispatchEvent(new Jt(Yt,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){t()},e)}E(Zt,ot),E(Jt,ot),E(te,ot);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function oe(){}ie.prototype.a=null;var ae,se={OPEN:"a",ib:"b",Na:"c",rb:"d"};function ue(){ot.call(this,"d")}function ce(){ot.call(this,"c")}function le(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Ht(this),this.O=fe,this.P=new Ft(t=K?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(ue,ot),E(ce,ot),E(le,ie),ae=new le;var fe=45e3,pe={},de={};function ye(t,e,n){t.F=1,t.f=Ue(Pe(e)),t.l=n,t.H=!0,ve(t,null)}function me(t,e,n,r){t.F=1,t.f=Ue(Pe(e)),t.l=null,t.H=n,ve(t,r)}function ve(t,e){t.v=w(),_e(t),t.D=Pe(t.f),Fe(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new qt(b(t.Ka,t,t.a),t.J)),Gt(t.I,t.a,"readystatechange",t.eb),e=t.h?j(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Xt(1)}function ge(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=be(t,n);if(i==de){4==e&&(t.c=4,$t(14),r=!1);break}if(i==pe){t.c=4,$t(15),r=!1;break}Ce(t,i)}4==e&&0==n.length&&(t.c=1,$t(16),r=!1),t.b=t.b&&r,r||(Te(t),Se(t))}function be(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?de:(n=Number(e.substring(n,r)),isNaN(n)?pe:(r+=1)+n>e.length?de:(e=e.substr(r,n),t.A=r+n,e))}function _e(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(b(t.bb,t),e)}function Ee(t){t.i&&(a.clearTimeout(t.i),t.i=null)}function Se(t){t.g.Da()||t.m||t.g.na(t)}function Te(t){Ee(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Ut(t.P),Qt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Ce(t,e){try{t.g.Ga(t,e),Xt(4)}catch(n){}}function Ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||s(t))C(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||s(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(s(t))return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Oe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Oe)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ae(t,e){ke(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xe(t))}function xe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ke(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ke(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ke(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.eb=function(t){t=t.target;var e=this.B;e&&3==Pn(t)?e.Ua():this.Ka(t)},r.Ka=function(t){try{if(t==this.a)t:{var e=Pn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!K&&!this.a.aa())){this.m||4!=e||7==n||Xt(8==n||0>=r?3:2),Ee(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var a=Rn(this.a,"X-HTTP-Initial-Response");if(a&&!A(a)){var s=a;break e}}s=null}if(!s){this.b=!1,this.c=3,$t(12),Te(this),Se(this);break t}this.s=!0,Ce(this,s)}this.H?(ge(this,e,o),K&&this.b&&3==e&&(Gt(this.I,this.P,"tick",this.cb),this.P.start())):Ce(this,o),4==e&&Te(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,_e(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,$t(12)):(this.c=0,$t(13)),Te(this),Se(this)}}}catch(u){}},r.cb=function(){if(this.a){var t=Pn(this.a),e=this.a.aa();this.A<e.length&&(Ee(this),ge(this,t,e),this.b&&4!=t&&_e(this))}},r.cancel=function(){this.m=!0,Te(this)},r.bb=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Xt(3),$t(17)),Te(this),this.c=2,Se(this)):we(this,this.R-t)},(r=Oe.prototype).C=function(){xe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return xe(this),this.a.concat()},r.get=function(t,e){return ke(this.b,t)?this.b[t]:e},r.set=function(t,e){ke(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ne=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function De(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof De?(this.h=void 0!==e?e:t.h,Re(this,t.f),this.j=t.j,Me(this,t.b),je(this,t.i),this.a=t.a,Le(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(Ne))?(this.h=!!e,Re(this,n[1]||"",!0),this.j=Be(n[2]||""),Me(this,n[3]||"",!0),je(this,n[4]),this.a=Be(n[5]||"",!0),Le(this,n[6]||"",!0),this.g=Be(n[7]||"")):(this.h=!!e,this.c=new Ye(null,this.h))}function Pe(t){return new De(t)}function Re(t,e,n){t.f=n?Be(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.b=n?Be(e,!0):e}function je(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Le(t,e,n){e instanceof Ye?(t.c=e,function(t,e){e&&!t.f&&(Ze(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),$e(this,n,t))},t)),t.f=e}(t.c,t.h)):(n||(e=qe(e,Qe)),t.c=new Ye(e,t.h))}function Ve(t,e,n){t.c.set(e,n)}function Fe(t,e,n){f(n)||(n=[String(n)]),$e(t.c,e,n)}function Ue(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qe(t,e,n){return s(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}De.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qe(e,He,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(qe(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(qe(n,"/"==n.charAt(0)?Ge:Ke,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",qe(n,We)),t.join("")},De.prototype.resolve=function(t){var e=Pe(this),n=!!t.f;n?Re(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Me(e,t.b):n=null!=t.i;var r=t.a;if(n)je(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(N(i,"./")||N(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Le(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var He=/[#\/\?@]/g,Ke=/[#\?:]/g,Ge=/[#\?]/g,Qe=/[#\?@]/g,We=/#/g;function Ye(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ze(t){t.a||(t.a=new Oe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Xe(t,e){Ze(t),e=en(t,e),ke(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ae(t.a,e))}function Je(t,e){return Ze(t),e=en(t,e),ke(t.a.b,e)}function $e(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),O(n)),t.b+=n.length)}function tn(t){var e=new Ye;return e.c=t.c,t.a&&(e.a=new Oe(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)$t(4),e?($t(10),Gn(t.a,t,!1)):($t(11),Gn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Xn(e=t.a,e.Y()?t.f:null,t.i),$t(4),Fe(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Ve(e,n,r),me(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function an(){this.a=new Oe}function sn(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[y]||(t[y]=++m)):e.charAt(0)+t}function un(t,e){this.b=t,this.a=e}function cn(t){this.g=t||ln,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.ka&&a.ka.Ea&&a.ka.Ea()&&a.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new an),this.b=null,this.c=[]}(r=Ye.prototype).add=function(t,e){Ze(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Ze(this),this.a.forEach(function(n,r){C(n,function(n){t.call(e,n,r,this)},this)},this)},r.K=function(){Ze(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Ze(this);var e=[];if(s(t))Je(this,t)&&(e=I(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},r.set=function(t,e){return Ze(this),this.c=null,Je(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},E(function(){},function(){}),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Rn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Rn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Yn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Yn(e,2)}else 1==this.M&&(this.g?$t(6):"11111"==e?($t(5),this.g=!0,(!z||10<=Number(J))&&(this.c=200,this.b.cancel(),$t(11),Gn(this.a,this,!0))):($t(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?($t(11),Gn(this.a,this,!0)):($t(10),Gn(this.a,this,!1)));else{0==this.M?$t(8):1==this.M&&$t(9);var t=this.a;t.m=this.c,Yn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},an.prototype.add=function(t){this.a.set(sn(t),t)},an.prototype.C=function(){return this.a.C()};var ln=10;function hn(t,e){!t.a&&(N(e,"spdy")||N(e,"quic")||N(e,"h2"))&&(t.f=t.g,t.a=new an,t.b&&(yn(t,t.b),t.b=null))}function fn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function pn(t){return t.b?1:t.a?t.a.a.c:0}function dn(t,e){return t.b?t=t.b==e:t.a?(e=sn(e),t=ke(t.a.a.b,e)):t=!1,t}function yn(t,e){t.a?t.a.add(e):t.b=e}function mn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=sn(e),n=ke(t.a.a.b,n)),n&&Ae(t.a.a,sn(e)))}function vn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return C(t.a.C(),function(t){e=e.concat(t.j)}),e}return O(t.c)}function gn(){}function bn(){this.a=new gn}function _n(t,e,n){var r=n||"";try{Ie(t,function(t,n){var i=t;d(t)&&(i=Ot(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}cn.prototype.cancel=function(){var t;this.c=vn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(C(this.a.C(),function(t){t.cancel()}),(t=this.a.a).b={},t.a.length=0,t.c=0)},gn.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},gn.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var En=a.JSON.parse;function Sn(t){Ct.call(this),this.headers=new Oe,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Tn,this.D=this.F=!1}E(Sn,Ct);var Tn="",Cn=/^https?$/i,In=["POST","PUT"];function On(t){return"content-type"==t.toLowerCase()}function An(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,xn(t),Nn(t)}function xn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function kn(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Pn(t)||2!=t.T()))if(t.l&&4==Pn(t))Bt(t.Fa,0,t);else if(t.dispatchEvent("readystatechange"),4==Pn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.A).match(Ne)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!Cn.test(s?s.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.h=6,t.f=t.za()+" ["+t.T()+"]",xn(t))}finally{Nn(t)}}}function Nn(t,e){if(t.a){Dn(t);var n=t.a,r=t.s[0]?l:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Dn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function Pn(t){return t.a?t.a.readyState:0}function Rn(t,e){return t.a?t.a.getResponseHeader(e):null}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return M(n,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(),s(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Ve(t,e,n),t}function jn(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!c("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=c("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Sa=c("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Qa=c("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=c("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new cn(t&&t.concurrentRequestLimit),this.ja=new bn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Ln(t){if(Vn(t),3==t.u){var e=t.P++,n=Pe(t.B);Ve(n,"SID",t.H),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),qn(t,n),(e=new he(t,e,void 0)).F=2,e.f=Ue(Pe(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),_e(e)}Zn(t)}function Vn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(a.clearTimeout(t.l),t.l=null),Qn(t),t.b.cancel(),t.h&&(u(t.h)&&a.clearTimeout(t.h),t.h=null)}function Fn(t,e){t.f.push(new un(t.Ra++,e)),3==t.u&&Un(t)}function Un(t){fn(t.b)||t.h||(t.h=!0,Mt(t.Ia,t),t.A=0)}function Bn(t,e){var n;n=e?e.W:t.P++;var r=Pe(t.B);Ve(r,"SID",t.H),Ve(r,"RID",n),Ve(r,"AID",t.O),qn(t,r),t.g&&t.i&&Mn(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),yn(t.b,n),ye(n,r,e)}function qn(t,e){t.c&&Ie({},function(t,n){Ve(e,n,t)})}function zn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?b(t.c.Ta,t.c,t):null;t:for(var i=t.f,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{_n(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Hn(t){t.a||t.l||(t.S=1,Mt(t.Ha,t),t.v=0)}function Kn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(b(t.Ha,t),Wn(t,t.v)),t.v++,0))}function Gn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Xn(t,null,t.ha),Un(t)}function Qn(t){null!=t.s&&(a.clearTimeout(t.s),t.s=null)}function Wn(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function Yn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=b(t.fb,t);n||(n=new De("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Re(n,"https"),Ue(n)),function(t,e){var n=new Wt;if(a.Image){var r=new Image;r.onload=_(wn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(wn,n,r,"TestLoadImage: error",!1,e),r.onabort=_(wn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(wn,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else $t(2);t.u=0,t.c&&t.c.ta(e),Zn(t),Vn(t)}function Zn(t){t.u=0,t.m=-1,t.c&&(0==vn(t.b).length&&0==t.f.length||(t.b.c.length=0,O(t.f),t.f.length=0),t.c.sa())}function Xn(t,e,n){var r=function(t){return t instanceof De?Pe(t):new De(t,void 0)}(n);if(""!=r.b)e&&Me(r,e+"."+r.b),je(r,r.i);else{var i=a.location;r=function(t,e,n,r){var i=new De(null,void 0);return t&&Re(i,t),e&&Me(i,e),n&&je(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&M(t.V,function(t,e){Ve(r,e,t)}),n=t.I,(e=t.j)&&n&&Ve(r,e,n),Ve(r,"VER",t.wa),qn(t,r),r}function Jn(){}function $n(){if(z&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function tr(t,e){Ct.call(this),this.a=new jn(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!A(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){ue.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){ce.call(this),this.status=1}function rr(t){this.a=t}(r=Sn.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ae),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void An(this,o)}t=n||"";var i=new Oe(this.headers);r&&Ie(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=On,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(i.K()),n=a.FormData&&t instanceof a.FormData,!(0<=T(In,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Dn(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&u(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=Bt(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){An(this,o)}},r.Ca=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Nn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Nn(this,!0)),Sn.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?kn(this):this.$a())},r.$a=function(){kn(this)},r.T=function(){try{return 2<Pn(this)?this.a.status:-1}catch(B){return-1}},r.za=function(){try{return 2<Pn(this)?this.a.statusText:""}catch(B){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(B){return""}},r.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),En(e)}},r.ya=function(){return this.h},r.Ya=function(){return s(this.f)?this.f:String(this.f)},(r=jn.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?V(r=j(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&s(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Ve(i=Pe(this.B),"RID",t),Ve(i,"CVER",22),this.o&&this.j&&Ve(i,"X-HTTP-Session-Id",this.j),qn(this,i),this.g&&r&&Mn(i,this.g,r),yn(this.b,n),this.W?(Ve(i,"$req",e),Ve(i,"SID","null"),n.S=!0,ye(n,i,null)):ye(n,i,e),this.u=2}}else 3==this.u&&(t?Bn(this,t):0==this.f.length||fn(this.b)||Bn(this))},r.Ha=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Pe(this.pa);Ve(t,"RID","rpc"),Ve(t,"SID",this.H),Ve(t,"CI",this.ia?"0":"1"),Ve(t,"AID",this.O),qn(this,t),Ve(t,"TYPE","xmlhttp"),this.g&&this.i&&Mn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),me(this.a,t,!0,this.ga)},r.Ga=function(t,e){if(0!=this.u&&(this.a==t||dn(this.b,t)))if(this.m=t.o,!t.s&&dn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(f(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Qn(this),this.a.cancel(),this.a=null}Kn(this),$t(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(b(this.Za,this),6e3));if(1>=pn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Yn(this,11)}else if((t.s||this.a==t)&&Qn(this),!A(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Rn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Rn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ve(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Xn(this,this.Y()?this.ga:null,this.ha),r.s?(mn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ee(r),_e(r)),this.a=r):Hn(this),0<this.f.length&&Un(this)}else"stop"!=r[0]&&"close"!=r[0]||Yn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Yn(this,7):Ln(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Kn(this),$t(19))},r.na=function(t){var e=null;if(this.a==t){Qn(this),this.a=null;var n=2}else{if(!dn(this.b,t))return;e=t.j,mn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Yt.dispatchEvent(new te(Yt,t.l?t.l.length:0,e,this.A)),Un(this)):Hn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(pn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa)||(t.h=ee(b(t.Ia,t,e),Wn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Kn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Yn(this,5);break;case 4:Yn(this,10);break;case 3:Yn(this,6);break;default:Yn(this,2)}}},r.fb=function(t){$t(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Sn(this.La)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Jn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},$n.prototype.a=function(t,e){return new tr(t,e)},E(tr,Ct),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;$t(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Mn(e,t.g,t.i)),(t=t.w).i=n,e=Xn(t.a,null,t.i),$t(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Fe(e,"MODE","init"),!t.a.o&&t.a.j&&Fe(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,me(t.b,e,!1,null),t.M=0)},r.close=function(){Ln(this.a)},r.Xa=function(t){if(s(t)){var e={};e.__data__=t,Fn(this.a,e)}else this.h?((e={}).__data__=Ot(t),Fn(this.a,e)):Fn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Ln(this.a),delete this.a,tr.N.G.call(this)},E(er,ue),E(nr,ce),E(rr,Jn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=_(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},$n);$n.prototype.createWebChannel=$n.prototype.a,tr.prototype.send=tr.prototype.Xa,tr.prototype.open=tr.prototype.Wa,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",oe.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",Ct.prototype.listen=Ct.prototype.Aa,Sn.prototype.listenOnce=Sn.prototype.Ba,Sn.prototype.getLastError=Sn.prototype.Ya,Sn.prototype.getLastErrorCode=Sn.prototype.ya,Sn.prototype.getStatus=Sn.prototype.T,Sn.prototype.getStatusText=Sn.prototype.za,Sn.prototype.getResponseJson=Sn.prototype.Va,Sn.prototype.getResponseText=Sn.prototype.aa,Sn.prototype.send=Sn.prototype.ca;var or={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:oe,XhrIo:Sn},ar=or.createWebChannelTransport,sr=or.ErrorCode,ur=or.EventType,cr=or.WebChannel,lr=or.XhrIo;e.default=or},xTla:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},y3By:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("+umK");function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.a}},yGWI:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(){return function(t){return t.lift(new a(t))}}var a=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(i.a)},yLV6:function(t,e,n){var r;!function(i,o,a,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),h="function",f=Math.round,p=Math.abs,d=Date.now;function y(t,e,n){return setTimeout(E(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(v(t,n[e],n),!0)}function v(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function g(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var b=g(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===s)&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),_=g(function(t,e){return b(t,e,!0)},"merge","Use `assign`.");function w(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function E(t,e){return function(){return t.apply(e,arguments)}}function S(t,e){return typeof t==h?t.apply(e&&e[0]||s,e):t}function T(t,e){return t===s?e:t}function C(t,e,n){v(x(e),function(e){t.addEventListener(e,n,!1)})}function I(t,e,n){v(x(e),function(e){t.removeEventListener(e,n,!1)})}function O(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function A(t,e){return t.indexOf(e)>-1}function x(t){return t.trim().split(/\s+/g)}function k(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function N(t){return Array.prototype.slice.call(t,0)}function D(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];k(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function P(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:e)in t)return r;o++}return s}var R=1;function M(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var j="ontouchstart"in i,L=P(i,"PointerEvent")!==s,V=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=25,U=1,B=4,q=8,z=1,H=2,K=4,G=8,Q=16,W=H|K,Y=G|Q,Z=W|Y,X=["x","y"],J=["clientX","clientY"];function $(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){S(t.options.enable,[t])&&n.handler(e)},this.init()}function tt(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&U&&r-i==0,a=e&(B|q)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=et(e)),i>1&&!n.firstMultiple?n.firstMultiple=et(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,c=e.center=nt(r);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=at(u,c),e.distance=ot(u,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==U&&o.eventType!==B||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=it(e.deltaX,e.deltaY);var l,h,f=rt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=f.x,e.overallVelocityY=f.y,e.overallVelocity=p(f.x)>p(f.y)?f.x:f.y,e.scale=a?(l=a.pointers,ot((h=r)[0],h[1],J)/ot(l[0],l[1],J)):1,e.rotation=a?function(t,e){return at(r[1],r[0],J)+at(t[1],t[0],J)}(a.pointers):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=q&&(u>F||a.velocity===s)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,h=rt(u,c,l);r=h.x,i=h.y,n=p(h.x)>p(h.y)?h.x:h.y,o=it(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var y=t.element;O(e.srcEvent.target,y)&&(y=e.srcEvent.target),e.target=y}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function et(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:f(t.pointers[n].clientX),clientY:f(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:nt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function nt(t){var e=t.length;if(1===e)return{x:f(t[0].clientX),y:f(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:f(n/e),y:f(r/e)}}function rt(t,e,n){return{x:e/t||0,y:n/t||0}}function it(t,e){return t===e?z:p(t)>=p(e)?t<0?H:K:e<0?G:Q}function ot(t,e,n){n||(n=X);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function at(t,e,n){return n||(n=X),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}$.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(M(this.element),this.evWin,this.domHandler)}};var st={mousedown:U,mousemove:2,mouseup:B},ut="mousedown",ct="mousemove mouseup";function lt(){this.evEl=ut,this.evWin=ct,this.pressed=!1,$.apply(this,arguments)}w(lt,$,{handler:function(t){var e=st[t.type];e&U&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=B),this.pressed&&(e&B&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var ht={pointerdown:U,pointermove:2,pointerup:B,pointercancel:q,pointerout:q},ft={2:"touch",3:"pen",4:"mouse",5:"kinect"},pt="pointerdown",dt="pointermove pointerup pointercancel";function yt(){this.evEl=pt,this.evWin=dt,$.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(pt="MSPointerDown",dt="MSPointerMove MSPointerUp MSPointerCancel"),w(yt,$,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=ht[r],o=ft[t.pointerType]||t.pointerType,a="touch"==o,s=k(e,t.pointerId,"pointerId");i&U&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):i&(B|q)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var mt={touchstart:U,touchmove:2,touchend:B,touchcancel:q},vt="touchstart",gt="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=vt,this.evWin=gt,this.started=!1,$.apply(this,arguments)}w(bt,$,{handler:function(t){var e=mt[t.type];if(e===U&&(this.started=!0),this.started){var n=(function(t,e){var n=N(t.touches),r=N(t.changedTouches);return e&(B|q)&&(n=D(n.concat(r),"identifier",!0)),[n,r]}).call(this,t,e);e&(B|q)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var _t={touchstart:U,touchmove:2,touchend:B,touchcancel:q},wt="touchstart touchmove touchend touchcancel";function Et(){this.evTarget=wt,this.targetIds={},$.apply(this,arguments)}w(Et,$,{handler:function(t){var e=_t[t.type],n=(function(t,e){var n=N(t.touches),r=this.targetIds;if(e&(2|U)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=N(t.changedTouches),s=[],u=this.target;if(o=n.filter(function(t){return O(t.target,u)}),e===U)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),e&(B|q)&&delete r[a[i].identifier],i++;return s.length?[D(o.concat(s),"identifier",!0),s]:void 0}).call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var St=2500;function Tt(){$.apply(this,arguments);var t=E(this.handler,this);this.touch=new Et(this.manager,t),this.mouse=new lt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)},St)}}w(Tt,$,{handler:function(t,e,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)(function(t,e){t&U?(this.primaryTouch=e.changedPointers[0].identifier,Ct.call(this,e)):t&(B|q)&&Ct.call(this,e)}).call(this,e,n);else if(r&&(function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}).call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var It=P(l.style,"touchAction"),Ot=It!==s,At=function(){if(!Ot)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||i.CSS.supports("touch-action",n)}),t}();function xt(t,e){this.manager=t,this.set(e)}xt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Ot&&this.manager.element.style&&At[t]&&(this.manager.element.style[It]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,function(e){S(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(A(t,"none"))return"none";var e=A(t,"pan-x"),n=A(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":A(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=A(r,"none")&&!At.none,o=A(r,"pan-y")&&!At["pan-y"],a=A(r,"pan-x")&&!At["pan-x"];if(i&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!a||!o)return i||o&&n&W||a&&n&Y?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var kt=1,Nt=2,Dt=4,Pt=8,Rt=Pt,Mt=16;function jt(t){this.options=u({},this.defaults,t||{}),this.id=R++,this.manager=null,this.options.enable=T(this.options.enable,!0),this.state=kt,this.simultaneous={},this.requireFail=[]}function Lt(t){return t&Mt?"cancel":t&Pt?"end":t&Dt?"move":t&Nt?"start":""}function Vt(t){return t==Q?"down":t==G?"up":t==H?"left":t==K?"right":""}function Ft(t,e){var n=e.manager;return n?n.get(t):t}function Ut(){jt.apply(this,arguments)}function Bt(){Ut.apply(this,arguments),this.pX=null,this.pY=null}function qt(){Ut.apply(this,arguments)}function zt(){jt.apply(this,arguments),this._timer=null,this._input=null}function Ht(){Ut.apply(this,arguments)}function Kt(){Ut.apply(this,arguments)}function Gt(){jt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Qt(t,e){return(e=e||{}).recognizers=T(e.recognizers,Qt.defaults.preset),new Wt(t,e)}function Wt(t,e){var n;this.options=u({},Qt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(L?yt:V?Et:j?Tt:lt))(n,tt),this.touchAction=new xt(this,this.options.touchAction),Yt(this,!0),v(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Yt(t,e){var n,r=t.element;r.style&&(v(t.options.cssProps,function(i,o){n=P(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}jt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ft(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=Ft(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===k(e,t=Ft(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Ft(t,this);var e=k(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<Pt&&r(e.options.event+Lt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=Pt&&r(e.options.event+Lt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|kt)))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!S(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Rt|Mt|32)&&(this.state=kt),this.state=this.process(e),this.state&(Nt|Dt|Pt|Mt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(Ut,jt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(Nt|Dt),i=this.attrTest(t);return r&&(n&q||!i)?e|Mt:r||i?n&B?e|Pt:e&Nt?e|Dt:Nt:32}}),w(Bt,Ut,{defaults:{event:"pan",threshold:10,pointers:1,direction:Z},getTouchAction:function(){var t=this.options.direction,e=[];return t&W&&e.push("pan-y"),t&Y&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&W?(i=0===o?z:o<0?H:K,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?z:a<0?G:Q,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Ut.prototype.attrTest.call(this,t)&&(this.state&Nt||!(this.state&Nt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(qt,Ut,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Nt)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),w(zt,jt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(B|q)&&!i)this.reset();else if(t.eventType&U)this.reset(),this._timer=y(function(){this.state=Rt,this.tryEmit()},e.time,this);else if(t.eventType&B)return Rt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Rt&&(t&&t.eventType&B?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),w(Ht,Ut,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Nt)}}),w(Kt,Ut,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:W|Y,pointers:1},getTouchAction:function(){return Bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(W|Y)?e=t.overallVelocity:n&W?e=t.overallVelocityX:n&Y&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&B},emit:function(t){var e=Vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w(Gt,jt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&U&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=B)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||ot(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=y(function(){this.state=Rt,this.tryEmit()},e.interval,this),Nt):Rt}return 32},failTimeout:function(){return this._timer=y(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Rt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Qt.VERSION="2.0.7",Qt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ht,{enable:!1}],[qt,{enable:!1},["rotate"]],[Kt,{direction:W}],[Bt,{direction:W},["swipe"]],[Gt],[Gt,{event:"doubletap",taps:2},["tap"]],[zt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Wt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&Rt)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(Nt|Dt|Pt)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof jt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=k(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return v(x(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return v(x(t),function(t){e?n[t]&&n[t].splice(k(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Yt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Qt,{INPUT_START:U,INPUT_MOVE:2,INPUT_END:B,INPUT_CANCEL:q,STATE_POSSIBLE:kt,STATE_BEGAN:Nt,STATE_CHANGED:Dt,STATE_ENDED:Pt,STATE_RECOGNIZED:Rt,STATE_CANCELLED:Mt,STATE_FAILED:32,DIRECTION_NONE:z,DIRECTION_LEFT:H,DIRECTION_RIGHT:K,DIRECTION_UP:G,DIRECTION_DOWN:Q,DIRECTION_HORIZONTAL:W,DIRECTION_VERTICAL:Y,DIRECTION_ALL:Z,Manager:Wt,Input:$,TouchAction:xt,TouchInput:Et,MouseInput:lt,PointerEventInput:yt,TouchMouseInput:Tt,SingleTouchInput:bt,Recognizer:jt,AttrRecognizer:Ut,Tap:Gt,Pan:Bt,Swipe:Kt,Pinch:qt,Rotate:Ht,Press:zt,on:C,off:I,each:v,merge:_,extend:b,assign:u,inherit:w,bindFn:E,prefixed:P}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Qt,(r=(function(){return Qt}).call(e,n,e,t))===s||(t.exports=r)}(window,document)},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("CcnG"),i=(n("yLV6"),function(){return function(){}}()),o=n("DtyJ"),a=function(){function t(){}return t.prototype.scrollTo=function(t,e,n){void 0===e&&(e=500),void 0===n&&(n=0);var r=new o.a;if("string"==typeof t){var i=document.querySelector(t);this.scrollToElement(i,e,n,r)}else t instanceof HTMLElement?this.scrollToElement(t,e,n,r):r.error("I don't find element");return r},t.prototype.scrollToElement=function(t,e,n,r){if(t){var i=t.getBoundingClientRect().top+window.pageYOffset;this.doScrolling(i+n,e,r)}else r.error("I don't find element");return r},t.prototype.doScrolling=function(t,e,n){var r,i=window.pageYOffset,o=t-i;window.requestAnimationFrame(function t(a){var s=a-(r=r||a),u=Math.min(s/e,1);window.scrollTo(0,i+o*u),s<e?(window.requestAnimationFrame(t),n.next({})):n.complete()})},t}(),s=function(){function t(t){this.scrollToService=t}return t.prototype.ngOnInit=function(){this.scrollDuration=this.scrollDuration?this.scrollDuration:500,this.scrollOffset=this.scrollOffset?this.scrollOffset:0},t.prototype.onMouseClick=function(){this.scrollToService.scrollTo(this.scrollTo,this.scrollDuration,this.scrollOffset)},t}(),u=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t}(),c=function(){function t(t){this.scrollService=t,this.stickyMajor33="none",this.topNavFix="30px"}return t.prototype.contentEventsM=function(t){var e=window.pageYOffset;console.log(e),this.navBackgoundColorChange=e>1?"#ffffff8c":"#d2daf738",this.stickyMajor=e>950&&e<2250?"fixed":"sticky",this.stickyMajor2=e>2250&&e<3450?"fixed":"sticky",e>3450&&e<5550?(this.stickyMajor3="fixed",this.stickyMajor33="block"):(this.stickyMajor3="sticky",this.stickyMajor33="none")},t.prototype.scrollToTop=function(t){this.scrollService.scrollTo(t)},t}(),l=n("mrSG"),h=function(){return function(){}}(),f=new r.InjectionToken("Location Initialized"),p=function(){return function(){}}(),d=new r.InjectionToken("appBaseHref"),y=function(){function t(t,n){var i=this;this._subject=new r.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=e.stripTrailingSlash(m(o)),this._platformStrategy.onPopState(function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})})}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.getState=function(){return this._platformLocation.getState()},t.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,m(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,n,r){void 0===n&&(n=""),void 0===r&&(r=null),this._platformStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)},t.prototype.replaceState=function(t,n,r){void 0===n&&(n=""),void 0===r&&(r=null),this._platformStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.onUrlChange=function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)})},t.prototype._notifyUrlChangeListeners=function(t,e){void 0===t&&(t=""),this._urlChangeListeners.forEach(function(n){return n(t,e)})},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function m(t){return t.replace(/\/index.html$/,"")}var v=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(l.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=y.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+y.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+y.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(p),g=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(l.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return y.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+y.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+y.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+y.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(p),b=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],_={},w=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),E=new r.InjectionToken("UseV4Plurals"),S=function(){return function(){}}(),T=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(l.__extends)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=_[e];if(n)return n;var r=e.split("-")[0];if(n=_[r])return n;if("en"===r)return b;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[18]}(e||this.locale)(t)){case w.Zero:return"zero";case w.One:return"one";case w.Two:return"two";case w.Few:return"few";case w.Many:return"many";default:return"other"}},e}(S),C=function(){function t(t,e){this._viewContainer=t,this._context=new I,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){O("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){O("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t.ngTemplateGuard_ngIf=function(t,e){return!0},t}(),I=function(){return function(){this.$implicit=null,this.ngIf=null}}();function O(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Object(r["\u0275stringify"])(e)+"'.")}var A=function(){return function(){}}(),x=new r.InjectionToken("DocumentToken"),k="browser",N="server";function D(t){return t===N}var P=function(){function t(){}return t.ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({providedIn:"root",factory:function(){return new R(Object(r["\u0275\u0275inject"])(x),window,Object(r["\u0275\u0275inject"])(r.ErrorHandler))}}),t}(),R=function(){function t(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}(),M=n("F/XL"),j=n("0/uQ"),L=n("26FU"),V=n("6blF"),F=n("3fWJ"),U=n("dzgT"),B=n("lYZG"),q=n("K9Ia"),z=n("G5J1"),H=n("67Y/"),K=n("Txjg"),G=n("FFOo");function Q(t,e){return function(n){return n.lift(new W(t,e))}}var W=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Y(t,this.predicate,this.thisArg))},t}(),Y=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return l.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(G.a),Z=n("b7mW");function X(t){return function(e){return 0===t?Object(z.b)():e.lift(new J(t))}}var J=function(){function t(t){if(this.total=t,this.total<0)throw new Z.a}return t.prototype.call=function(t,e){return e.subscribe(new $(t,this.total))},t}(),$=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return l.__extends(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(G.a),tt=n("+umK"),et=n("2Bdj");function nt(t,e,n){return function(r){return r.lift(new rt(t,e,n))}}var rt=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new it(t,this.nextOrObserver,this.error,this.complete))},t}(),it=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=tt.a,o._tapError=tt.a,o._tapComplete=tt.a,o._tapError=r||tt.a,o._tapComplete=i||tt.a,Object(et.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||tt.a,o._tapError=n.error||tt.a,o._tapComplete=n.complete||tt.a),o}return l.__extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(G.a),ot=function(t){return void 0===t&&(t=at),nt({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function at(){return new F.a}function st(t){return void 0===t&&(t=null),function(e){return e.lift(new ut(t))}}var ut=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new ct(t,this.defaultValue))},t}(),ct=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return l.__extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(G.a),lt=n("mChF");function ht(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Q(function(e,n){return t(e,n,r)}):lt.a,X(1),n?st(e):ot(function(){return new F.a}))}}var ft=n("MGBS"),pt=n("rPjj"),dt=n("zotm");function yt(t){return function(e){var n=new mt(t),r=e.lift(n);return n.caught=r}}var mt=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new vt(t,this.selector,this.caught))},t}(),vt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return l.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(i){return void t.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new pt.a(this,void 0,void 0);this.add(r),Object(dt.a)(this,n,void 0,void 0,r)}},e}(ft.a);function gt(t){return function(e){return 0===t?Object(z.b)():e.lift(new bt(t))}}var bt=function(){function t(t){if(this.total=t,this.total<0)throw new Z.a}return t.prototype.call=function(t,e){return e.subscribe(new _t(t,this.total))},t}(),_t=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return l.__extends(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(G.a);function wt(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Q(function(e,n){return t(e,n,r)}):lt.a,gt(1),n?st(e):ot(function(){return new F.a}))}}var Et=n("psW0"),St=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new Tt(t,this.predicate,this.thisArg,this.source))},t}(),Tt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return l.__extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(G.a);function Ct(t,e){return"function"==typeof e?function(n){return n.pipe(Ct(function(n,r){return Object(j.a)(t(n,r)).pipe(Object(H.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new It(t))}}var It=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new Ot(t,this.project))},t}(),Ot=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return l.__extends(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new pt.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(dt.a)(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(ft.a),At=n("IUTb"),xt=n("PU8L"),kt=n("dEwP"),Nt=n("nkY7");function Dt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];Object(Nt.a)(n)?t.pop():n=null;var r=t.length;return 1!==r||n?r>0?Object(kt.a)(Object(At.a)(t,n),e):Object(kt.a)(Object(z.b)(n),e):Object(kt.a)(Object(xt.a)(t[0]),e)}}function Pt(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Rt(t,e,n))}}var Rt=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new Mt(t,this.accumulator,this.seed,this.hasSeed))},t}(),Mt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return l.__extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(G.a);function jt(t,e){return Object(Et.a)(t,e,1)}var Lt=n("y3By"),Vt=n("pugT"),Ft=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new Ut(t,this.callback))},t}(),Ut=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new Vt.a(n)),r}return l.__extends(e,t),e}(G.a),Bt=n("Zn8D"),qt=null;function zt(){return qt}var Ht,Kt=function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(l.__extends)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}()),Gt={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Qt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yt=function(){if(r["\u0275global"].Node)return r["\u0275global"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}}(),Zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,qt||(qt=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var r;(r=t)[e].apply(r,Object(l.__spread)(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return Gt},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return Yt.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Wt.hasOwnProperty(e)&&(e=Wt[e]))}return Qt[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=Xt||(Xt=document.querySelector("base"))?Xt.getAttribute("href"):null;return null==n?null:(e=n,Ht||(Ht=document.createElement("a")),Ht.setAttribute("href",e),"/"===Ht.pathname.charAt(0)?Ht.pathname:"/"+Ht.pathname)},e.prototype.resetBaseElement=function(){Xt=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return function(t,e){var n,r;e=encodeURIComponent(e);try{for(var i=Object(l.__values)(t.split(";")),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.indexOf("="),u=Object(l.__read)(-1==s?[a,""]:[a.slice(0,s),a.slice(s+1)],2),c=u[1];if(u[0].trim()===e)return decodeURIComponent(c)}}catch(h){n={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(Kt),Xt=null;function Jt(){return!!window.history.pushState}var $t=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(l.__extends)(e,t),e.prototype._init=function(){this.location=zt().getLocation(),this._history=zt().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return zt().getBaseHref(this._doc)},e.prototype.onPopState=function(t){zt().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){zt().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"href",{get:function(){return this.location.href},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this.location.protocol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostname",{get:function(){return this.location.hostname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return this.location.port},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){Jt()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){Jt()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.prototype.getState=function(){return this._history.state},Object(l.__decorate)([Object(l.__param)(0,Object(r.Inject)(x)),Object(l.__metadata)("design:paramtypes",[Object])],e)}(h),te=new r.InjectionToken("TRANSITION_ID"),ee=[{provide:r.APP_INITIALIZER,useFactory:function(t,e,n){return function(){n.get(r.ApplicationInitStatus).donePromise.then(function(){var n=zt();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[te,x,r.Injector],multi:!0}],ne=function(){function t(){}return t.init=function(){Object(r.setTestabilityGetter)(new t)},t.prototype.addToWindow=function(t){r["\u0275global"].getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r["\u0275global"].getAllAngularTestabilities=function(){return t.getAllTestabilities()},r["\u0275global"].getAllAngularRootElements=function(){return t.getAllRootElements()},r["\u0275global"].frameworkStabilizers||(r["\u0275global"].frameworkStabilizers=[]),r["\u0275global"].frameworkStabilizers.push(function(t){var e=r["\u0275global"].getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(o)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?zt().isShadowRoot(e)?this.findTestabilityInTree(t,zt().getHost(e),!0):this.findTestabilityInTree(t,zt().parentElement(e),!0):null},t}();function re(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r["\u0275global"].ng=r["\u0275global"].ng||{})[t]=e)}var ie=function(){return{ApplicationRef:r.ApplicationRef,NgZone:r.NgZone}}();function oe(t){return Object(r.getDebugNode)(t)}var ae=new r.InjectionToken("EventManagerPlugins"),se=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),ue=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=zt().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),ce=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),le=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(l.__extends)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return zt().remove(t)})},e}(ce),he={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fe=/%COMP%/g,pe="_nghost-%COMP%",de="_ngcontent-%COMP%";function ye(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?ye(t,i,n):(i=i.replace(fe,t),n.push(i))}return n}function me(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var ve=function(){function t(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ge(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new we(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.ViewEncapsulation.Native:case r.ViewEncapsulation.ShadowDom:return new Ee(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=ye(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),ge=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(he[e]||e,t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=he[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=he[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,i){i&r.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,i&r.RendererStyleFlags2.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&r.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){_e(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return _e(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,me(n)):this.eventManager.addEventListener(t,e,me(n))},t}(),be=function(){return"@".charCodeAt(0)}();function _e(t,e){if(t.charCodeAt(0)===be)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var we=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.component=r;var a=ye(i+"-"+r.id,r.styles,[]);return n.addStyles(a),o.contentAttr=de.replace(fe,i+"-"+r.id),o.hostAttr=pe.replace(fe,i+"-"+r.id),o}return Object(l.__extends)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(ge),Ee=function(t){function e(e,n,i,o){var a=t.call(this,e)||this;a.sharedStylesHost=n,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===r.ViewEncapsulation.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=ye(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return Object(l.__extends)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(ge),Se=function(){return"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t}}(),Te=Se("addEventListener"),Ce=Se("removeEventListener"),Ie={},Oe="__zone_symbol__propagationStopped",Ae=function(){var t="undefined"!=typeof Zone&&Zone[Se("BLACK_LISTED_EVENTS")];if(t){var e={};return t.forEach(function(t){e[t]=t}),e}}(),xe=function(t){return!!Ae&&Ae.hasOwnProperty(t)},ke=function(t){var e=Ie[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[Oe];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Ne=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.ngZone=n,r&&D(r)||i.patchEvent(),i}return Object(l.__extends)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Oe]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var i=this,o=n;if(!t[Te]||r.NgZone.isInAngularZone()&&!xe(e))t.addEventListener(e,o,!1);else{var a=Ie[e];a||(a=Ie[e]=Se("ANGULAR"+e+"FALSE"));var s=t[a],u=s&&s.length>0;s||(s=t[a]=[]);var c=xe(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:c,handler:o});else{for(var l=!1,h=0;h<s.length;h++)if(s[h].handler===o){l=!0;break}l||s.push({zone:c,handler:o})}u||t[Te](e,ke,!1)}return function(){return i.removeEventListener(t,e,o)}},e.prototype.removeEventListener=function(t,e,n){var r=t[Ce];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=Ie[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,ke,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(ue),De={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Pe=new r.InjectionToken("HammerGestureConfig"),Re=new r.InjectionToken("HammerLoader"),Me=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),je=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._config=n,o.console=r,o.loader=i,o}return Object(l.__extends)(e,t),e.prototype.supports=function(t){return!(!De.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(t,e,n))}).catch(function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}}),function(){a()}}return i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){o.off(e,a),"function"==typeof o.destroy&&o.destroy()}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(ue),Le=["alt","control","meta","shift"],Ve={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Fe=function(t){function e(e){return t.call(this,e)||this}var n;return Object(l.__extends)(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return zt().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Le.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=zt().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Le.forEach(function(r){r!=n&&(0,Ve[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(ue),Ue=function(){return function(){}}(),Be=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(l.__extends)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case r.SecurityContext.NONE:return e;case r.SecurityContext.HTML:return e instanceof ze?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(r["\u0275_sanitizeHtml"])(this._doc,String(e)));case r.SecurityContext.STYLE:return e instanceof He?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(r["\u0275_sanitizeStyle"])(e));case r.SecurityContext.SCRIPT:if(e instanceof Ke)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case r.SecurityContext.URL:return e instanceof Qe||e instanceof Ge?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(r["\u0275_sanitizeUrl"])(String(e)));case r.SecurityContext.RESOURCE_URL:if(e instanceof Qe)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof qe)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new ze(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new He(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Ke(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new Ge(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new Qe(t)},e}(Ue),qe=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),ze=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(qe),He=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(qe),Ke=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(qe),Ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(qe),Qe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(qe),We=[{provide:r.PLATFORM_ID,useValue:k},{provide:r.PLATFORM_INITIALIZER,useValue:function(){Zt.makeCurrent(),ne.init()},multi:!0},{provide:h,useClass:$t,deps:[x]},{provide:x,useFactory:function(){return document},deps:[]}],Ye=Object(r.createPlatformFactory)(r.platformCore,"browser",We);function Ze(){return new r.ErrorHandler}var Xe=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:r.APP_ID,useValue:t.appId},{provide:te,useExisting:r.APP_ID},ee]}},t}();"undefined"!=typeof window&&window;var Je=function(){return function(t,e){this.id=t,this.url=e}}(),$e=function(t){function e(e,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=t.call(this,e,n)||this;return o.navigationTrigger=r,o.restoredState=i,o}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(Je),tn=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(Je),en=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(Je),nn=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(Je),rn=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Je),on=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Je),an=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(Je),sn=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Je),un=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(l.__extends)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Je),cn=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),ln=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),hn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),fn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),pn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),dn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),yn=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),mn=function(){return function(){}}(),vn="primary",gn=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function bn(t){return new gn(t)}var _n="ngNavigationCancelingError";function wn(t){var e=Error("NavigationCancelingError: "+t);return e[_n]=!0,e}function En(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var Sn=function(){return function(t,e){this.routes=t,this.module=e}}();function Tn(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];Cn(r,In(e,r))}}function Cn(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==vn)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Tn(t.children,e)}function In(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function On(t){var e=t.children&&t.children.map(On),n=e?Object(l.__assign)({},t,{children:e}):Object(l.__assign)({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==vn&&(n.component=mn),n}function An(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function xn(t){return Array.prototype.concat.apply([],t)}function kn(t){return t.length>0?t[t.length-1]:null}function Nn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Dn(t){return Object(r["\u0275isObservable"])(t)?t:Object(r["\u0275isPromise"])(t)?Object(j.a)(Promise.resolve(t)):Object(M.a)(t)}function Pn(t,e,n){return n?function(t,e){return An(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Ln(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Ln(a=n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Ln(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Ln(n.segments,a)&&!!n.children[vn]&&e(n.children[vn],r,s)}(e,n,n.segments)}(t.root,e.root)}var Rn=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Bn.serialize(this)},t}(),Mn=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,Nn(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return qn(this)},t}(),jn=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=bn(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Wn(this)},t}();function Ln(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Vn(t,e){var n=[];return Nn(t.children,function(t,r){r===vn&&(n=n.concat(e(t,r)))}),Nn(t.children,function(t,r){r!==vn&&(n=n.concat(e(t,r)))}),n}var Fn=function(){return function(){}}(),Un=function(){function t(){}return t.prototype.parse=function(t){var e=new $n(t);return new Rn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return qn(e);if(n){var r=e.children[vn]?t(e.children[vn],!1):"",i=[];return Nn(e.children,function(e,n){n!==vn&&i.push(n+":"+t(e,!1))}),i.length>0?r+"("+i.join("//")+")":r}var o=Vn(e,function(n,r){return r===vn?[t(e.children[vn],!1)]:[r+":"+t(n,!1)]});return qn(e)+"/("+o.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return Hn(t)+"="+Hn(e)}).join("&"):Hn(t)+"="+Hn(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Bn=new Un;function qn(t){return t.segments.map(function(t){return Wn(t)}).join("/")}function zn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hn(t){return zn(t).replace(/%3B/gi,";")}function Kn(t){return zn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gn(t){return decodeURIComponent(t)}function Qn(t){return Gn(t.replace(/\+/g,"%20"))}function Wn(t){return""+Kn(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+Kn(t)+"="+Kn(e[t])}).join(""));var e}var Yn=/^[^\/()?;=#]+/;function Zn(t){var e=t.match(Yn);return e?e[0]:""}var Xn=/^[^=?&#]+/,Jn=/^[^?&#]+/,$n=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mn([],{}):new Mn([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[vn]=new Mn(t,e)),n},t.prototype.parseSegment=function(){var t=Zn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new jn(Gn(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Zn(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Zn(this.remaining);r&&this.capture(n=r)}t[Gn(e)]=Gn(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(Xn))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(Jn);return e?e[0]:""}(this.remaining);i&&this.capture(r=i)}var o=Qn(n),a=Qn(r);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(t[o]=s=[s]),s.push(a)}else t[o]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Zn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=vn);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[vn]:new Mn([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),tr=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=er(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=er(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=nr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return nr(t,this._root).map(function(t){return t.value})},t}();function er(t,e){var n,r;if(t===e.value)return e;try{for(var i=Object(l.__values)(e.children),o=i.next();!o.done;o=i.next()){var a=er(t,o.value);if(a)return a}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}function nr(t,e){var n,r;if(t===e.value)return[e];try{for(var i=Object(l.__values)(e.children),o=i.next();!o.done;o=i.next()){var a=nr(t,o.value);if(a.length)return a.unshift(e),a}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[]}var rr=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function ir(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var or=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,hr(r,e),r}return Object(l.__extends)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(tr);function ar(t,e){var n=function(t,e){var n=new cr([],{},{},"",{},vn,e,null,t.root,-1,{});return new lr("",new rr(n,[]))}(t,e),r=new L.a([new jn("",{})]),i=new L.a({}),o=new L.a({}),a=new L.a({}),s=new L.a(""),u=new sr(r,i,a,s,o,vn,e,n.root);return u.snapshot=n.root,new or(new rr(u,[]),n)}var sr=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(H.a)(function(t){return bn(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(H.a)(function(t){return bn(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function ur(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object(l.__assign)({},t.params,e.params),data:Object(l.__assign)({},t.data,e.data),resolve:Object(l.__assign)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var cr=function(){function t(t,e,n,r,i,o,a,s,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=bn(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),lr=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,hr(r,n),r}return Object(l.__extends)(e,t),e.prototype.toString=function(){return fr(this._root)},e}(tr);function hr(t,e){e.value._routerState=t,e.children.forEach(function(e){return hr(t,e)})}function fr(t){var e=t.children.length>0?" { "+t.children.map(fr).join(", ")+" } ":"";return""+t.value+e}function pr(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,An(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),An(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!An(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),An(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function dr(t,e){var n,r;return An(t.params,e.params)&&Ln(n=t.url,r=e.url)&&n.every(function(t,e){return An(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||dr(t.parent,e.parent))}function yr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function mr(t,e,n,r,i){var o={};return r&&Nn(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Rn(n.root===t?e:function t(e,n,r){var i={};return Nn(e.children,function(e,o){i[o]=e===n?r:t(e,n,r)}),new Mn(e.segments,i)}(n.root,t,e),o,i)}var vr=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&yr(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==kn(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),gr=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function br(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[vn]:""+t}function _r(t,e,n){if(t||(t=new Mn([],{})),0===t.segments.length&&t.hasChildren())return wr(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=br(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!Cr(s,u,a))return o;r+=2}else{if(!Cr(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Mn(t.segments.slice(0,r.pathIndex),{});return o.children[vn]=new Mn(t.segments.slice(r.pathIndex),t.children),wr(o,0,i)}return r.match&&0===i.length?new Mn(t.segments,{}):r.match&&!t.hasChildren()?Er(t,e,n):r.match?wr(t,0,i):Er(t,e,n)}function wr(t,e,n){if(0===n.length)return new Mn(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={})[vn]=t,e):void 0===t[0].outlets?((n={})[vn]=t,n):t[0].outlets}(n),i={};return Nn(r,function(n,r){null!==n&&(i[r]=_r(t.children[r],e,n))}),Nn(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new Mn(t.segments,i)}function Er(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Sr(n[i].outlets);return new Mn(r,o)}if(0===i&&yr(n[0]))r.push(new jn(t.segments[e].path,n[0])),i++;else{var a=br(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&yr(s)?(r.push(new jn(a,Tr(s))),i+=2):(r.push(new jn(a,{})),i++)}}return new Mn(r,{})}function Sr(t){var e={};return Nn(t,function(t,n){null!==t&&(e[n]=Er(new Mn([],{}),0,t))}),e}function Tr(t){var e={};return Nn(t,function(t,n){return e[n]=""+t}),e}function Cr(t,e,n){return t==n.path&&An(e,n.parameters)}var Ir=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),pr(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=ir(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),Nn(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=ir(t),o=t.value.component?r.children:e;Nn(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=ir(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new dn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new fn(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(pr(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Or(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function Or(t){pr(t.value),t.children.forEach(Or)}function Ar(t){return"function"==typeof t}function xr(t){return t instanceof Rn}var kr=function(){return function(t){this.segmentGroup=t||null}}(),Nr=function(){return function(t){this.urlTree=t}}();function Dr(t){return new V.a(function(e){return e.error(new kr(t))})}function Pr(t){return new V.a(function(e){return e.error(new Nr(t))})}function Rr(t){return new V.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var Mr=function(){function t(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.NgModuleRef)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,vn).pipe(Object(H.a)(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(yt(function(e){if(e instanceof Nr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof kr)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,vn).pipe(Object(H.a)(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(yt(function(t){if(t instanceof kr)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new Mn([],((r={})[vn]=t,r)):t;return new Rn(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(H.a)(function(t){return new Mn([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(M.a)({});var o=[],a=[],s={};return Nn(n,function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(Object(H.a)(function(t){return s[i]=t}));i===vn?o.push(l):a.push(l)}),M.a.apply(null,o.concat(a)).pipe(Object(K.a)(),ht(),Object(H.a)(function(){return s}))}(n.children)},t.prototype.expandSegment=function(t,e,n,r,i,o){var a=this;return M.a.apply(void 0,Object(l.__spread)(n)).pipe(Object(H.a)(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(yt(function(t){if(t instanceof kr)return Object(M.a)(null);throw t}))}),Object(K.a)(),wt(function(t){return!!t}),yt(function(t,n){if(t instanceof F.a||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return Object(M.a)(new Mn([],{}));throw new kr(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return Fr(r)!==o?Dr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Dr(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Pr(o):this.lineralizeSegments(n,o).pipe(Object(Et.a)(function(n){var o=new Mn(n,{});return i.expandSegment(t,o,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=jr(e,r,i),u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return Dr(e);var h=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?Pr(h):this.lineralizeSegments(r,h).pipe(Object(Et.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(H.a)(function(t){return n._loadedConfig=t,new Mn(r,{})})):Object(M.a)(new Mn(r,{}));var o=jr(e,n,r),a=o.consumedSegments,s=o.lastChild;if(!o.matched)return Dr(e);var u=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(Et.a)(function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(function(n){return Vr(t,e,n)&&Fr(n)!==vn})}(t,n)?{segmentGroup:Lr(new Mn(e,function(t,e){var n,r,i={};i[vn]=e;try{for(var o=Object(l.__values)(t),a=o.next();!a.done;a=o.next()){var s=a.value;""===s.path&&Fr(s)!==vn&&(i[Fr(s)]=new Mn([],{}))}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}(r,new Mn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(function(n){return Vr(t,e,n)})}(t,n)?{segmentGroup:Lr(new Mn(t.segments,function(t,e,n,r){var i,o,a={};try{for(var s=Object(l.__values)(n),u=s.next();!u.done;u=s.next()){var c=u.value;Vr(t,e,c)&&!r[Fr(c)]&&(a[Fr(c)]=new Mn([],{}))}}catch(h){i={error:h}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return Object(l.__assign)({},r,a)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,u,r),s=o.segmentGroup,c=o.slicedSegments;return 0===c.length&&s.hasChildren()?i.expandChildren(n,r,s).pipe(Object(H.a)(function(t){return new Mn(a,t)})):0===r.length&&0===c.length?Object(M.a)(new Mn(a,{})):i.expandSegment(n,s,r,c,vn,!0).pipe(Object(H.a)(function(t){return new Mn(a.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e,n){var r=this;return e.children?Object(M.a)(new Sn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(M.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(j.a)(i).pipe(Object(H.a)(function(r){var i,o=t.get(r);if(function(t){return t&&Ar(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Ar(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Dn(i)})).pipe(Object(K.a)(),(r=function(t){return!0===t},function(t){return t.lift(new St(r,void 0,t))})):Object(M.a)(!0)}(t.injector,e,n).pipe(Object(Et.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(H.a)(function(t){return e._loadedConfig=t,t})):function(t){return new V.a(function(e){return e.error(wn("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}(e)})):Object(M.a)(new Sn([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(M.a)(n);if(r.numberOfChildren>1||!r.children[vn])return Rr(t.redirectTo);r=r.children[vn]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Rn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return Nn(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return Nn(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new Mn(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,r,i=0;try{for(var o=Object(l.__values)(e),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.path===t.path)return e.splice(i),s;i++}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return t},t}();function jr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||En)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Lr(t){if(1===t.numberOfChildren&&t.children[vn]){var e=t.children[vn];return new Mn(t.segments.concat(e.segments),e.children)}return t}function Vr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Fr(t){return t.outlet||vn}var Ur=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),Br=function(){return function(t,e){this.component=t,this.route=e}}();function qr(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function zr(t,e,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=ir(e);return t.children.forEach(function(t){!function(t,e,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ln(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ln(t.url,e.url)||!An(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dr(t,e)||!An(t.queryParams,e.queryParams);case"paramsChange":default:return!dr(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ur(r)):(o.data=a.data,o._resolvedData=a._resolvedData),zr(t,e,o.component?s?s.children:null:n,r,i),u&&i.canDeactivateChecks.push(new Br(s&&s.outlet&&s.outlet.component||null,a))}else a&&Hr(e,s,i),i.canActivateChecks.push(new Ur(r)),zr(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Nn(o,function(t,e){return Hr(t,n.getContext(e),i)}),i}function Hr(t,e,n){var r=ir(t),i=t.value;Nn(r,function(t,r){Hr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Br(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Kr=Symbol("INITIAL_VALUE");function Gr(){return Ct(function(t){return U.a.apply(void 0,Object(l.__spread)(t.map(function(t){return t.pipe(gt(1),Dt(Kr))}))).pipe(Pt(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==Kr)return t;if(r===Kr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||xr(r))return r}return t},t)},Kr),Q(function(t){return t!==Kr}),Object(H.a)(function(t){return xr(t)?t:!0===t}),gt(1))})}function Qr(t,e){return null!==t&&e&&e(new pn(t)),Object(M.a)(!0)}function Wr(t,e){return null!==t&&e&&e(new hn(t)),Object(M.a)(!0)}function Yr(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(M.a)(!0);var i=r.map(function(r){return Object(B.a)(function(){var i,o=qr(r,e,n);if(function(t){return t&&Ar(t.canActivate)}(o))i=Dn(o.canActivate(e,t));else{if(!Ar(o))throw new Error("Invalid CanActivate guard");i=Dn(o(e,t))}return i.pipe(wt())})});return Object(M.a)(i).pipe(Gr())}function Zr(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return Object(B.a)(function(){var i=e.guards.map(function(i){var o,a=qr(i,e.node,n);if(function(t){return t&&Ar(t.canActivateChild)}(a))o=Dn(a.canActivateChild(r,t));else{if(!Ar(a))throw new Error("Invalid CanActivateChild guard");o=Dn(a(r,t))}return o.pipe(wt())});return Object(M.a)(i).pipe(Gr())})});return Object(M.a)(i).pipe(Gr())}var Xr=function(){return function(){}}(),Jr=function(){function t(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return t.prototype.recognize=function(){try{var t=ei(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,vn),n=new cr([],Object.freeze({}),Object.freeze(Object(l.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,{},vn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new rr(n,e),i=new lr(this.url,r);return this.inheritParamsAndData(i._root),Object(M.a)(i)}catch(o){return new V.a(function(t){return t.error(o)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=ur(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=Vn(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value}),i.sort(function(t,e){return t.value.outlet===vn?-1:e.value.outlet===vn?1:t.value.outlet.localeCompare(e.value.outlet)}),i},t.prototype.processSegment=function(t,e,n,r){var i,o;try{for(var a=Object(l.__values)(t),s=a.next();!s.done;s=a.next()){var u=s.value;try{return this.processSegmentAgainstRoute(u,e,n,r)}catch(c){if(!(c instanceof Xr))throw c}}}catch(h){i={error:h}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}if(this.noLeftoversInUrl(e,n,r))return[];throw new Xr},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new Xr;if((t.outlet||vn)!==r)throw new Xr;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?kn(n).parameters:{};i=new cr(n,s,Object.freeze(Object(l.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,ii(t),r,t.component,t,$r(e),ti(e)+n.length,oi(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Xr;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||En)(n,t,e);if(!r)throw new Xr;var i={};Nn(r.posParams,function(t,e){i[e]=t.path});var o=r.consumed.length>0?Object(l.__assign)({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new cr(o,u.parameters,Object.freeze(Object(l.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,ii(t),r,t.component,t,$r(e),ti(e)+o.length,oi(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=ei(e,o,a,c,this.relativeLinkResolution),f=h.segmentGroup,p=h.slicedSegments;if(0===p.length&&f.hasChildren()){var d=this.processChildren(c,f);return[new rr(i,d)]}if(0===c.length&&0===p.length)return[new rr(i,[])];var y=this.processSegment(c,f,p,vn);return[new rr(i,y)]},t}();function $r(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function ti(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ei(t,e,n,r,i){if(n.length>0&&function(t,e,n){return r.some(function(n){return ni(t,e,n)&&ri(n)!==vn})}(t,n)){var o=new Mn(e,function(t,e,n,r){var i,o,a={};a[vn]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;try{for(var s=Object(l.__values)(n),u=s.next();!u.done;u=s.next()){var c=u.value;if(""===c.path&&ri(c)!==vn){var h=new Mn([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,a[ri(c)]=h}}}catch(f){i={error:f}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a}(t,e,r,new Mn(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(function(n){return ni(t,e,n)})}(t,n)){var a=new Mn(t.segments,function(t,e,n,r,i,o){var a,s,u={};try{for(var c=Object(l.__values)(r),h=c.next();!h.done;h=c.next()){var f=h.value;if(ni(t,n,f)&&!i[ri(f)]){var p=new Mn([],{});p._sourceSegment=t,p._segmentIndexShift="legacy"===o?t.segments.length:e.length,u[ri(f)]=p}}}catch(d){a={error:d}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}return Object(l.__assign)({},i,u)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new Mn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function ni(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ri(t){return t.outlet||vn}function ii(t){return t.data||{}}function oi(t){return t.resolve||{}}function ai(t,e,n,r){var i=qr(t,e,r);return Dn(i.resolve?i.resolve(e,n):i(e,n))}function si(t){return function(e){return e.pipe(Ct(function(e){var n=t(e);return n?Object(j.a)(n).pipe(Object(H.a)(function(){return e})):Object(j.a)([e])}))}}var ui=function(){return function(){}}(),ci=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),li=new r.InjectionToken("ROUTES"),hi=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(H.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Sn(xn(i.injector.get(li)).map(On),i)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(j.a)(this.loader.load(t)):Dn(t()).pipe(Object(Et.a)(function(t){return t instanceof r.NgModuleFactory?Object(M.a)(t):Object(j.a)(e.compiler.compileModuleAsync(t))}))},t}(),fi=function(){return function(){}}(),pi=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function di(t){throw t}function yi(t,e,n){return e.parse("/")}function mi(t,e){return Object(M.a)(null)}var vi=function(){function t(t,e,n,i,o,a,s,u){var c=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new q.a,this.errorHandler=di,this.malformedUriErrorHandler=yi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mi,afterPreactivation:mi},this.urlHandlingStrategy=new pi,this.routeReuseStrategy=new ci,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.NgModuleRef),this.console=o.get(r["\u0275Console"]);var l=o.get(r.NgZone);this.isNgZoneEnabled=l instanceof r.NgZone,this.resetConfig(u),this.currentUrlTree=new Rn(new Mn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new hi(a,s,function(t){return c.triggerEvent(new cn(t))},function(t){return c.triggerEvent(new ln(t))}),this.routerState=ar(this.currentUrlTree,this.rootComponentType),this.transitions=new L.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe(Q(function(t){return 0!==t.id}),Object(H.a)(function(t){return Object(l.__assign)({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),Ct(function(t){var r,i,o,a,s=!1,u=!1;return Object(M.a)(t).pipe(nt(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object(l.__assign)({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Ct(function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(M.a)(t).pipe(Ct(function(t){var r=e.transitions.getValue();return n.next(new $e(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?z.a:[t]}),Ct(function(t){return Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(Ct(function(t){return function(e,n,r,i,o){return new Mr(e,n,r,t.extractedUrl,o).apply()}(r,i,o,0,a).pipe(Object(H.a)(function(e){return Object(l.__assign)({},t,{urlAfterRedirects:e})}))}))}),nt(function(t){e.currentNavigation=Object(l.__assign)({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return function(r){return r.pipe(Object(Et.a)(function(r){return function(t,e,n,r,i,o){return void 0===i&&(i="emptyOnly"),void 0===o&&(o="legacy"),new Jr(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(H.a)(function(t){return Object(l.__assign)({},r,{targetSnapshot:t})}));var a}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),nt(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),nt(function(t){var r=new rn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.extractedUrl,c=t.source,h=t.restoredState,f=t.extras,p=new $e(t.id,e.serializeUrl(u),c,h);n.next(p);var d=ar(u,e.rootComponentType).snapshot;return Object(M.a)(Object(l.__assign)({},t,{targetSnapshot:d,urlAfterRedirects:u,extras:Object(l.__assign)({},f,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),z.a}),si(function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),nt(function(t){var n=new on(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(H.a)(function(t){return Object(l.__assign)({},t,{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,zr(o,r?r._root:null,i,[o.value]))});var n,r,i,o}),function(t,e){return function(n){return n.pipe(Object(Et.a)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(M.a)(Object(l.__assign)({},n,{guardsResult:!0})):function(t,e,n,r){return Object(j.a)(t).pipe(Object(Et.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(M.a)(!0);var a=o.map(function(o){var a,s=qr(o,e,i);if(function(t){return t&&Ar(t.canDeactivate)}(s))a=Dn(s.canDeactivate(t,e,n,r));else{if(!Ar(s))throw new Error("Invalid CanDeactivate guard");a=Dn(s(t,e,n,r))}return a.pipe(wt())});return Object(M.a)(a).pipe(Gr())}(t.component,t.route,n,e,r)}),wt(function(t){return!0!==t},!0))}(s,r,i,t).pipe(Object(Et.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(j.a)(e).pipe(jt(function(e){return Object(j.a)([Wr(e.route.parent,r),Qr(e.route,r),Zr(t,e.path,n),Yr(t,e.route,n)]).pipe(Object(K.a)(),wt(function(t){return!0!==t},!0))}),wt(function(t){return!0!==t},!0))}(r,a,t,e):Object(M.a)(n)}),Object(H.a)(function(t){return Object(l.__assign)({},n,{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),nt(function(t){if(xr(t.guardsResult)){var n=wn('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw n.url=t.guardsResult,n}}),nt(function(t){var n=new an(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),Q(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new en(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),si(function(t){if(t.guards.canActivateChecks.length)return Object(M.a)(t).pipe(nt(function(t){var n=new sn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(Et.a)(function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(j.a)(i).pipe(jt(function(t){return function(t,n,r,i){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(M.a)({});if(1===i.length){var o=i[0];return ai(t[o],e,n,r).pipe(Object(H.a)(function(t){var e;return(e={})[o]=t,e}))}var a={};return Object(j.a)(i).pipe(Object(Et.a)(function(i){return ai(t[i],e,n,r).pipe(Object(H.a)(function(t){return a[i]=t,t}))})).pipe(ht(),Object(H.a)(function(){return a}))}(t._resolve,t,e,i).pipe(Object(H.a)(function(e){return t._resolvedData=e,t.data=Object(l.__assign)({},t.data,ur(t,r).resolve),null}))}(t.route,0,n,r)}),function(t,e){return arguments.length>=2?function(e){return Object(Lt.a)(Pt(t,void 0),X(1),st(void 0))(e)}:function(e){return Object(Lt.a)(Pt(function(e,n,r){return t(e)}),X(1))(e)}}(function(t,e){return t}),Object(H.a)(function(e){return t})):Object(M.a)(t)}))}),nt(function(t){var n=new un(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}));var n,r}),si(function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(H.a)(function(t){var n,r,i,o=(i=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(u=r.value)._futureSnapshot=n.value;var i=function(e,n,r){return n.children.map(function(n){var i,o;try{for(var a=Object(l.__values)(r.children),s=a.next();!s.done;s=a.next()){var u=s.value;if(e.shouldReuseRoute(u.value.snapshot,n.value))return t(e,n,u)}}catch(c){i={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return t(e,n)})}(e,n,r);return new rr(u,i)}var o=e.retrieve(n.value);if(o){var a=o.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,a),a}var s,u=new sr(new L.a((s=n.value).url),new L.a(s.params),new L.a(s.queryParams),new L.a(s.fragment),new L.a(s.data),s.outlet,s.component,s);return i=n.children.map(function(n){return t(e,n)}),new rr(u,i)}(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(r=t.currentRouterState)?r._root:void 0),new or(i,n));return Object(l.__assign)({},t,{targetRouterState:o})}),nt(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(H.a)(function(t){return new Ir(o,t.targetRouterState,t.currentRouterState,a).activate(i),t})),nt({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new en(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Ft(r))}),yt(function(r){if(u=!0,(s=r)&&s[_n]){var i=xr(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new en(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),t.resolve(!1),i&&e.navigateByUrl(r.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new nn(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(c){t.reject(c)}}var s;return z.a}))}))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t},t.prototype.setTransition=function(t){this.transitions.next(Object(l.__assign)({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout(function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Tn(t),this.config=t.map(On),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(r.isDevMode)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,h=u?this.currentUrlTree.fragment:o,f=null;if(s)switch(s){case"merge":f=Object(l.__assign)({},this.currentUrlTree.queryParams,i);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=i||null}else f=a?this.currentUrlTree.queryParams:i||null;return null!==f&&(f=this.removeEmptyProps(f)),function(t,e,n,r,i){if(0===n.length)return mr(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new vr(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Nn(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),Object(l.__spread)(t,[{outlets:o}])}if(r.segmentPath)return Object(l.__spread)(t,[r.segmentPath])}return"string"!=typeof r?Object(l.__spread)(t,[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):Object(l.__spread)(t,[r])},[]);return new vr(n,e,r)}(n);if(o.toRoot())return mr(e.root,new Mn([],{}),e,r,i);var a=function(t,n,r){if(t.isAbsolute)return new gr(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new gr(r.snapshot._urlSegment,!0,0);var i=yr(t.commands[0])?0:1;return function(e,n,o){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new gr(a,!1,s-u)}()}(o,0,t),s=a.processChildren?wr(a.segmentGroup,a.index,o.commands):_r(a.segmentGroup,a.index,o.commands);return mr(a.segmentGroup,s,e,r,i)}(c,this.currentUrlTree,t,f,h)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),Object(r.isDevMode)()&&this.isNgZoneEnabled&&!r.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=xr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(xr(t))return Pn(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Pn(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new tn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})},t.prototype.scheduleNavigation=function(t,e,n,r){var i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise(function(t,e){o=t,a=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})},t.prototype.setBrowserUrl=function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object(l.__assign)({},r,{navigationId:n})):this.location.go(i,"",Object(l.__assign)({},r,{navigationId:n}))},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),gi=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bi,this.attachRef=null}}(),bi=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new gi,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),_i=function(){function t(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,this.name=i||vn,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new wi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),wi=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===sr?this.route:t===bi?this.childContexts:this.parent.get(t,e)},t}(),Ei=function(){return function(){}}(),Si=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(yt(function(){return Object(M.a)(null)}))},t}(),Ti=function(){function t(){}return t.prototype.preload=function(t,e){return Object(M.a)(null)},t}(),Ci=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new hi(e,n,function(e){return t.triggerEvent(new cn(e))},function(e){return t.triggerEvent(new ln(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(Q(function(t){return t instanceof tn}),jt(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(r.NgModuleRef);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,r,i=[];try{for(var o=Object(l.__values)(e),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var u=s._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children))}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return Object(j.a)(i).pipe(Object(Bt.a)(),Object(H.a)(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(Et.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),Ii=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof $e?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof tn&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof yn&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new yn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),Oi=new r.InjectionToken("ROUTER_CONFIGURATION"),Ai=new r.InjectionToken("ROUTER_FORROOT_GUARD"),xi=[y,{provide:Fn,useClass:Un},{provide:vi,useFactory:ji,deps:[r.ApplicationRef,Fn,bi,y,r.Injector,r.NgModuleFactoryLoader,r.Compiler,li,Oi,[fi,new r.Optional],[ui,new r.Optional]]},bi,{provide:sr,useFactory:Li,deps:[vi]},{provide:r.NgModuleFactoryLoader,useClass:r.SystemJsNgModuleLoader},Ci,Ti,Si,{provide:Oi,useValue:{enableTracing:!1}}];function ki(){return new r.NgProbeToken("Router",vi)}var Ni=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,n){return{ngModule:e,providers:[xi,Mi(t),{provide:Ai,useFactory:Ri,deps:[[vi,new r.Optional,new r.SkipSelf]]},{provide:Oi,useValue:n||{}},{provide:p,useFactory:Pi,deps:[h,[new r.Inject(d),new r.Optional],Oi]},{provide:Ii,useFactory:Di,deps:[vi,P,Oi]},{provide:Ei,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ti},{provide:r.NgProbeToken,multi:!0,useFactory:ki},[Vi,{provide:r.APP_INITIALIZER,multi:!0,useFactory:Fi,deps:[Vi]},{provide:Bi,useFactory:Ui,deps:[Vi]},{provide:r.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Bi}]]}},t.forChild=function(t){return{ngModule:e,providers:[Mi(t)]}},t}();function Di(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ii(t,e,n)}function Pi(t,e,n){return void 0===n&&(n={}),n.useHash?new v(t,e):new g(t,e)}function Ri(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Mi(t){return[{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:li,multi:!0,useValue:t}]}function ji(t,e,n,r,i,o,a,s,u,c,l){void 0===u&&(u={});var h=new vi(null,e,n,r,i,o,a,xn(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=zt();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Li(t){return t.routerState.root}var Vi=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new q.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(f,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(vi),i=t.injector.get(Oi);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Object(M.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Oi),n=this.injector.get(Ci),i=this.injector.get(Ii),o=this.injector.get(vi),a=this.injector.get(r.ApplicationRef);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function Fi(t){return t.appInitializer.bind(t)}function Ui(t){return t.bootstrapListener.bind(t)}var Bi=new r.InjectionToken("Router Initializer"),qi=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function zi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](1,212992,null,0,_i,[bi,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],function(t,e){t(e,1,0)},null)}function Hi(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,zi,qi)),r["\u0275did"](1,49152,null,0,mn,[],null,null)],null,null)}var Ki=r["\u0275ccf"]("ng-component",mn,Hi,{},{},[]),Gi=n("VNr4"),Qi=new r.InjectionToken("NgValueAccessor"),Wi=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),Yi=new r.InjectionToken("CompositionEventMode"),Zi=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=zt()?zt().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}(),Xi=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),Ji=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(Xi);function $i(){throw new Error("unimplemented")}var to=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(l.__extends)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return $i()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return $i()},enumerable:!0,configurable:!0}),e}(Xi),eo=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),no=function(t){function e(e){return t.call(this,e)||this}return Object(l.__extends)(e,t),e}(eo),ro=function(t){function e(e){return t.call(this,e)||this}return Object(l.__extends)(e,t),e}(eo);function io(t){return null==t||0===t.length}var oo=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ao=function(){function t(){}return t.min=function(t){return function(e){if(io(e.value)||io(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(io(e.value)||io(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return io(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return io(t.value)?null:oo.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(io(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(io(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(so);return 0==e.length?null:function(t){return co(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(so);return 0==e.length?null:function(t){var n=function(t,n){return e.map(function(e){return e(t)})}(t).map(uo);return Object(Gi.a)(n).pipe(Object(H.a)(co))}},t}();function so(t){return null!=t}function uo(t){var e=Object(r["\u0275isPromise"])(t)?Object(j.a)(t):t;if(!Object(r["\u0275isObservable"])(e))throw new Error("Expected validator to return Promise or Observable.");return e}function co(t){var e=t.reduce(function(t,e){return null!=e?Object(l.__assign)({},t,e):t},{});return 0===Object.keys(e).length?null:e}function lo(t){return t.validate?function(e){return t.validate(e)}:t}function ho(t){return t.validate?function(e){return t.validate(e)}:t}var fo=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),po=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),yo=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(to),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),mo='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',vo='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function go(t,e){return Object(l.__spread)(e.path,[t])}function bo(t,e){t||wo(e,"Cannot find control with"),e.valueAccessor||wo(e,"No value accessor for form control with"),t.validator=ao.compose([t.validator,e.validator]),t.asyncValidator=ao.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&_o(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&_o(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function _o(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function wo(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function Eo(t){return null!=t?ao.compose(t.map(lo)):null}function So(t){return null!=t?ao.composeAsync(t.map(ho)):null}var To=[Wi,function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),fo,function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){var e,n;try{for(var r=Object(l.__values)(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var o=i.value;if(this._compareWith(this._optionMap.get(o),t))return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(i=n.options,o=0;o<i.length;o++)(a=i.item(o)).selected&&(s=e._getOptionValue(a.value),r.push(s));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){var e,n;try{for(var r=Object(l.__values)(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var o=i.value;if(this._compareWith(this._optionMap.get(o)._value,t))return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),yo];function Co(t){var e=Oo(t)?t.validators:t;return Array.isArray(e)?Eo(e):e||null}function Io(t,e){var n=Oo(e)?e.asyncValidators:t;return Array.isArray(n)?So(n):n||null}function Oo(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Ao=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=Co(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=Io(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAllAsTouched=function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={});var e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(l.__assign)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object(l.__assign)({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={});var e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(function(e){e.enable(Object(l.__assign)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object(l.__assign)({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=uo(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof ko?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof No&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new r.EventEmitter,this.statusChanges=new r.EventEmitter},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){Oo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t.prototype._parentMarkedDirty=function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()},t}(),xo=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,Co(n),Io(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(l.__extends)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(Ao),ko=function(t){function e(e,n,r){var i=t.call(this,Co(n),Io(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(l.__extends)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof xo?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(l.__values)(Object.keys(this.controls)),r=n.next();!r.done;r=n.next())if(this.controls[r.value].enabled)return!1}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(Ao),No=function(t){function e(e,n,r){var i=t.call(this,Co(n),Io(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(l.__extends)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof xo?t.value:t.getRawValue()})},e.prototype.clear=function(){this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(l.__values)(this.controls),r=n.next();!r.done;r=n.next())if(r.value.enabled)return!1}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(Ao),Do=function(){return Promise.resolve(null)}(),Po=function(t){function e(e,n){var i=t.call(this)||this;return i.submitted=!1,i._directives=[],i.ngSubmit=new r.EventEmitter,i.form=new ko({},Eo(e),So(n)),i}return Object(l.__extends)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Do.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),bo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;Do.then(function(){var n,r,i=e._findContainer(t.path);i&&i.removeControl(t.name),(r=(n=e._directives).indexOf(t))>-1&&n.splice(r,1)})},e.prototype.addFormGroup=function(t){var e=this;Do.then(function(){var n=e._findContainer(t.path),r=new ko({});(function(t,e){null==t&&wo(e,"Cannot find control with"),t.validator=ao.compose([t.validator,e.validator]),t.asyncValidator=ao.composeAsync([t.asyncValidator,e.asyncValidator])})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;Do.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;Do.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(Ji),Ro=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+mo+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+vo)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+mo+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+vo)},t.ngFormWarning=function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")},t}(),Mo=new r.InjectionToken("NgFormSelectorWarning"),jo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return go(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Eo(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return So(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(Ji),Lo=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}var n;return Object(l.__extends)(e,t),n=e,e.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof Po||Ro.modelGroupParentException()},e}(jo),Vo=function(){return Promise.resolve(null)}(),Fo=function(t){function e(e,n,i,o){var a=t.call(this)||this;return a.control=new xo,a._registered=!1,a.update=new r.EventEmitter,a._parent=e,a._rawValidators=n||[],a._rawAsyncValidators=i||[],a.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||wo(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){var o;e.constructor===Zi?n=e:(o=e,To.some(function(t){return o.constructor===t})?(r&&wo(t,"More than one built-in value accessor matches form control with"),r=e):(i&&wo(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(wo(t,"No valid value accessor for form control with"),null)}(a,o),a}return Object(l.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(r["\u0275looseIdentical"])(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?go(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Eo(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return So(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){bo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Lo)&&this._parent instanceof jo?Ro.formGroupNameException():this._parent instanceof Lo||this._parent instanceof Po||Ro.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ro.missingNameException()},e.prototype._updateValue=function(t){var e=this;Vo.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Vo.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(to),Uo=function(){return function(){}}(),Bo=function(){return function(){}}(),qo=function(){function t(){}var e;return e=t,t.withConfig=function(t){return{ngModule:e,providers:[{provide:Mo,useValue:t.warnOnDeprecatedNgFormSelector}]}},t}(),zo=n("zo3G"),Ho=function(){function t(t,e){this.zone=t,this.platformId=e}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.runGuarded(function(){return zo.a.schedule.apply(zo.a,t)})},t.prototype.keepUnstableUntilFirst=function(t){return D(this.platformId)?new V.a(function(e){var n=function(){},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(function(t){"scheduled"===r.state&&r.invoke(),e.next(t)},function(t){"scheduled"===r.state&&r.invoke(),e.error(t)},function(){"scheduled"===r.state&&r.invoke(),e.complete()})}):t},t.prototype.runOutsideAngular=function(t){var e=this;return new V.a(function(n){return e.zone.runOutsideAngular(function(){return t.subscribe(function(t){return e.zone.run(function(){return n.next(t)})},function(t){return e.zone.run(function(){return n.error(t)})},function(){return e.zone.run(function(){return n.complete()})})})})},t}(),Ko=function(t){return function(e){return new V.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}},Go=n("Wcq6"),Qo=n.n(Go),Wo=new r.InjectionToken("angularfire2.app.options"),Yo=new r.InjectionToken("angularfire2.app.nameOrConfig"),Zo=function(){return function(){}}();function Xo(t,e){var n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",Qo.a.apps.filter(function(t){return t&&t.name===n.name})[0]||Qo.a.initializeApp(t,n)}var Jo=function(){function t(){}var e;return e=t,t.initializeApp=function(t,n){return{ngModule:e,providers:[{provide:Wo,useValue:t},{provide:Yo,useValue:n}]}},t}(),$o=function(){return function(t,e,n,r){var i=this;this.zone=r;var o=new Ho(r,n);this.auth=r.runOutsideAngular(function(){return Xo(t,e).auth()}),this.authState=o.keepUnstableUntilFirst(o.runOutsideAngular(new V.a(function(t){return{unsubscribe:i.auth.onAuthStateChanged(t)}}))),this.user=o.keepUnstableUntilFirst(o.runOutsideAngular(new V.a(function(t){return{unsubscribe:i.auth.onIdTokenChanged(t)}}))),this.idToken=this.user.pipe(Ct(function(t){return t?Object(j.a)(t.getIdToken()):Object(M.a)(null)})),this.idTokenResult=this.user.pipe(Ct(function(t){return t?Object(j.a)(t.getIdTokenResult()):Object(M.a)(null)}))}}(),ta=n("S1nX");function ea(t){return function(t){return new V.a(function(e){return{unsubscribe:t.onSnapshot(e)}})}(t).pipe(Object(ta.a)())}function na(t){return ea(t).pipe(Object(H.a)(function(t){return{payload:t,type:"query"}}))}function ra(t){return na(t).pipe(Object(H.a)(function(t){return t.payload.docChanges().map(function(t){return{type:t.type,payload:t}})}))}function ia(t,e){return na(t).pipe(Object(H.a)(function(t){return t.payload.docChanges()}),Pt(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e)},[]),Object(H.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}var oa=function(){return(oa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function aa(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var sa=function(){function t(t,e,n){this.ref=t,this.query=e,this.afs=n}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(ra(this.query))).pipe(Object(H.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Q(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(ra(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(Pt(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=aa(t),n=ia(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(t){void 0===t&&(t={});var e=na(this.query),n=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(n).pipe(Object(H.a)(function(e){return e.payload.docs.map(function(e){var n;return t.idField?oa({},e.data(),((n={})[t.idField]=e.id,n)):e.data()})}))},t.prototype.get=function(t){return Object(j.a)(this.query.get(t)).pipe(Ko(this.afs.scheduler.zone))},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new ua(this.ref.doc(t),this.afs)},t}(),ua=function(){function t(t,e){this.ref=t,this.afs=e}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=ya(this.ref.collection(t),e);return new sa(n.ref,n.query,this.afs)},t.prototype.snapshotChanges=function(){var t=ea(this.ref).pipe(Object(H.a)(function(t){return{payload:t,type:"value"}})),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)},t.prototype.valueChanges=function(){return this.snapshotChanges().pipe(Object(H.a)(function(t){return t.payload.data()}))},t.prototype.get=function(t){return Object(j.a)(this.ref.get(t)).pipe(Ko(this.afs.scheduler.zone))},t}(),ca=function(){function t(t,e){this.query=t,this.afs=e}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(ra(this.query))).pipe(Object(H.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Q(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(ra(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(Pt(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=aa(t),n=ia(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(){var t=na(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(Object(H.a)(function(t){return t.payload.docs.map(function(t){return t.data()})}))},t.prototype.get=function(t){return Object(j.a)(this.query.get(t)).pipe(Ko(this.afs.scheduler.zone))},t}(),la=new r.InjectionToken("angularfire2.enableFirestorePersistence"),ha=new r.InjectionToken("angularfire2.firestore.persistenceSettings"),fa=new r.InjectionToken("angularfire2.firestore.settings"),pa=parseInt(Qo.a.SDK_VERSION.split(".")[0]),da=pa<5||5==pa&&parseInt(Qo.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function ya(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}var ma=function(){function t(t,e,n,r,i,o,a){var s=this;this.scheduler=new Ho(o,i),this.firestore=o.runOutsideAngular(function(){var n=Xo(t,e).firestore();return n.settings(r||da),n}),this.persistenceEnabled$=n&&!D(i)?o.runOutsideAngular(function(){try{return Object(j.a)(s.firestore.enablePersistence(a||void 0).then(function(){return!0},function(){return!1}))}catch(t){return Object(M.a)(!1)}}):Object(M.a)(!1)}return t.prototype.collection=function(t,e){var n=ya("string"==typeof t?this.firestore.collection(t):t,e);return new sa(n.ref,n.query,this)},t.prototype.collectionGroup=function(t,e){if(pa<6)throw"collection group queries require Firebase JS SDK >= 6.0";var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new ca(n(r),this)},t.prototype.doc=function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new ua(e,this)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t}(),va=function(){function t(t,e,n){this.afAuth=t,this.db=e,this.router=n,this.eventAuthError=new L.a(""),this.eventAuthError$=this.eventAuthError.asObservable()}return t.prototype.getUserState=function(){return this.afAuth.authState},t.prototype.login=function(t,e){var n=this;this.afAuth.auth.signInWithEmailAndPassword(t,e).catch(function(t){n.eventAuthError.next(t)}).then(function(t){t&&n.router.navigate(["/home"])})},t.prototype.createUser=function(t){var e=this;console.log(t),this.afAuth.auth.createUserWithEmailAndPassword(t.email,t.password).then(function(n){e.newUser=t,console.log(n),n.user.updateProfile({displayName:t.firstName+" "+t.lastName}),e.insertUserData(n).then(function(){e.router.navigate(["/home"])})}).catch(function(t){e.eventAuthError.next(t)})},t.prototype.insertUserData=function(t){return this.db.doc("Users/"+t.user.uid).set({email:this.newUser.email,firstname:this.newUser.firstName,lastname:this.newUser.lastName,role:"network user"})},t.prototype.logout=function(){return this.afAuth.auth.signOut()},t.ngInjectableDef=r["\u0275\u0275defineInjectable"]({factory:function(){return new t(r["\u0275\u0275inject"]($o),r["\u0275\u0275inject"](ma),r["\u0275\u0275inject"](vi))},token:t,providedIn:"root"}),t}(),ga=function(){function t(t){this.auth=t}return t.prototype.ngOnInit=function(){var t=this;this.auth.eventAuthError$.subscribe(function(e){t.authError=e})},t.prototype.login=function(t){this.auth.login(t.value.email,t.value.password)},t}(),ba=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function _a(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"div",[["class","col-12 alert alert-danger"]],null,null,null,null,null)),(t()(),r["\u0275ted"](2,null,["",""]))],null,function(t,e){var n=e.component;t(e,2,0,null==n.authError?null:n.authError.message)})}function wa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,34,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,33,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0,o=t.component;return"submit"===e&&(i=!1!==r["\u0275nov"](t,4).onSubmit(n)&&i),"reset"===e&&(i=!1!==r["\u0275nov"](t,4).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.login(r["\u0275nov"](t,4))&&i),i},null,null)),r["\u0275did"](3,16384,null,0,Uo,[],null,null),r["\u0275did"](4,4210688,[["loginForm",4]],0,Po,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),r["\u0275prd"](2048,null,Ji,null,[Po]),r["\u0275did"](6,16384,null,0,ro,[[4,Ji]],null,null),(t()(),r["\u0275and"](16777216,null,null,1,null,_a)),r["\u0275did"](8,16384,null,0,C,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](9,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](10,0,null,null,8,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),r["\u0275eld"](11,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Email"])),(t()(),r["\u0275eld"](13,0,null,null,5,"input",[["class","form-control"],["name","email"],["ngModel",""],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r["\u0275nov"](t,14)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,14).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,14)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,14)._compositionEnd(n.target.value)&&i),i},null,null)),r["\u0275did"](14,16384,null,0,Zi,[r.Renderer2,r.ElementRef,[2,Yi]],null,null),r["\u0275prd"](1024,null,Qi,function(t){return[t]},[Zi]),r["\u0275did"](16,671744,[["email",4]],0,Fo,[[2,Ji],[8,null],[8,null],[6,Qi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,to,null,[Fo]),r["\u0275did"](18,16384,null,0,no,[[4,to]],null,null),(t()(),r["\u0275eld"](19,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](20,0,null,null,8,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),r["\u0275eld"](21,0,null,null,1,"label",[["for","password"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Password"])),(t()(),r["\u0275eld"](23,0,null,null,5,"input",[["class","form-control"],["name","password"],["ngModel",""],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r["\u0275nov"](t,24)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,24).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,24)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,24)._compositionEnd(n.target.value)&&i),i},null,null)),r["\u0275did"](24,16384,null,0,Zi,[r.Renderer2,r.ElementRef,[2,Yi]],null,null),r["\u0275prd"](1024,null,Qi,function(t){return[t]},[Zi]),r["\u0275did"](26,671744,[["password",4]],0,Fo,[[2,Ji],[8,null],[8,null],[6,Qi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,to,null,[Fo]),r["\u0275did"](28,16384,null,0,no,[[4,to]],null,null),(t()(),r["\u0275eld"](29,0,null,null,6,"div",[["class","row mt-2"]],null,null,null,null,null)),(t()(),r["\u0275eld"](30,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),r["\u0275eld"](31,0,null,null,1,"a",[["href","/register"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Click here to register"])),(t()(),r["\u0275eld"](33,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),r["\u0275eld"](34,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Login"]))],function(t,e){t(e,8,0,e.component.authError),t(e,16,0,"email",""),t(e,26,0,"password","")},function(t,e){t(e,2,0,r["\u0275nov"](e,6).ngClassUntouched,r["\u0275nov"](e,6).ngClassTouched,r["\u0275nov"](e,6).ngClassPristine,r["\u0275nov"](e,6).ngClassDirty,r["\u0275nov"](e,6).ngClassValid,r["\u0275nov"](e,6).ngClassInvalid,r["\u0275nov"](e,6).ngClassPending),t(e,13,0,r["\u0275nov"](e,18).ngClassUntouched,r["\u0275nov"](e,18).ngClassTouched,r["\u0275nov"](e,18).ngClassPristine,r["\u0275nov"](e,18).ngClassDirty,r["\u0275nov"](e,18).ngClassValid,r["\u0275nov"](e,18).ngClassInvalid,r["\u0275nov"](e,18).ngClassPending),t(e,23,0,r["\u0275nov"](e,28).ngClassUntouched,r["\u0275nov"](e,28).ngClassTouched,r["\u0275nov"](e,28).ngClassPristine,r["\u0275nov"](e,28).ngClassDirty,r["\u0275nov"](e,28).ngClassValid,r["\u0275nov"](e,28).ngClassInvalid,r["\u0275nov"](e,28).ngClassPending)})}function Ea(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-login",[],null,null,null,wa,ba)),r["\u0275did"](1,114688,null,0,ga,[va],null,null)],function(t,e){t(e,1,0)},null)}var Sa=r["\u0275ccf"]("app-login",ga,Ea,{},{},[]),Ta=function(){function t(t){this.auth=t}return t.prototype.ngOnInit=function(){var t=this;this.auth.eventAuthError$.subscribe(function(e){t.authError=e})},t.prototype.createUser=function(t){this.auth.createUser(t.value)},t}(),Ca=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Ia(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"div",[["class","col-12 alert alert-danger"]],null,null,null,null,null)),(t()(),r["\u0275ted"](2,null,[" "," "]))],null,function(t,e){var n=e.component;t(e,2,0,null==n.authError?null:n.authError.message)})}function Oa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,60,"div",[["class","row mt-4"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["User Registration"])),(t()(),r["\u0275eld"](4,0,null,null,56,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Ia)),r["\u0275did"](6,16384,null,0,C,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](7,0,null,null,53,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0,o=t.component;return"submit"===e&&(i=!1!==r["\u0275nov"](t,9).onSubmit(n)&&i),"reset"===e&&(i=!1!==r["\u0275nov"](t,9).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.createUser(r["\u0275nov"](t,9))&&i),i},null,null)),r["\u0275did"](8,16384,null,0,Uo,[],null,null),r["\u0275did"](9,4210688,[["userRegForm",4]],0,Po,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),r["\u0275prd"](2048,null,Ji,null,[Po]),r["\u0275did"](11,16384,null,0,ro,[[4,Ji]],null,null),(t()(),r["\u0275eld"](12,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](13,0,null,null,8,"div",[["class","col-md-6 mb-2"]],null,null,null,null,null)),(t()(),r["\u0275eld"](14,0,null,null,1,"label",[["for","firstName"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["First name"])),(t()(),r["\u0275eld"](16,0,null,null,5,"input",[["class","form-control"],["id","firstName"],["name","firstName"],["ngModel",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r["\u0275nov"](t,17)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,17).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,17)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,17)._compositionEnd(n.target.value)&&i),i},null,null)),r["\u0275did"](17,16384,null,0,Zi,[r.Renderer2,r.ElementRef,[2,Yi]],null,null),r["\u0275prd"](1024,null,Qi,function(t){return[t]},[Zi]),r["\u0275did"](19,671744,[["firstname",4]],0,Fo,[[2,Ji],[8,null],[8,null],[6,Qi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,to,null,[Fo]),r["\u0275did"](21,16384,null,0,no,[[4,to]],null,null),(t()(),r["\u0275eld"](22,0,null,null,8,"div",[["class","col-md-6 mb-2"]],null,null,null,null,null)),(t()(),r["\u0275eld"](23,0,null,null,1,"label",[["for","lastName"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Last name"])),(t()(),r["\u0275eld"](25,0,null,null,5,"input",[["class","form-control"],["id","lastName"],["name","lastName"],["ngModel",""],["type","text"],["value",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r["\u0275nov"](t,26)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,26).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,26)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,26)._compositionEnd(n.target.value)&&i),i},null,null)),r["\u0275did"](26,16384,null,0,Zi,[r.Renderer2,r.ElementRef,[2,Yi]],null,null),r["\u0275prd"](1024,null,Qi,function(t){return[t]},[Zi]),r["\u0275did"](28,671744,[["lastname",4]],0,Fo,[[2,Ji],[8,null],[8,null],[6,Qi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,to,null,[Fo]),r["\u0275did"](30,16384,null,0,no,[[4,to]],null,null),(t()(),r["\u0275eld"](31,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](32,0,null,null,8,"div",[["class","col-md-12 mb-2"]],null,null,null,null,null)),(t()(),r["\u0275eld"](33,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Email"])),(t()(),r["\u0275eld"](35,0,null,null,5,"input",[["class","form-control"],["name","email"],["ngModel",""],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r["\u0275nov"](t,36)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,36).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,36)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,36)._compositionEnd(n.target.value)&&i),i},null,null)),r["\u0275did"](36,16384,null,0,Zi,[r.Renderer2,r.ElementRef,[2,Yi]],null,null),r["\u0275prd"](1024,null,Qi,function(t){return[t]},[Zi]),r["\u0275did"](38,671744,[["email",4]],0,Fo,[[2,Ji],[8,null],[8,null],[6,Qi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,to,null,[Fo]),r["\u0275did"](40,16384,null,0,no,[[4,to]],null,null),(t()(),r["\u0275eld"](41,0,null,null,19,"div",[],null,null,null,null,null)),(t()(),r["\u0275eld"](42,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](43,0,null,null,8,"div",[["class","col-md-12 mb-2"]],null,null,null,null,null)),(t()(),r["\u0275eld"](44,0,null,null,1,"label",[["for","password"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Password"])),(t()(),r["\u0275eld"](46,0,null,null,5,"input",[["class","form-control"],["name","password"],["ngModel",""],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0;return"input"===e&&(i=!1!==r["\u0275nov"](t,47)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r["\u0275nov"](t,47).onTouched()&&i),"compositionstart"===e&&(i=!1!==r["\u0275nov"](t,47)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r["\u0275nov"](t,47)._compositionEnd(n.target.value)&&i),i},null,null)),r["\u0275did"](47,16384,null,0,Zi,[r.Renderer2,r.ElementRef,[2,Yi]],null,null),r["\u0275prd"](1024,null,Qi,function(t){return[t]},[Zi]),r["\u0275did"](49,671744,[["password",4]],0,Fo,[[2,Ji],[8,null],[8,null],[6,Qi]],{name:[0,"name"],model:[1,"model"]},null),r["\u0275prd"](2048,null,to,null,[Fo]),r["\u0275did"](51,16384,null,0,no,[[4,to]],null,null),(t()(),r["\u0275eld"](52,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](53,0,null,null,3,"div",[["class","col-md-12 mb-2"]],null,null,null,null,null)),(t()(),r["\u0275eld"](54,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Confirm Password"])),(t()(),r["\u0275eld"](56,0,null,null,0,"input",[["class","form-control"],["name","password"],["type","password"]],null,null,null,null,null)),(t()(),r["\u0275eld"](57,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](58,0,null,null,2,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),r["\u0275eld"](59,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Submit"]))],function(t,e){t(e,6,0,e.component.authError),t(e,19,0,"firstName",""),t(e,28,0,"lastName",""),t(e,38,0,"email",""),t(e,49,0,"password","")},function(t,e){t(e,7,0,r["\u0275nov"](e,11).ngClassUntouched,r["\u0275nov"](e,11).ngClassTouched,r["\u0275nov"](e,11).ngClassPristine,r["\u0275nov"](e,11).ngClassDirty,r["\u0275nov"](e,11).ngClassValid,r["\u0275nov"](e,11).ngClassInvalid,r["\u0275nov"](e,11).ngClassPending),t(e,16,0,r["\u0275nov"](e,21).ngClassUntouched,r["\u0275nov"](e,21).ngClassTouched,r["\u0275nov"](e,21).ngClassPristine,r["\u0275nov"](e,21).ngClassDirty,r["\u0275nov"](e,21).ngClassValid,r["\u0275nov"](e,21).ngClassInvalid,r["\u0275nov"](e,21).ngClassPending),t(e,25,0,r["\u0275nov"](e,30).ngClassUntouched,r["\u0275nov"](e,30).ngClassTouched,r["\u0275nov"](e,30).ngClassPristine,r["\u0275nov"](e,30).ngClassDirty,r["\u0275nov"](e,30).ngClassValid,r["\u0275nov"](e,30).ngClassInvalid,r["\u0275nov"](e,30).ngClassPending),t(e,35,0,r["\u0275nov"](e,40).ngClassUntouched,r["\u0275nov"](e,40).ngClassTouched,r["\u0275nov"](e,40).ngClassPristine,r["\u0275nov"](e,40).ngClassDirty,r["\u0275nov"](e,40).ngClassValid,r["\u0275nov"](e,40).ngClassInvalid,r["\u0275nov"](e,40).ngClassPending),t(e,46,0,r["\u0275nov"](e,51).ngClassUntouched,r["\u0275nov"](e,51).ngClassTouched,r["\u0275nov"](e,51).ngClassPristine,r["\u0275nov"](e,51).ngClassDirty,r["\u0275nov"](e,51).ngClassValid,r["\u0275nov"](e,51).ngClassInvalid,r["\u0275nov"](e,51).ngClassPending)})}function Aa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-registration",[],null,null,null,Oa,Ca)),r["\u0275did"](1,114688,null,0,Ta,[va],null,null)],function(t,e){t(e,1,0)},null)}var xa,ka=r["\u0275ccf"]("app-registration",Ta,Aa,{},{},[]),Na=new r.Version("8.1.1");function Da(t){return null!=t&&""+t!="false"}function Pa(t,e){return void 0===e&&(e=0),function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Ra(t){return t instanceof r.ElementRef?t.nativeElement:t}try{xa="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(mh){xa=!1}var Ma,ja=function(){function t(t){this._platformId=t,this.isBrowser=this._platformId?this._platformId===k:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xa)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}return t.ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(r["\u0275\u0275inject"])(r.PLATFORM_ID,8))},token:t,providedIn:"root"}),t}(),La=function(){return function(){}}();function Va(t){return function(){if(null==Ma&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return Ma=!0}}))}finally{Ma=Ma||!1}return Ma}()?t:!!t.capture}var Fa,Ua=function(){var t={NORMAL:0,NEGATED:1,INVERTED:2};return t[t.NORMAL]="NORMAL",t[t.NEGATED]="NEGATED",t[t.INVERTED]="INVERTED",t}();function Ba(){if("object"!=typeof document||!document)return Ua.NORMAL;if(!Fa){var t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";var n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),Fa=Ua.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,Fa=0===t.scrollLeft?Ua.NEGATED:Ua.INVERTED),t.parentNode.removeChild(t)}return Fa}var qa=27,za=n("T1DM"),Ha=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new Ka(t,this.dueTime,this.scheduler))},t}(),Ka=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return l.__extends(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ga,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(G.a);function Ga(t){t.debouncedNext()}var Qa=function(){function t(t){this._platform=t}return t.prototype.isDisabled=function(t){return t.hasAttribute("disabled")},t.prototype.isVisible=function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility},t.prototype.isTabbable=function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(mh){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){var r=n&&n.nodeName.toLowerCase();if(-1===Ya(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===r)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var i=t.nodeName.toLowerCase(),o=Ya(t);if(t.hasAttribute("contenteditable"))return-1!==o;if("iframe"===i)return!1;if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0},t.prototype.isFocusable=function(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Wa(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)},t.ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(r["\u0275\u0275inject"])(ja))},token:t,providedIn:"root"}),t}();function Wa(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Ya(t){if(!Wa(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var Za=function(){function t(t,e,n,r,i){var o=this;void 0===i&&(i=!1),this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=function(){return o.focusLastTabbableElement()},this.endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,i||this.attachAnchors()}return Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null},t.prototype.attachAnchors=function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular(function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)},t.prototype.focusInitialElementWhenReady=function(){var t=this;return new Promise(function(e){t._executeOnStable(function(){return e(t.focusInitialElement())})})},t.prototype.focusFirstTabbableElementWhenReady=function(){var t=this;return new Promise(function(e){t._executeOnStable(function(){return e(t.focusFirstTabbableElement())})})},t.prototype.focusLastTabbableElementWhenReady=function(){var t=this;return new Promise(function(e){t._executeOnStable(function(){return e(t.focusLastTabbableElement())})})},t.prototype._getRegionBoundary=function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-"+t+"], [cdkFocusRegion"+t+"], [cdk-focus-"+t+"]"),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn("Found use of deprecated attribute 'cdk-focus-"+t+"', use 'cdkFocusRegion"+t+"' instead. The deprecated attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-"+t+"', use 'cdkFocusRegion"+t+"' instead. The deprecated attribute will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)},t.prototype.focusInitialElement=function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Object(r.isDevMode)()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()},t.prototype.focusFirstTabbableElement=function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t},t.prototype.focusLastTabbableElement=function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t},t.prototype.hasAttached=function(){return this._hasAttached},t.prototype._getFirstTabbableElement=function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null},t.prototype._getLastTabbableElement=function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null},t.prototype._createAnchor=function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t},t.prototype._toggleAnchorTabIndex=function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")},t.prototype._executeOnStable=function(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(gt(1)).subscribe(t)},t}(),Xa=function(){function t(t,e,n){this._checker=t,this._ngZone=e,this._document=n}return t.prototype.create=function(t,e){return void 0===e&&(e=!1),new Za(t,this._checker,this._ngZone,this._document,e)},t.ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(r["\u0275\u0275inject"])(Qa),Object(r["\u0275\u0275inject"])(r.NgZone),Object(r["\u0275\u0275inject"])(x))},token:t,providedIn:"root"}),t}(),Ja=650,$a=Va({passive:!0,capture:!0}),ts=function(){function t(t,e){var n=this;this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=function(){n._lastTouchTarget=null,n._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(){n._lastTouchTarget||n._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=function(t){null!=n._touchTimeoutId&&clearTimeout(n._touchTimeoutId),n._lastTouchTarget=t.target,n._touchTimeoutId=setTimeout(function(){return n._lastTouchTarget=null},Ja)},this._windowFocusListener=function(){n._windowFocused=!0,n._windowFocusTimeoutId=setTimeout(function(){return n._windowFocused=!1})}}return t.prototype.monitor=function(t,e){var n=this;if(void 0===e&&(e=!1),!this._platform.isBrowser)return Object(M.a)(null);var r=Ra(t);if(this._elementInfo.has(r)){var i=this._elementInfo.get(r);return i.checkChildren=e,i.subject.asObservable()}var o={unlisten:function(){},checkChildren:e,subject:new q.a};this._elementInfo.set(r,o),this._incrementMonitoredElementCount();var a=function(t){return n._onFocus(t,r)},s=function(t){return n._onBlur(t,r)};return this._ngZone.runOutsideAngular(function(){r.addEventListener("focus",a,!0),r.addEventListener("blur",s,!0)}),o.unlisten=function(){r.removeEventListener("focus",a,!0),r.removeEventListener("blur",s,!0)},o.subject.asObservable()},t.prototype.stopMonitoring=function(t){var e=Ra(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())},t.prototype.focusVia=function(t,e,n){var r=Ra(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)},t.prototype.ngOnDestroy=function(){var t=this;this._elementInfo.forEach(function(e,n){return t.stopMonitoring(n)})},t.prototype._toggleClass=function(t,e,n){n?t.classList.add(e):t.classList.remove(e)},t.prototype._setClasses=function(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))},t.prototype._setOriginForCurrentEventQueue=function(t){var e=this;this._ngZone.runOutsideAngular(function(){e._origin=t,e._originTimeoutId=setTimeout(function(){return e._origin=null},1)})},t.prototype._wasCausedByTouch=function(t){var e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))},t.prototype._onFocus=function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===t.target)){var r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}},t.prototype._onBlur=function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))},t.prototype._emitOrigin=function(t,e){this._ngZone.run(function(){return t.next(e)})},t.prototype._incrementMonitoredElementCount=function(){var t=this;1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(function(){document.addEventListener("keydown",t._documentKeydownListener,$a),document.addEventListener("mousedown",t._documentMousedownListener,$a),document.addEventListener("touchstart",t._documentTouchstartListener,$a),window.addEventListener("focus",t._windowFocusListener)})},t.prototype._decrementMonitoredElementCount=function(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,$a),document.removeEventListener("mousedown",this._documentMousedownListener,$a),document.removeEventListener("touchstart",this._documentTouchstartListener,$a),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))},t.ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(r["\u0275\u0275inject"])(r.NgZone),Object(r["\u0275\u0275inject"])(ja))},token:t,providedIn:"root"}),t}(),es=new r.Version("8.1.1"),ns=new r.InjectionToken("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),rs=function(){function t(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return t.prototype._areChecksEnabled=function(){return this._sanityChecksEnabled&&Object(r.isDevMode)()&&!this._isTestEnv()},t.prototype._isTestEnv=function(){var t=this._window;return t&&(t.__karma__||t.jasmine)},t.prototype._checkDoctypeIsDefined=function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")},t.prototype._checkThemeIsPresent=function(){if(this._document&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}},t.prototype._checkCdkVersionMatch=function(){es.full!==Na.full&&console.warn("The Angular Material version ("+es.full+") does not match the Angular CDK version ("+Na.full+").\nPlease ensure the versions of these two packages exactly match.")},t.prototype._checkHammerIsAvailable=function(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)},t}();function is(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,e)||this;return r._disabled=!1,r}return Object(l.__extends)(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=Da(t)},enumerable:!0,configurable:!0}),e}(t)}function os(t,e){return function(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return i.color=e,i}return Object(l.__extends)(n,t),Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(t){var n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)},enumerable:!0,configurable:!0}),n}(t)}function as(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,e)||this;return r._disableRipple=!1,r}return Object(l.__extends)(e,t),Object.defineProperty(e.prototype,"disableRipple",{get:function(){return this._disableRipple},set:function(t){this._disableRipple=Da(t)},enumerable:!0,configurable:!0}),e}(t)}var ss=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}(),us=function(){function t(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=ss.HIDDEN}return t.prototype.fadeOut=function(){this._renderer.fadeOutRipple(this)},t}(),cs={enterDuration:450,exitDuration:400},ls=800,hs=Va({passive:!0}),fs=function(){function t(t,e,n,r){var i=this;this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=function(t){var e=function(t){return 0===t.buttons}(t),n=i._lastTouchStartEvent&&Date.now()<i._lastTouchStartEvent+ls;i._target.rippleDisabled||e||n||(i._isPointerDown=!0,i.fadeInRipple(t.clientX,t.clientY,i._target.rippleConfig))},this._onTouchStart=function(t){if(!i._target.rippleDisabled){i._lastTouchStartEvent=Date.now(),i._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)i.fadeInRipple(e[n].clientX,e[n].clientY,i._target.rippleConfig)}},this._onPointerUp=function(){i._isPointerDown&&(i._isPointerDown=!1,i._activeRipples.forEach(function(t){!t.config.persistent&&(t.state===ss.VISIBLE||t.config.terminateOnPointerUp&&t.state===ss.FADING_IN)&&t.fadeOut()}))},r.isBrowser&&(this._containerElement=n.nativeElement,this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}return t.prototype.fadeInRipple=function(t,e,n){var r=this;void 0===n&&(n={});var i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object(l.__assign)({},cs,n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);var a=n.radius||function(t,e,n){var r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),s=t-i.left,u=e-i.top,c=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=s-a+"px",h.style.top=u-a+"px",h.style.height=2*a+"px",h.style.width=2*a+"px",h.style.backgroundColor=n.color||null,h.style.transitionDuration=c+"ms",this._containerElement.appendChild(h),window.getComputedStyle(h).getPropertyValue("opacity"),h.style.transform="scale(1)";var f=new us(this,h,n);return f.state=ss.FADING_IN,this._activeRipples.add(f),n.persistent||(this._mostRecentTransientRipple=f),this._runTimeoutOutsideZone(function(){var t=f===r._mostRecentTransientRipple;f.state=ss.VISIBLE,n.persistent||t&&r._isPointerDown||f.fadeOut()},c),f},t.prototype.fadeOutRipple=function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,r=Object(l.__assign)({},cs,t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=ss.FADING_OUT,this._runTimeoutOutsideZone(function(){t.state=ss.HIDDEN,n.parentNode.removeChild(n)},r.exitDuration)}},t.prototype.fadeOutAll=function(){this._activeRipples.forEach(function(t){return t.fadeOut()})},t.prototype.setupTriggerEvents=function(t){var e=this;t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(function(){e._triggerEvents.forEach(function(e,n){t.addEventListener(n,e,hs)})}),this._triggerElement=t)},t.prototype._runTimeoutOutsideZone=function(t,e){void 0===e&&(e=0),this._ngZone.runOutsideAngular(function(){return setTimeout(t,e)})},t.prototype._removeTriggerEvents=function(){var t=this;this._triggerElement&&this._triggerEvents.forEach(function(e,n){t._triggerElement.removeEventListener(n,e,hs)})},t}(),ps=new r.InjectionToken("mat-ripple-global-options"),ds=function(){function t(t,e,n,r,i){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new fs(this,e,t,n),"NoopAnimations"===i&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trigger",{get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()},t.prototype.ngOnDestroy=function(){this._rippleRenderer._removeTriggerEvents()},t.prototype.fadeOutAll=function(){this._rippleRenderer.fadeOutAll()},Object.defineProperty(t.prototype,"rippleConfig",{get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object(l.__assign)({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rippleDisabled",{get:function(){return this.disabled||!!this._globalOptions.disabled},enumerable:!0,configurable:!0}),t.prototype._setupTriggerEventsIfEnabled=function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)},t.prototype.launch=function(t,e,n){return void 0===e&&(e=0),"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object(l.__assign)({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object(l.__assign)({},this.rippleConfig,t))},t}(),ys=function(){return function(){}}(),ms="accent",vs=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],gs=function(t){function e(e,n,r){var i=t.call(this,e)||this;i._focusMonitor=n,i._animationMode=r,i.isRoundButton=i._hasHostAttributes("mat-fab","mat-mini-fab"),i.isIconButton=i._hasHostAttributes("mat-icon-button");for(var o=0,a=vs;o<a.length;o++){var s=a[o];i._hasHostAttributes(s)&&i._getHostElement().classList.add(s)}return i._focusMonitor.monitor(i._elementRef,!0),i.isRoundButton&&(i.color=ms),i}return Object(l.__extends)(e,t),e.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef)},e.prototype.focus=function(){this._getHostElement().focus()},e.prototype._getHostElement=function(){return this._elementRef.nativeElement},e.prototype._isRippleDisabled=function(){return this.disableRipple||this.disabled},e.prototype._hasHostAttributes=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.some(function(e){return t._getHostElement().hasAttribute(e)})},e}(os(is(as(function(){return function(t){this._elementRef=t}}())))),bs=function(){return function(){}}(),_s=new r.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.inject)(x)}}),ws=function(){function t(t){if(this.value="ltr",this.change=new r.EventEmitter,t){var e=(t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null);this.value="ltr"===e||"rtl"===e?e:"ltr"}}return t.prototype.ngOnDestroy=function(){this.change.complete()},t.ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(r["\u0275\u0275inject"])(_s,8))},token:t,providedIn:"root"}),t}(),Es=function(){return function(){}}(),Ss=function(){return function(){}}(),Ts=function(){return function(){}}(),Cs="*";function Is(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function Os(t){return{type:6,styles:t,offset:null}}function As(t){Promise.resolve(null).then(t)}var xs=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.init=function(){},t.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},t.prototype.triggerMicrotask=function(){var t=this;As(function(){return t._onFinish()})},t.prototype._onStart=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){this._onFinish()},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){return 0},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),ks=function(){function t(t){var e=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var n=0,r=0,i=0,o=this.players.length;0==o?As(function(){return e._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++n==o&&e._onFinish()}),t.onDestroy(function(){++r==o&&e._onDestroy()}),t.onStart(function(){++i==o&&e._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this.players.forEach(function(t){return t.init()})},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})},t.prototype.pause=function(){this.players.forEach(function(t){return t.pause()})},t.prototype.restart=function(){this.players.forEach(function(t){return t.restart()})},t.prototype.finish=function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})},t.prototype.destroy=function(){this._onDestroy()},t.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.setPosition=function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})},t.prototype.getPosition=function(){var t=0;return this.players.forEach(function(e){var n=e.getPosition();t=Math.min(n,t)}),t},t.prototype.beforeDestroy=function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),Ns="!";function Ds(){return"undefined"!=typeof process}function Ps(t){switch(t.length){case 0:return new xs;case 1:return t[0];default:return new ks(t)}}function Rs(t,e,n,r,i,o){void 0===i&&(i={}),void 0===o&&(o={});var a=[],s=[],u=-1,c=null;if(r.forEach(function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case Ns:s=i[n];break;case Cs:s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}l[r]=s}),r||s.push(l),c=l,u=n}),a.length)throw new Error("Unable to animate due to the following errors:\n - "+a.join("\n - "));return s}function Ms(t,e,n,r){switch(e){case"start":t.onStart(function(){return r(n&&js(n,"start",t))});break;case"done":t.onDone(function(){return r(n&&js(n,"done",t))});break;case"destroy":t.onDestroy(function(){return r(n&&js(n,"destroy",t))})}}function js(t,e,n){var r=n.totalTime,i=Ls(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function Ls(t,e,n,r,i,o,a){return void 0===i&&(i=""),void 0===o&&(o=0),{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Vs(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function Fs(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var Us=function(t,e){return!1},Bs=function(t,e){return!1},qs=function(t,e,n){return[]},zs=Ds();(zs||"undefined"!=typeof Element)&&(Us=function(t,e){return t.contains(e)},Bs=function(){if(zs||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:Bs}(),qs=function(t,e,n){var r=[];if(n)r.push.apply(r,Object(l.__spread)(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r});var Hs=null,Ks=!1;function Gs(t){Hs||(Hs=("undefined"!=typeof document?document.body:null)||{},Ks=!!Hs.style&&"WebkitAppearance"in Hs.style);var e=!0;return Hs.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in Hs.style)&&Ks&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Hs.style),e}var Qs=Bs,Ws=Us,Ys=qs;function Zs(t){var e={};return Object.keys(t).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}var Xs=function(){function t(){}return t.prototype.validateStyleProperty=function(t){return Gs(t)},t.prototype.matchesElement=function(t,e){return Qs(t,e)},t.prototype.containsElement=function(t,e){return Ws(t,e)},t.prototype.query=function(t,e,n){return Ys(t,e,n)},t.prototype.computeStyle=function(t,e,n){return n||""},t.prototype.animate=function(t,e,n,r,i,o,a){return void 0===o&&(o=[]),new xs(n,r)},t}(),Js=function(){function t(){}return t.NOOP=new Xs,t}(),$s=1e3;function tu(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:eu(parseFloat(e[1]),e[2])}function eu(t,e){switch(e){case"s":return t*$s;default:return t}}function nu(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'+t+'" is invalid.'),{duration:0,delay:0,easing:""};r=eu(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=eu(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'+t+'" is invalid.')}return{duration:r,delay:i,easing:o}}(t,e,n)}function ru(t,e){return void 0===e&&(e={}),Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function iu(t,e,n){if(void 0===n&&(n={}),e)for(var r in t)n[r]=t[r];else ru(t,n);return n}function ou(t,e,n){return n?e+":"+n+";":""}function au(t){for(var e="",n=0;n<t.style.length;n++)e+=ou(0,r=t.style.item(n),t.style.getPropertyValue(r));for(var r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=ou(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r]));t.setAttribute("style",e)}function su(t,e,n){t.style&&(Object.keys(e).forEach(function(r){var i=yu(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Ds()&&au(t))}function uu(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=yu(e);t.style[n]=""}),Ds()&&au(t))}function cu(t){return Array.isArray(t)?1==t.length?t[0]:Is(t):t}var lu=new RegExp("{{\\s*(.+?)\\s*}}","g");function hu(t){var e=[];if("string"==typeof t){for(var n=t.toString(),r=void 0;r=lu.exec(n);)e.push(r[1]);lu.lastIndex=0}return e}function fu(t,e,n){var r=t.toString(),i=r.replace(lu,function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function pu(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var du=/-+([a-z0-9])/g;function yu(t){return t.replace(du,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()})}function mu(t,e){return 0===t||0===e}function vu(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach(function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]}),o.length)for(var a=function(){var n=e[s];o.forEach(function(e){n[e]=bu(t,e)})},s=1;s<e.length;s++)a()}return e}function gu(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function bu(t,e){return window.getComputedStyle(t)[e]}var _u="*",wu=new Set(["true","1"]),Eu=new Set(["false","0"]);function Su(t,e){var n=wu.has(t)||Eu.has(t),r=wu.has(e)||Eu.has(e);return function(i,o){var a=t==_u||t==i,s=e==_u||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?wu.has(t):Eu.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?wu.has(e):Eu.has(e)),a&&s}}var Tu=new RegExp("s*:selfs*,?","g");function Cu(t,e,n){return new Iu(t).build(e,n)}var Iu=function(){function t(t){this._driver=t}return t.prototype.build=function(t,e){var n=new Ou(e);return this._resetContextStyleTimingState(n),gu(this,cu(t),n)},t.prototype._resetContextStyleTimingState=function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0},t.prototype.visitTrigger=function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,a.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}},t.prototype.visitState=function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(t){if(Au(t)){var e=t;Object.keys(e).forEach(function(t){hu(e[t]).forEach(function(t){o.hasOwnProperty(t)||i.add(t)})})}}),i.size){var a=pu(i.values());e.errors.push('state("'+t.name+'", ...) must define default values for all the following style substitutions: '+a.join(", "))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}},t.prototype.visitTransition=function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=gu(this,cu(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'+t+'" is not supported'),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'+t+'" is not supported'),e;var o=i[1],a=i[2],s=i[3];e.push(Su(o,s)),"<"!=a[0]||o==_u&&s==_u||e.push(Su(s,o))}(t,i,r)}):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:xu(t.options)}},t.prototype.visitSequence=function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return gu(n,t,e)}),options:xu(t.options)}},t.prototype.visitGroup=function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map(function(t){e.currentTime=r;var o=gu(n,t,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:3,steps:o,options:xu(t.options)}},t.prototype.visitAnimate=function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ku(nu(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var i=ku(0,0,"");return i.dynamic=!0,i.strValue=r,i}return ku((n=n||nu(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:Os({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=Os(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}},t.prototype.visitStyle=function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n},t.prototype._makeStyleAst=function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?t==Cs?n.push(t):e.errors.push("The provided style string value "+t+" is not allowed."):n.push(t)}):n.push(t.styles);var r=!1,i=null;return n.forEach(function(t){if(Au(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}},t.prototype._validateStyleAst=function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c=e.collectedStyles[e.currentQuerySelector],l=c[r],h=!0;l&&(o!=i&&o>=l.startTime&&i<=l.endTime&&(e.errors.push('The CSS property "'+r+'" that exists between the times of "'+l.startTime+'ms" and "'+l.endTime+'ms" is also being animated in a parallel animation between the times of "'+o+'ms" and "'+i+'ms"'),h=!1),o=l.startTime),h&&(c[r]={startTime:o,endTime:i}),e.options&&(a=e.errors,s=e.options.params||{},(u=hu(t[r])).length&&u.forEach(function(t){s.hasOwnProperty(t)||a.push("Unable to resolve the local animation param "+t+" in the given list of values")}))}else e.errors.push('The provided animation property "'+r+'" is not a supported CSS property for animations')})})},t.prototype.visitKeyframes=function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=t.steps.map(function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(Au(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(Au(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,p=e.currentTime,d=e.currentAnimateTimings,y=d.duration;return c.forEach(function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*y;e.currentTime=p+d.delay+s,d.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)}),r},t.prototype.visitReference=function(t,e){return{type:8,animation:gu(this,cu(t.animation),e),options:xu(t.options)}},t.prototype.visitAnimateChild=function(t,e){return e.depCount++,{type:9,options:xu(t.options)}},t.prototype.visitAnimateRef=function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:xu(t.options)}},t.prototype.visitQuery=function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=Object(l.__read)(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(Tu,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=i[0],a=i[1];e.currentQuerySelector=n.length?n+" "+o:o,Vs(e.collectedStyles,e.currentQuerySelector,{});var s=gu(this,cu(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:xu(t.options)}},t.prototype.visitStagger=function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:nu(t.timings,e.errors,!0);return{type:12,animation:gu(this,cu(t.animation),e),timings:n,options:null}},t}(),Ou=function(){return function(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}();function Au(t){return!Array.isArray(t)&&"object"==typeof t}function xu(t){var e;return t?(t=ru(t)).params&&(t.params=(e=t.params)?ru(e):null):t={},t}function ku(t,e,n){return{duration:t,delay:e,easing:n}}function Nu(t,e,n,r,i,o,a,s){return void 0===a&&(a=null),void 0===s&&(s=!1),{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var Du=function(){function t(){this._map=new Map}return t.prototype.consume=function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e},t.prototype.append=function(t,e){var n=this._map.get(t);n||this._map.set(t,n=[]),n.push.apply(n,Object(l.__spread)(e))},t.prototype.has=function(t){return this._map.has(t)},t.prototype.clear=function(){this._map.clear()},t}(),Pu=new RegExp(":enter","g"),Ru=new RegExp(":leave","g");function Mu(t,e,n,r,i,o,a,s,u,c){return void 0===o&&(o={}),void 0===a&&(a={}),void 0===c&&(c=[]),(new ju).buildKeyframes(t,e,n,r,i,o,a,s,u,c)}var ju=function(){function t(){}return t.prototype.buildKeyframes=function(t,e,n,r,i,o,a,s,u,c){void 0===c&&(c=[]),u=u||new Du;var l=new Vu(t,e,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),gu(this,n,l);var h=l.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[Nu(e,[],[],[],0,0,"",!1)]},t.prototype.visitTrigger=function(t,e){},t.prototype.visitState=function(t,e){},t.prototype.visitTransition=function(t,e){},t.prototype.visitAnimateChild=function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t},t.prototype.visitAnimateRef=function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t},t.prototype._visitSubInstructions=function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?tu(n.duration):null,o=null!=n.delay?tu(n.delay):null;return 0!==i&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r},t.prototype.visitReference=function(t,e){e.updateOptions(t.options,!0),gu(this,t.animation,e),e.previousNode=t},t.prototype.visitSequence=function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Lu);var a=tu(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return gu(n,t,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t},t.prototype.visitGroup=function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?tu(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),gu(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(i),e.previousNode=t},t.prototype._visitTiming=function(t,e){if(t.dynamic){var n=t.strValue;return nu(e.params?fu(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}},t.prototype.visitAnimate=function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t},t.prototype.visitStyle=function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t},t.prototype.visitKeyframes=function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t},t.prototype.visitQuery=function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?tu(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Lu);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),gu(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t},t.prototype.visitStagger=function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;gu(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)},t}(),Lu={},Vu=function(){function t(t,e,n,r,i,o,a,s){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new Fu(this._driver,e,0),a.push(this.currentTimeline)}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.updateOptions=function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=tu(r.duration)),null!=r.delay&&(i.delay=tu(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=fu(o[t],a,n.errors))})}}},t.prototype._copyOptions=function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t},t.prototype.createSubContext=function(e,n,r){void 0===e&&(e=null);var i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o},t.prototype.transformIntoNewTimeline=function(t){return this.previousNode=Lu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline},t.prototype.appendInstructionToTimeline=function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Uu(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r},t.prototype.incrementTime=function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)},t.prototype.delayNextStep=function(t){t>0&&this.currentTimeline.delayNextStep(t)},t.prototype.invokeQuery=function(t,e,n,r,i,o){var a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Pu,"."+this._enterClassName)).replace(Ru,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,Object(l.__spread)(s))}return i||0!=a.length||o.push('`query("'+e+'")` returned zero elements. (Use `query("'+e+'", { optional: true })` if you wish to allow this.)'),a},t}(),Fu=function(){function t(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return t.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},t.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),t.prototype.delayNextStep=function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t},t.prototype.fork=function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)},t.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},t.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},t.prototype.forwardTime=function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()},t.prototype._updateStyle=function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}},t.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},t.prototype.applyEmptyStep=function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||Cs,e._currentKeyframe[t]=Cs}),this._currentEmptyStepKeyframe=this._currentKeyframe},t.prototype.setStyles=function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){r[t]=Cs}):iu(t,!1,r)}),r}(t,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=fu(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:Cs),i._updateStyle(t,e)})},t.prototype.applyStylesToKeyframe=function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))},t.prototype.snapshotCurrentStyles=function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})},t.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(t.prototype,"properties",{get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t},enumerable:!0,configurable:!0}),t.prototype.mergeTimelineCollectedStyles=function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)})},t.prototype.buildKeyframes=function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,a){var s=iu(o,!0);Object.keys(s).forEach(function(t){var r=s[t];r==Ns?e.add(t):r==Cs&&n.add(t)}),r||(s.offset=a/t.duration),i.push(s)});var o=e.size?pu(e.values()):[],a=n.size?pu(n.values()):[];if(r){var s=i[0],u=ru(s);s.offset=0,u.offset=1,i=[s,u]}return Nu(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)},t}(),Uu=function(t){function e(e,n,r,i,o,a,s){void 0===s&&(s=!1);var u=t.call(this,e,n,a.delay)||this;return u.element=n,u.keyframes=r,u.preStyleProps=i,u.postStyleProps=o,u._stretchStartingKeyframe=s,u.timings={duration:a.duration,delay:a.delay,easing:a.easing},u}return Object(l.__extends)(e,t),e.prototype.containsAnimation=function(){return this.keyframes.length>1},e.prototype.buildKeyframes=function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=iu(t[0],!1);u.offset=0,o.push(u);var c=iu(t[0],!1);c.offset=Bu(s),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=iu(t[h],!1);f.offset=Bu((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return Nu(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)},e}(Fu);function Bu(t,e){void 0===e&&(e=3);var n=Math.pow(10,e-1);return Math.round(t*n)/n}var qu=function(){return function(){}}(),zu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e.prototype.normalizePropertyName=function(t,e){return yu(t)},e.prototype.normalizeStyleValue=function(t,e,n,r){var i="",o=n.toString().trim();if(Hu[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for "+t+":"+n)}return o+i},e}(qu),Hu=function(){return t="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),e={},t.forEach(function(t){return e[t]=!0}),e;var t,e}();function Ku(t,e,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var Gu={},Qu=function(){function t(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}return t.prototype.match=function(t,e,n,r){return function(t,e,n,r,i){return t.some(function(t){return t(e,n,r,i)})}(this.ast.matchers,t,e,n,r)},t.prototype.buildStyles=function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o},t.prototype.build=function(t,e,n,r,i,o,a,s,u,c){var h=[],f=this.ast.options&&this.ast.options.params||Gu,p=this.buildStyles(n,a&&a.params||Gu,h),d=s&&s.params||Gu,y=this.buildStyles(r,d,h),m=new Set,v=new Map,g=new Map,b="void"===r,_={params:Object(l.__assign)({},f,d)},w=c?[]:Mu(t,e,this.ast.animation,i,o,p,y,_,u,h),E=0;if(w.forEach(function(t){E=Math.max(t.duration+t.delay,E)}),h.length)return Ku(e,this._triggerName,n,r,b,p,y,[],[],v,g,E,h);w.forEach(function(t){var n=t.element,r=Vs(v,n,{});t.preStyleProps.forEach(function(t){return r[t]=!0});var i=Vs(g,n,{});t.postStyleProps.forEach(function(t){return i[t]=!0}),n!==e&&m.add(n)});var S=pu(m.values());return Ku(e,this._triggerName,n,r,b,p,y,w,S,v,g,E)},t}(),Wu=function(){function t(t,e){this.styles=t,this.defaultParams=e}return t.prototype.buildStyles=function(t,e){var n={},r=ru(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach(function(t){var o=i[t];o.length>1&&(o=fu(o,r,e)),n[t]=o})}}),n},t}(),Yu=function(){function t(t,e){var n=this;this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(function(t){n.states[t.name]=new Wu(t.style,t.options&&t.options.params||{})}),Zu(this.states,"true","1"),Zu(this.states,"false","0"),e.transitions.forEach(function(e){n.transitionFactories.push(new Qu(t,e,n.states))}),this.fallbackTransition=new Qu(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object.defineProperty(t.prototype,"containsQueries",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),t.prototype.matchTransition=function(t,e,n,r){return this.transitionFactories.find(function(i){return i.match(t,e,n,r)})||null},t.prototype.matchStyles=function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)},t}();function Zu(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Xu=new Du,Ju=function(){function t(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}return t.prototype.register=function(t,e){var n=[],r=Cu(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r},t.prototype._buildPlayer=function(t,e,n){var r=t.element,i=Rs(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)},t.prototype.create=function(t,e,n){var r=this;void 0===n&&(n={});var i,o=[],a=this._animations[t],s=new Map;if(a?(i=Mu(this._driver,e,a,"ng-enter","ng-leave",{},{},n,Xu,o)).forEach(function(t){var e=Vs(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),i=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=r._driver.computeStyle(e,n,Cs)})});var u=Ps(i.map(function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(function(){return r.destroy(t)}),this.players.push(u),u},t.prototype.destroy=function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)},t.prototype._getPlayer=function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e},t.prototype.listen=function(t,e,n,r){var i=Ls(e,"","","");return Ms(this._getPlayer(t),n,i,r),function(){}},t.prototype.command=function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])},t}(),$u=[],tc={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ec={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},nc="__ng_removed",rc=function(){function t(t,e){void 0===e&&(e=""),this.namespaceId=e;var n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){var r=ru(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.absorbOptions=function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}},t}(),ic=new rc("void"),oc=function(){function t(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,pc(e,this._hostClassName)}return t.prototype.listen=function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'+n+'" because the animation trigger "'+e+"\" doesn't exist!");if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'+e+'" because the provided event is undefined!');if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'+n+'" for the animation trigger "'+e+'" is not supported!');var a=Vs(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=Vs(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(pc(t,"ng-trigger"),pc(t,"ng-trigger-"+e),u[e]=ic),function(){o._engine.afterFlush(function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]})}},t.prototype.register=function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)},t.prototype._getTrigger=function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'+t+'" has not been registered!');return e},t.prototype.trigger=function(t,e,n,r){var i=this;void 0===r&&(r=!0);var o=this._getTrigger(e),a=new sc(this.id,e,t),s=this._engine.statesByElement.get(t);s||(pc(t,"ng-trigger"),pc(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],c=new rc(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[e]=c,u||(u=ic),"void"===c.value||u.value!==c.value){var l=Vs(this._engine.playersByElement,t,[]);l.forEach(function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!r)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(pc(t,"ng-animate-queued"),a.onStart(function(){dc(t,"ng-animate-queued")})),a.onDone(function(){var e=i.players.indexOf(a);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}}),this.players.push(a),l.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var p=[],d=o.matchStyles(u.value,u.params,p),y=o.matchStyles(c.value,c.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(function(){uu(t,d),su(t,y)})}},t.prototype.deregister=function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,r){e._elementListeners.set(r,n.filter(function(e){return e.name!=t}))})},t.prototype.clearElementCache=function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))},t.prototype._signalRemovalForInnerTriggers=function(t,e,n){var r=this;void 0===n&&(n=!1),this._engine.driver.query(t,".ng-trigger",!0).forEach(function(t){if(!t[nc]){var n=r._engine.fetchNamespacesByElement(t);n.size?n.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):r.clearElementCache(t)}})},t.prototype.triggerLeaveAnimation=function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Ps(a).onDone(function(){return i._engine.processLeaveNode(t)}),!0}return!1},t.prototype.prepareLeaveAnimationListeners=function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach(function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||ic,s=new rc("void"),u=new sc(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}})}},t.prototype.removeNode=function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}this.prepareLeaveAnimationListeners(t),i?r.markElementAsRemoved(this.id,t,!1,e):(r.afterFlush(function(){return n.clearElementCache(t)}),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}},t.prototype.insertNode=function(t,e){pc(t,this._hostClassName)},t.prototype.drainQueuedTransitions=function(t){var e=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==r.triggerName){var n=Ls(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,Ms(r.player,e.phase,n,e.callback)}}),i.markedForDestroy?e._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1})},t.prototype.destroy=function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)},t.prototype.elementContainsData=function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(function(e){return e.element===t})||e},t}(),ac=function(){function t(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return t.prototype._onRemovalComplete=function(t,e){this.onRemovalComplete(t,e)},Object.defineProperty(t.prototype,"queuedPlayers",{get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t},enumerable:!0,configurable:!0}),t.prototype.createNamespace=function(t,e){var n=new oc(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n},t.prototype._balanceNamespaceList=function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t},t.prototype.register=function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n},t.prototype.registerTrigger=function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++},t.prototype.destroy=function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(e)})}},t.prototype._fetchNamespace=function(t){return this._namespaceLookup[t]},t.prototype.fetchNamespacesByElement=function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e},t.prototype.trigger=function(t,e,n,r){if(uc(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1},t.prototype.insertNode=function(t,e,n,r){if(uc(e)){var i=e[nc];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}},t.prototype.collectEnterElement=function(t){this.collectedEnterElements.push(t)},t.prototype.markElementAsDisabled=function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),pc(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),dc(t,"ng-animate-disabled"))},t.prototype.removeNode=function(t,e,n,r){if(uc(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)},t.prototype.markElementAsRemoved=function(t,e,n,r){this.collectedLeaveElements.push(e),e[nc]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}},t.prototype.listen=function(t,e,n,r,i){return uc(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}},t.prototype._buildInstruction=function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)},t.prototype.destroyInnerAnimations=function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})},t.prototype.destroyActiveAnimationsForElement=function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})},t.prototype.finishActiveQueriedAnimationOnElement=function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})},t.prototype.whenRenderingDone=function(){var t=this;return new Promise(function(e){if(t.players.length)return Ps(t.players).onDone(function(){return e()});e()})},t.prototype.processLeaveNode=function(t){var e=this,n=t[nc];if(n&&n.setForRemoval){if(t[nc]=tc,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(t){e.markElementAsDisabled(t,!1)})},t.prototype.flush=function(t){var e=this;void 0===t&&(t=-1);var n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)pc(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(r=0;r<i.length;r++)i[r]()}}else for(r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var o=this._whenQuietFns;this._whenQuietFns=[],n.length?Ps(n).onDone(function(){o.forEach(function(t){return t()})}):o.forEach(function(t){return t()})}},t.prototype.reportError=function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))},t.prototype._flushAnimations=function(t,e){var n=this,r=new Du,i=[],o=new Map,a=[],s=new Map,u=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(function(t){h.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)h.add(e[r])});var f=this.bodyNode,p=Array.from(this.statesByElement.keys()),d=hc(p,this.collectedEnterElements),y=new Map,m=0;d.forEach(function(t,e){var n="ng-enter"+m++;y.set(e,n),t.forEach(function(t){return pc(t,n)})});for(var v=[],g=new Set,b=new Set,_=0;_<this.collectedLeaveElements.length;_++)(L=(j=this.collectedLeaveElements[_])[nc])&&L.setForRemoval&&(v.push(j),g.add(j),L.hasAnimation?this.driver.query(j,".ng-star-inserted",!0).forEach(function(t){return g.add(t)}):b.add(j));var w=new Map,E=hc(p,Array.from(g));E.forEach(function(t,e){var n="ng-leave"+m++;w.set(e,n),t.forEach(function(t){return pc(t,n)})}),t.push(function(){d.forEach(function(t,e){var n=y.get(e);t.forEach(function(t){return dc(t,n)})}),E.forEach(function(t,e){var n=w.get(e);t.forEach(function(t){return dc(t,n)})}),v.forEach(function(t){n.processLeaveNode(t)})});for(var S=[],T=[],C=this._namespaceList.length-1;C>=0;C--)this._namespaceList[C].drainQueuedTransitions(e).forEach(function(t){var e=t.player,o=t.element;if(S.push(e),n.collectedEnterElements.length){var l=o[nc];if(l&&l.setForMove)return void e.destroy()}var h=!f||!n.driver.containsElement(f,o),p=w.get(o),d=y.get(o),m=n._buildInstruction(t,r,d,p,h);if(m.errors&&m.errors.length)T.push(m);else{if(h)return e.onStart(function(){return uu(o,m.fromStyles)}),e.onDestroy(function(){return su(o,m.toStyles)}),void i.push(e);if(t.isFallbackTransition)return e.onStart(function(){return uu(o,m.fromStyles)}),e.onDestroy(function(){return su(o,m.toStyles)}),void i.push(e);m.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),r.append(o,m.timelines),a.push({instruction:m,player:e,element:o}),m.queriedElements.forEach(function(t){return Vs(s,t,[]).push(e)}),m.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var r=u.get(e);r||u.set(e,r=new Set),n.forEach(function(t){return r.add(t)})}}),m.postStyleProps.forEach(function(t,e){var n=Object.keys(t),r=c.get(e);r||c.set(e,r=new Set),n.forEach(function(t){return r.add(t)})})}});if(T.length){var I=[];T.forEach(function(t){I.push("@"+t.triggerName+" has failed due to:\n"),t.errors.forEach(function(t){return I.push("- "+t+"\n")})}),S.forEach(function(t){return t.destroy()}),this.reportError(I)}var O=new Map,A=new Map;a.forEach(function(t){var e=t.element;r.has(e)&&(A.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))}),i.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){Vs(O,e,[]).push(t),t.destroy()})});var x=v.filter(function(t){return mc(t,u,c)}),k=new Map;lc(k,this.driver,b,c,Cs).forEach(function(t){mc(t,u,c)&&x.push(t)});var N=new Map;d.forEach(function(t,e){lc(N,n.driver,new Set(t),u,Ns)}),x.forEach(function(t){var e=k.get(t),n=N.get(t);k.set(t,Object(l.__assign)({},e,n))});var D=[],P=[],R={};a.forEach(function(t){var e=t.element,a=t.player,s=t.instruction;if(r.has(e)){if(h.has(e))return a.onDestroy(function(){return su(e,s.toStyles)}),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=R;if(A.size>1){for(var c=e,l=[];c=c.parentNode;){var f=A.get(c);if(f){u=f;break}l.push(c)}l.forEach(function(t){return A.set(t,u)})}var p=n._buildAnimation(a.namespaceId,s,O,o,N,k);if(a.setRealPlayer(p),u===R)D.push(a);else{var d=n.playersByElement.get(u);d&&d.length&&(a.parentPlayer=Ps(d)),i.push(a)}}else uu(e,s.fromStyles),a.onDestroy(function(){return su(e,s.toStyles)}),P.push(a),h.has(e)&&i.push(a)}),P.forEach(function(t){var e=o.get(t.element);if(e&&e.length){var n=Ps(e);t.setRealPlayer(n)}}),i.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var M=0;M<v.length;M++){var j,L=(j=v[M])[nc];if(dc(j,"ng-leave"),!L||!L.hasAnimation){var V=[];if(s.size){var F=s.get(j);F&&F.length&&V.push.apply(V,Object(l.__spread)(F));for(var U=this.driver.query(j,".ng-animating",!0),B=0;B<U.length;B++){var q=s.get(U[B]);q&&q.length&&V.push.apply(V,Object(l.__spread)(q))}}var z=V.filter(function(t){return!t.destroyed});z.length?yc(this,j,z):this.processLeaveNode(j)}}return v.length=0,D.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),D},t.prototype.elementContainsData=function(t,e){var n=!1,r=e[nc];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n},t.prototype.afterFlush=function(t){this._flushFns.push(t)},t.prototype.afterFlushAnimationsDone=function(t){this._whenQuietFns.push(t)},t.prototype._getPreviousPlayers=function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach(function(t){t.queued||(u||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)})),o},t.prototype._beforeAnimationBuild=function(t,e,n){var r,i,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,u=function(t){var r=t.element,i=r!==o,u=Vs(n,r,[]);c._getPreviousPlayers(r,i,a,s,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})},c=this;try{for(var h=Object(l.__values)(e.timelines),f=h.next();!f.done;f=h.next())u(f.value)}catch(p){r={error:p}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}uu(o,e.fromStyles)},t.prototype._buildAnimation=function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map(function(e){var f=e.element;l.add(f);var p=f[nc];if(p&&p.removedBeforeQueried)return new xs(e.duration,e.delay);var d,y,m=f!==u,v=(d=(n.get(f)||$u).map(function(t){return t.getRealPlayer()}),y=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof ks?t(i.players,n):n.push(i)}}(d,y),y).filter(function(t){return!!t.element&&t.element===f}),g=i.get(f),b=o.get(f),_=Rs(0,a._normalizer,0,e.keyframes,g,b),w=a._buildPlayer(e,_,v);if(e.subTimeline&&r&&h.add(f),m){var E=new sc(t,s,f);E.setRealPlayer(w),c.push(E)}return w});c.forEach(function(t){Vs(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else(r=t[e])&&(r.length&&(i=r.indexOf(n),r.splice(i,1)),0==r.length&&delete t[e]);return r}(a.playersByQueriedElement,t.element,t)})}),l.forEach(function(t){return pc(t,"ng-animating")});var p=Ps(f);return p.onDestroy(function(){l.forEach(function(t){return dc(t,"ng-animating")}),su(u,e.toStyles)}),h.forEach(function(t){Vs(r,t,[]).push(p)}),p},t.prototype._buildPlayer=function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new xs(t.duration,t.delay)},t}(),sc=function(){function t(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new xs,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return t.prototype.setRealPlayer=function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return Ms(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)},t.prototype.getRealPlayer=function(){return this._player},t.prototype.overrideTotalTime=function(t){this.totalTime=t},t.prototype.syncPlayerEvents=function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})},t.prototype._queueEvent=function(t,e){Vs(this._queuedCallbacks,t,[]).push(e)},t.prototype.onDone=function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)},t.prototype.onStart=function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)},t.prototype.onDestroy=function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)},t.prototype.init=function(){this._player.init()},t.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},t.prototype.play=function(){!this.queued&&this._player.play()},t.prototype.pause=function(){!this.queued&&this._player.pause()},t.prototype.restart=function(){!this.queued&&this._player.restart()},t.prototype.finish=function(){this._player.finish()},t.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},t.prototype.reset=function(){!this.queued&&this._player.reset()},t.prototype.setPosition=function(t){this.queued||this._player.setPosition(t)},t.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},t.prototype.triggerCallback=function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)},t}();function uc(t){return t&&1===t.nodeType}function cc(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function lc(t,e,n,r,i){var o=[];n.forEach(function(t){return o.push(cc(t))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[nc]=ec,a.push(r))}),t.set(r,o)});var s=0;return n.forEach(function(t){return cc(t,o[s++])}),a}function hc(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach(function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}var fc="$$classes";function pc(t,e){if(t.classList)t.classList.add(e);else{var n=t[fc];n||(n=t[fc]={}),n[e]=!0}}function dc(t,e){if(t.classList)t.classList.remove(e);else{var n=t[fc];n&&delete n[e]}}function yc(t,e,n){Ps(n).onDone(function(){return t.processLeaveNode(e)})}function mc(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach(function(t){return i.add(t)}):e.set(t,r),n.delete(t),!0}var vc=function(){function t(t,e,n){var r=this;this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new ac(t,e,n),this._timelineEngine=new Ju(t,e,n),this._transitionEngine.onRemovalComplete=function(t,e){return r.onRemovalComplete(t,e)}}return t.prototype.registerTrigger=function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=Cu(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'+r+'" has failed to build due to the following errors:\n - '+s.join("\n - "));a=function(t,e){return new Yu(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)},t.prototype.register=function(t,e){this._transitionEngine.register(t,e)},t.prototype.destroy=function(t,e){this._transitionEngine.destroy(t,e)},t.prototype.onInsert=function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)},t.prototype.onRemove=function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)},t.prototype.disableAnimations=function(t,e){this._transitionEngine.markElementAsDisabled(t,e)},t.prototype.process=function(t,e,n,r){if("@"==n.charAt(0)){var i=Object(l.__read)(Fs(n),2);this._timelineEngine.command(i[0],e,i[1],r)}else this._transitionEngine.trigger(t,e,n,r)},t.prototype.listen=function(t,e,n,r,i){if("@"==n.charAt(0)){var o=Object(l.__read)(Fs(n),2);return this._timelineEngine.listen(o[0],e,o[1],i)}return this._transitionEngine.listen(t,e,n,r,i)},t.prototype.flush=function(t){void 0===t&&(t=-1),this._transitionEngine.flush(t)},Object.defineProperty(t.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),t.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},t}();function gc(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=_c(e[0]),e.length>1&&(r=_c(e[e.length-1]))):e&&(n=_c(e)),n||r?new bc(t,n,r):null}var bc=function(){function t(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return t.prototype.start=function(){this._state<1&&(this._startStyles&&su(this._element,this._startStyles,this._initialStyles),this._state=1)},t.prototype.finish=function(){this.start(),this._state<2&&(su(this._element,this._initialStyles),this._endStyles&&(su(this._element,this._endStyles),this._endStyles=null),this._state=1)},t.prototype.destroy=function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(uu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(uu(this._element,this._endStyles),this._endStyles=null),su(this._element,this._initialStyles),this._state=3)},t.initialStylesByElement=new WeakMap,t}();function _c(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];wc(i)&&((e=e||{})[i]=t[i])}return e}function wc(t){return"display"===t||"position"===t}var Ec="animation",Sc="animationend",Tc=function(){function t(t,e,n,r,i,o,a){var s=this;this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return s._handleCallback(t)}}return t.prototype.apply=function(){var t,e,n;e=this._duration+"ms "+this._easing+" "+this._delay+"ms 1 normal "+this._fillMode+" "+this._name,(n=kc(t=this._element,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)","===t.charAt(n)&&0}(n),e=n+", "+e),xc(t,"",e),Ac(this._element,this._eventFn,!1),this._startTime=Date.now()},t.prototype.pause=function(){Cc(this._element,this._name,"paused")},t.prototype.resume=function(){Cc(this._element,this._name,"running")},t.prototype.setPosition=function(t){var e=Ic(this._element,this._name);this._position=t*this._duration,xc(this._element,"Delay","-"+this._position+"ms",e)},t.prototype.getPosition=function(){return this._position},t.prototype._handleCallback=function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()},t.prototype.finish=function(){this._finished||(this._finished=!0,this._onDoneFn(),Ac(this._element,this._eventFn,!0))},t.prototype.destroy=function(){var t,e,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._name,(r=Oc(n=kc(t=this._element,"").split(","),e))>=0&&(n.splice(r,1),xc(t,"",n.join(","))))},t}();function Cc(t,e,n){xc(t,"PlayState",n,Ic(t,e))}function Ic(t,e){var n=kc(t,"");return n.indexOf(",")>0?Oc(n.split(","),e):Oc([n],e)}function Oc(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ac(t,e,n){n?t.removeEventListener(Sc,e):t.addEventListener(Sc,e)}function xc(t,e,n,r){var i=Ec+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function kc(t,e){return t.style[Ec+e]}var Nc="linear",Dc=function(){function t(t,e,n,r,i,o,a,s){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=a,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||Nc,this.totalTime=r+i,this._buildStyler()}return t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.destroy=function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype._flushDoneFns=function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]},t.prototype._flushStartFns=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.finish=function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())},t.prototype.setPosition=function(t){this._styler.setPosition(t)},t.prototype.getPosition=function(){return this._styler.getPosition()},t.prototype.hasStarted=function(){return this._state>=2},t.prototype.init=function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())},t.prototype.play=function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()},t.prototype.pause=function(){this.init(),this._styler.pause()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.reset=function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()},t.prototype._buildStyler=function(){var t=this;this._styler=new Tc(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t.prototype.beforeDestroy=function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:bu(t.element,r))})}this.currentSnapshot=e},t}(),Pc=function(t){function e(e,n){var r=t.call(this)||this;return r.element=e,r._startingStyles={},r.__initialized=!1,r._styles=Zs(n),r}return Object(l.__extends)(e,t),e.prototype.init=function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),t.prototype.init.call(this))},e.prototype.play=function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),t.prototype.play.call(this))},e.prototype.destroy=function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,t.prototype.destroy.call(this))},e}(xs),Rc=function(){function t(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return t.prototype.validateStyleProperty=function(t){return Gs(t)},t.prototype.matchesElement=function(t,e){return Qs(t,e)},t.prototype.containsElement=function(t,e){return Ws(t,e)},t.prototype.query=function(t,e,n){return Ys(t,e,n)},t.prototype.computeStyle=function(t,e,n){return window.getComputedStyle(t)[e]},t.prototype.buildKeyframeElement=function(t,e,n){n=n.map(function(t){return Zs(t)});var r="@keyframes "+e+" {\n",i="";n.forEach(function(t){i=" ";var e=parseFloat(t.offset);r+=""+i+100*e+"% {\n",i+=" ",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=i+"animation-timing-function: "+n+";\n"));default:return void(r+=""+i+e+": "+n+";\n")}}),r+=i+"}\n"}),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o},t.prototype.animate=function(t,e,n,r,i,o,a){void 0===o&&(o=[]),a&&this._notifyFaultyScrubber();var s=o.filter(function(t){return t instanceof Dc}),u={};mu(n,r)&&s.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})});var c=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=vu(t,e,u));if(0==n)return new Pc(t,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);var f=gc(t,e),p=new Dc(t,e,l,n,r,i,c,f);return p.onDestroy(function(){var t;(t=h).parentNode.removeChild(t)}),p},t.prototype._notifyFaultyScrubber=function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)},t}(),Mc=function(){function t(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},t.prototype._buildPlayer=function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}},t.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()},t.prototype._triggerWebAnimation=function(t,e,n){return t.animate(e,n)},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()},t.prototype.pause=function(){this.init(),this.domPlayer.pause()},t.prototype.finish=function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()},t.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype._resetDomPlayerState=function(){this.domPlayer&&this.domPlayer.cancel()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.hasStarted=function(){return this._started},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.setPosition=function(t){this.domPlayer.currentTime=t*this.time},t.prototype.getPosition=function(){return this.domPlayer.currentTime/this.time},Object.defineProperty(t.prototype,"totalTime",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),t.prototype.beforeDestroy=function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:bu(t.element,n))}),this.currentSnapshot=e},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),jc=function(){function t(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Lc().toString()),this._cssKeyframesDriver=new Rc}return t.prototype.validateStyleProperty=function(t){return Gs(t)},t.prototype.matchesElement=function(t,e){return Qs(t,e)},t.prototype.containsElement=function(t,e){return Ws(t,e)},t.prototype.query=function(t,e,n){return Ys(t,e,n)},t.prototype.computeStyle=function(t,e,n){return window.getComputedStyle(t)[e]},t.prototype.overrideWebAnimationsSupport=function(t){this._isNativeImpl=t},t.prototype.animate=function(t,e,n,r,i,o,a){if(void 0===o&&(o=[]),!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter(function(t){return t instanceof Mc});mu(n,r)&&c.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})});var l=gc(t,e=vu(t,e=e.map(function(t){return iu(t,!1)}),u));return new Mc(t,e,s,l)},t}();function Lc(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var Vc=function(t){function e(e,n){var i=t.call(this)||this;return i._nextAnimationId=0,i._renderer=e.createRenderer(n.body,{id:"0",encapsulation:r.ViewEncapsulation.None,styles:[],data:{animation:[]}}),i}return Object(l.__extends)(e,t),e.prototype.build=function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Is(t):t;return Bc(this._renderer,null,e,"register",[n]),new Fc(e,this._renderer)},e}(Ss),Fc=function(t){function e(e,n){var r=t.call(this)||this;return r._id=e,r._renderer=n,r}return Object(l.__extends)(e,t),e.prototype.create=function(t,e){return new Uc(this._id,t,e||{},this._renderer)},e}(Ts),Uc=function(){function t(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return t.prototype._listen=function(t,e){return this._renderer.listen(this.element,"@@"+this.id+":"+t,e)},t.prototype._command=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Bc(this._renderer,this.element,this.id,t,e)},t.prototype.onDone=function(t){this._listen("done",t)},t.prototype.onStart=function(t){this._listen("start",t)},t.prototype.onDestroy=function(t){this._listen("destroy",t)},t.prototype.init=function(){this._command("init")},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this._command("play"),this._started=!0},t.prototype.pause=function(){this._command("pause")},t.prototype.restart=function(){this._command("restart")},t.prototype.finish=function(){this._command("finish")},t.prototype.destroy=function(){this._command("destroy")},t.prototype.reset=function(){this._command("reset")},t.prototype.setPosition=function(t){this._command("setPosition",t)},t.prototype.getPosition=function(){return 0},t}();function Bc(t,e,n,r,i){return t.setProperty(e,"@@"+n+":"+r,i)}var qc=function(){function t(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return t.prototype.createRenderer=function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new zc("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach(function(e){return n.engine.registerTrigger(o,a,t,e.name,e)}),new Hc(this,a,r,this.engine)},t.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},t.prototype._scheduleCountTask=function(){var t=this;this.promise.then(function(){t._microtaskId++})},t.prototype.scheduleListenerCallback=function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return e(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(t){var e=Object(l.__read)(t,2);(0,e[0])(e[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))},t.prototype.end=function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},t}(),zc=function(){function t(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(t){return e.destroyNode(t)}:null}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},t.prototype.createElement=function(t,e){return this.delegate.createElement(t,e)},t.prototype.createComment=function(t){return this.delegate.createComment(t)},t.prototype.createText=function(t){return this.delegate.createText(t)},t.prototype.appendChild=function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)},t.prototype.insertBefore=function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)},t.prototype.removeChild=function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)},t.prototype.selectRootElement=function(t,e){return this.delegate.selectRootElement(t,e)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setAttribute=function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)},t.prototype.setValue=function(t,e){this.delegate.setValue(t,e)},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.disableAnimations=function(t,e){this.engine.disableAnimations(t,e)},t}(),Hc=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.factory=e,o.namespaceId=n,o}return Object(l.__extends)(e,t),e.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)},e.prototype.listen=function(t,e,n){var r,i,o,a=this;if("@"==e.charAt(0)){var s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),c="";return"@"!=u.charAt(0)&&(u=(r=Object(l.__read)((i=u,o=i.indexOf("."),[i.substring(0,o),i.substr(o+1)]),2))[0],c=r[1]),this.engine.listen(this.namespaceId,s,u,c,function(t){a.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)},e}(zc),Kc=function(t){function e(e,n,r){return t.call(this,e.body,n,r)||this}return Object(l.__extends)(e,t),e}(vc);function Gc(){return"function"==typeof Lc()?new jc:new Rc}function Qc(){return new zu}function Wc(t,e,n){return new qc(t,e,n)}var Yc=new r.InjectionToken("AnimationModuleType"),Zc=function(){return function(){}}(),Xc=r["\u0275crt"]({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function Jc(t){return r["\u0275vid"](2,[r["\u0275qud"](671088640,1,{ripple:0}),(t()(),r["\u0275eld"](1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),r["\u0275ncd"](null,0),(t()(),r["\u0275eld"](3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),r["\u0275did"](4,212992,[[1,4]],0,ds,[r.ElementRef,r.NgZone,ja,[2,ps],[2,Yc]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),r["\u0275eld"](5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())},function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,r["\u0275nov"](e,4).unbounded)})}var $c=function(){function t(t,e){this.auth=t,this.router=e}return t.prototype.ngOnInit=function(){var t=this;this.auth.getUserState().subscribe(function(e){t.user=e})},t.prototype.login=function(){this.router.navigate(["/login"])},t.prototype.logout=function(){this.auth.logout()},t.prototype.register=function(){this.router.navigate(["/register"])},t}(),tl=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function el(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](1,null,["Logged in as: "," - ",""]))],null,function(t,e){var n=e.component;t(e,1,0,null==n.user?null:n.user.email,null==n.user?null:n.user.displayName)})}function nl(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["cooL"]))],null,null)}function rl(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"button",[["class",""],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.register()&&r),r},Jc,Xc)),r["\u0275did"](1,180224,null,0,gs,[r.ElementRef,ts,[2,Yc]],null,null),(t()(),r["\u0275ted"](-1,0,["Register"]))],null,function(t,e){t(e,0,0,r["\u0275nov"](e,1).disabled||null,"NoopAnimations"===r["\u0275nov"](e,1)._animationMode)})}function il(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"button",[["class",""],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.logout()&&r),r},Jc,Xc)),r["\u0275did"](1,180224,null,0,gs,[r.ElementRef,ts,[2,Yc]],null,null),(t()(),r["\u0275ted"](-1,0,["Logout"]))],null,function(t,e){t(e,0,0,r["\u0275nov"](e,1).disabled||null,"NoopAnimations"===r["\u0275nov"](e,1)._animationMode)})}function ol(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"button",[["class",""],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.login()&&r),r},Jc,Xc)),r["\u0275did"](1,180224,null,0,gs,[r.ElementRef,ts,[2,Yc]],null,null),(t()(),r["\u0275ted"](-1,0,["Login"]))],null,function(t,e){t(e,0,0,r["\u0275nov"](e,1).disabled||null,"NoopAnimations"===r["\u0275nov"](e,1)._animationMode)})}function al(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"h4",[["class","mt-4"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Home Page"])),(t()(),r["\u0275and"](16777216,null,null,1,null,el)),r["\u0275did"](3,16384,null,0,C,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,nl)),r["\u0275did"](5,16384,null,0,C,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,rl)),r["\u0275did"](7,16384,null,0,C,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,il)),r["\u0275did"](9,16384,null,0,C,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,ol)),r["\u0275did"](11,16384,null,0,C,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.user),t(e,5,0,n.user),t(e,7,0,!n.user),t(e,9,0,n.user),t(e,11,0,!n.user)},null)}function sl(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-home",[],null,null,null,al,tl)),r["\u0275did"](1,114688,null,0,$c,[va,vi],null,null)],function(t,e){t(e,1,0)},null)}var ul=r["\u0275ccf"]("app-home",$c,sl,{},{},[]),cl=n("bne5"),ll=(n("tHPV"),n("KQya"),n("p0ib")),hl=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new fl(t,this.compare,this.keySelector))},t}(),fl=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return l.__extends(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},e}(G.a),pl=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new dl(t,this.durationSelector))},t}(),dl=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return l.__extends(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=Object(dt.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(ft.a),yl=n("gI3B");function ml(t,e){return void 0===e&&(e=za.a),n=function(){return Object(yl.a)(t,e)},function(t){return t.lift(new pl(n))};var n}function vl(t){return function(e){return e.lift(new gl(t))}}var gl=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new bl(t),r=Object(dt.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),bl=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return l.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(ft.a);n("S5bw");var _l=function(){function t(t,e){this._ngZone=t,this._platform=e,this._scrolled=new q.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}return t.prototype.register=function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(function(){return e._scrolled.next(t)}))},t.prototype.deregister=function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))},t.prototype.scrolled=function(t){var e=this;return void 0===t&&(t=20),this._platform.isBrowser?new V.a(function(n){e._globalSubscription||e._addGlobalListener();var r=t>0?e._scrolled.pipe(ml(t)).subscribe(n):e._scrolled.subscribe(n);return e._scrolledCount++,function(){r.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}}):Object(M.a)()},t.prototype.ngOnDestroy=function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(e,n){return t.deregister(n)}),this._scrolled.complete()},t.prototype.ancestorScrolled=function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Q(function(t){return!t||n.indexOf(t)>-1}))},t.prototype.getAncestorScrollContainers=function(t){var e=this,n=[];return this.scrollContainers.forEach(function(r,i){e._scrollableContainsElement(i,t)&&n.push(i)}),n},t.prototype._scrollableContainsElement=function(t,e){var n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1},t.prototype._addGlobalListener=function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Object(cl.a)(window.document,"scroll").subscribe(function(){return t._scrolled.next()})})},t.prototype._removeGlobalListener=function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)},t.ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(r["\u0275\u0275inject"])(r.NgZone),Object(r["\u0275\u0275inject"])(ja))},token:t,providedIn:"root"}),t}(),wl=function(){function t(t,e,n,r){var i=this;this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=r,this._destroyed=new q.a,this._elementScrolled=new V.a(function(t){return i.ngZone.runOutsideAngular(function(){return Object(cl.a)(i.elementRef.nativeElement,"scroll").pipe(vl(i._destroyed)).subscribe(t)})})}return t.prototype.ngOnInit=function(){this.scrollDispatcher.register(this)},t.prototype.ngOnDestroy=function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()},t.prototype.elementScrolled=function(){return this._elementScrolled},t.prototype.getElementRef=function(){return this.elementRef},t.prototype.scrollTo=function(t){var e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;t.left=null==t.left?n?t.end:t.start:t.left,t.right=null==t.right?n?t.start:t.end:t.right,null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&Ba()!=Ua.NORMAL?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),Ba()==Ua.INVERTED?t.left=t.right:Ba()==Ua.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)},t.prototype._applyScrollToOptions=function(t){var e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))},t.prototype.measureScrollOffset=function(t){var e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;var n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&Ba()==Ua.INVERTED?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&Ba()==Ua.NEGATED?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft},t}(),El=function(){return function(){}}(),Sl=function(){function t(t,e){var n=this;this._platform=t,e.runOutsideAngular(function(){n._change=t.isBrowser?Object(ll.a)(Object(cl.a)(window,"resize"),Object(cl.a)(window,"orientationchange")):Object(M.a)(),n._invalidateCache=n.change().subscribe(function(){return n._updateViewportSize()})})}return t.prototype.ngOnDestroy=function(){this._invalidateCache.unsubscribe()},t.prototype.getViewportSize=function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t},t.prototype.getViewportRect=function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}},t.prototype.getViewportScrollPosition=function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}},t.prototype.change=function(t){return void 0===t&&(t=20),t>0?this._change.pipe(ml(t)):this._change},t.prototype._updateViewportSize=function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}},t.ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new t(Object(r["\u0275\u0275inject"])(ja),Object(r["\u0275\u0275inject"])(r.NgZone))},token:t,providedIn:"root"}),t}();function Tl(t){throw Error("A drawer was already declared for 'position=\""+t+"\"'")}var Cl=new r.InjectionToken("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),Il=function(t){function e(e,n,r,i,o){var a=t.call(this,r,i,o)||this;return a._changeDetectorRef=e,a._container=n,a}return Object(l.__extends)(e,t),e.prototype.ngAfterContentInit=function(){var t=this;this._container._contentMarginChanges.subscribe(function(){t._changeDetectorRef.markForCheck()})},e}(wl),Ol=function(){function t(t,e,n,i,o,a){var s,u=this;this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=i,this._ngZone=o,this._doc=a,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._autoFocus=!0,this._animationStarted=new q.a,this._animationEnd=new q.a,this._animationState="void",this.openedChange=new r.EventEmitter(!0),this._destroyed=new q.a,this.onPositionChanged=new r.EventEmitter,this._modeChanged=new q.a,this._opened=!1,this.openedChange.subscribe(function(t){t?(u._doc&&(u._elementFocusedBeforeDrawerWasOpened=u._doc.activeElement),u._isFocusTrapEnabled&&u._focusTrap&&u._trapFocus()):u._restoreFocus()}),this._ngZone.runOutsideAngular(function(){Object(cl.a)(u._elementRef.nativeElement,"keydown").pipe(Q(function(t){return t.keyCode===qa&&!u.disableClose&&!function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.length?e.some(function(e){return t[e]}):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t)}),vl(u._destroyed)).subscribe(function(t){return u._ngZone.run(function(){u.close(),t.stopPropagation(),t.preventDefault()})})}),this._animationEnd.pipe((s=function(t,e){return t.fromState===e.fromState&&t.toState===e.toState},function(t){return t.lift(new hl(s,void 0))})).subscribe(function(t){var e=t.fromState,n=t.toState;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&u.openedChange.emit(u._opened)})}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(t){this._mode=t,this._modeChanged.next()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disableClose",{get:function(){return this._disableClose},set:function(t){this._disableClose=Da(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoFocus",{get:function(){return this._autoFocus},set:function(t){this._autoFocus=Da(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_openedStream",{get:function(){return this.openedChange.pipe(Q(function(t){return t}),Object(H.a)(function(){}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openedStart",{get:function(){return this._animationStarted.pipe(Q(function(t){return t.fromState!==t.toState&&0===t.toState.indexOf("open")}),Object(H.a)(function(){}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_closedStream",{get:function(){return this.openedChange.pipe(Q(function(t){return!t}),Object(H.a)(function(){}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closedStart",{get:function(){return this._animationStarted.pipe(Q(function(t){return t.fromState!==t.toState&&"void"===t.toState}),Object(H.a)(function(){}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isFocusTrapEnabled",{get:function(){return this.opened&&"side"!==this.mode},enumerable:!0,configurable:!0}),t.prototype._trapFocus=function(){var t=this;this.autoFocus&&this._focusTrap.focusInitialElementWhenReady().then(function(e){e||"function"!=typeof t._elementRef.nativeElement.focus||t._elementRef.nativeElement.focus()})},t.prototype._restoreFocus=function(){if(this.autoFocus){var t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}},t.prototype.ngAfterContentInit=function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._focusTrap.enabled=this._isFocusTrapEnabled},t.prototype.ngAfterContentChecked=function(){this._platform.isBrowser&&(this._enableAnimations=!0)},t.prototype.ngOnDestroy=function(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()},Object.defineProperty(t.prototype,"opened",{get:function(){return this._opened},set:function(t){this.toggle(Da(t))},enumerable:!0,configurable:!0}),t.prototype.open=function(t){return this.toggle(!0,t)},t.prototype.close=function(){return this.toggle(!1)},t.prototype.toggle=function(t,e){var n=this;return void 0===t&&(t=!this.opened),void 0===e&&(e="program"),this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=e):(this._animationState="void",this._restoreFocus()),this._focusTrap&&(this._focusTrap.enabled=this._isFocusTrapEnabled),new Promise(function(t){n.openedChange.pipe(gt(1)).subscribe(function(e){return t(e?"open":"close")})})},Object.defineProperty(t.prototype,"_width",{get:function(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0},enumerable:!0,configurable:!0}),t.prototype._animationStartListener=function(t){this._animationStarted.next(t)},t.prototype._animationDoneListener=function(t){this._animationEnd.next(t)},t}(),Al=function(){function t(t,e,n,i,o,a,s){var u=this;void 0===a&&(a=!1),this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=i,this._animationMode=s,this.backdropClick=new r.EventEmitter,this._destroyed=new q.a,this._doCheckSubject=new q.a,this._contentMargins={left:null,right:null},this._contentMarginChanges=new q.a,t&&t.change.pipe(vl(this._destroyed)).subscribe(function(){u._validateDrawers(),u.updateContentMargins()}),o.change().pipe(vl(this._destroyed)).subscribe(function(){return u.updateContentMargins()}),this._autosize=a}return Object.defineProperty(t.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autosize",{get:function(){return this._autosize},set:function(t){this._autosize=Da(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasBackdrop",{get:function(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride},set:function(t){this._backdropOverride=null==t?null:Da(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollable",{get:function(){return this._userContent||this._content},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t,e=this;this._drawers.changes.pipe(Dt(null)).subscribe(function(){e._validateDrawers(),e._drawers.forEach(function(t){e._watchDrawerToggle(t),e._watchDrawerPosition(t),e._watchDrawerMode(t)}),(!e._drawers.length||e._isDrawerOpen(e._start)||e._isDrawerOpen(e._end))&&e.updateContentMargins(),e._changeDetectorRef.markForCheck()}),this._doCheckSubject.pipe((10,void 0===t&&(t=za.a),function(e){return e.lift(new Ha(10,t))}),vl(this._destroyed)).subscribe(function(){return e.updateContentMargins()})},t.prototype.ngOnDestroy=function(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._destroyed.next(),this._destroyed.complete()},t.prototype.open=function(){this._drawers.forEach(function(t){return t.open()})},t.prototype.close=function(){this._drawers.forEach(function(t){return t.close()})},t.prototype.updateContentMargins=function(){var t=this,e=0,n=0;if(this._left&&this._left.opened&&("side"==this._left.mode?e+=this._left._width:"push"==this._left.mode&&(e+=r=this._left._width,n-=r)),this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._width;else if("push"==this._right.mode){var r;n+=r=this._right._width,e-=r}n=n||null,(e=e||null)===this._contentMargins.left&&n===this._contentMargins.right||(this._contentMargins={left:e,right:n},this._ngZone.run(function(){return t._contentMarginChanges.next(t._contentMargins)}))},t.prototype.ngDoCheck=function(){var t=this;this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(function(){return t._doCheckSubject.next()})},t.prototype._watchDrawerToggle=function(t){var e=this;t._animationStarted.pipe(Q(function(t){return t.fromState!==t.toState}),vl(this._drawers.changes)).subscribe(function(t){"open-instant"!==t.toState&&"NoopAnimations"!==e._animationMode&&e._element.nativeElement.classList.add("mat-drawer-transition"),e.updateContentMargins(),e._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(vl(this._drawers.changes)).subscribe(function(){return e._setContainerClass(t.opened)})},t.prototype._watchDrawerPosition=function(t){var e=this;t&&t.onPositionChanged.pipe(vl(this._drawers.changes)).subscribe(function(){e._ngZone.onMicrotaskEmpty.asObservable().pipe(gt(1)).subscribe(function(){e._validateDrawers()})})},t.prototype._watchDrawerMode=function(t){var e=this;t&&t._modeChanged.pipe(vl(Object(ll.a)(this._drawers.changes,this._destroyed))).subscribe(function(){e.updateContentMargins(),e._changeDetectorRef.markForCheck()})},t.prototype._setContainerClass=function(t){t?this._element.nativeElement.classList.add("mat-drawer-opened"):this._element.nativeElement.classList.remove("mat-drawer-opened")},t.prototype._validateDrawers=function(){var t=this;this._start=this._end=null,this._drawers.forEach(function(e){"end"==e.position?(null!=t._end&&Tl("end"),t._end=e):(null!=t._start&&Tl("start"),t._start=e)}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)},t.prototype._isPushed=function(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode},t.prototype._onBackdropClicked=function(){this.backdropClick.emit(),this._closeModalDrawer()},t.prototype._closeModalDrawer=function(){var t=this;[this._start,this._end].filter(function(e){return e&&!e.disableClose&&t._canHaveBackdrop(e)}).forEach(function(t){return t.close()})},t.prototype._isShowingBackdrop=function(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)},t.prototype._canHaveBackdrop=function(t){return"side"!==t.mode||!!this._backdropOverride},t.prototype._isDrawerOpen=function(t){return null!=t&&t.opened},t}(),xl=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return Object(l.__extends)(e,t),e}(Il),kl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fixedInViewport=!1,e._fixedTopGap=0,e._fixedBottomGap=0,e}return Object(l.__extends)(e,t),Object.defineProperty(e.prototype,"fixedInViewport",{get:function(){return this._fixedInViewport},set:function(t){this._fixedInViewport=Da(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedTopGap",{get:function(){return this._fixedTopGap},set:function(t){this._fixedTopGap=Pa(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedBottomGap",{get:function(){return this._fixedBottomGap},set:function(t){this._fixedBottomGap=Pa(t)},enumerable:!0,configurable:!0}),e}(Ol),Nl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.__extends)(e,t),e}(Al),Dl=function(){return function(){}}(),Pl=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Rl(t){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var Ml=r["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"transform",definitions:[{type:0,name:"open, open-instant",styles:{type:6,styles:{transform:"none",visibility:"visible"},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{"box-shadow":"none",visibility:"hidden"},offset:null},options:void 0},{type:1,expr:"void => open-instant",animation:{type:4,styles:null,timings:"0ms"},options:null},{type:1,expr:"void <=> open, open-instant => void",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}});function jl(t){return r["\u0275vid"](2,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","mat-drawer-inner-container"]],null,null,null,null,null)),r["\u0275ncd"](null,0)],null,null)}var Ll=r["\u0275crt"]({encapsulation:2,styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-opened{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}"],data:{}});function Vl(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,"div",[["class","mat-drawer-backdrop"]],[[2,"mat-drawer-shown",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component._onBackdropClicked()&&r),r},null,null))],null,function(t,e){t(e,0,0,e.component._isShowingBackdrop())})}function Fl(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,3,"mat-sidenav-content",[["cdkScrollable",""],["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,Rl,Pl)),r["\u0275did"](1,212992,null,0,wl,[r.ElementRef,_l,r.NgZone,[2,ws]],null,null),r["\u0275did"](2,1294336,null,0,xl,[r.ChangeDetectorRef,Nl,r.ElementRef,_l,r.NgZone],null,null),r["\u0275ncd"](0,2)],function(t,e){t(e,1,0),t(e,2,0)},function(t,e){t(e,0,0,r["\u0275nov"](e,2)._container._contentMargins.left,r["\u0275nov"](e,2)._container._contentMargins.right)})}function Ul(t){return r["\u0275vid"](2,[r["\u0275qud"](671088640,1,{_userContent:0}),(t()(),r["\u0275and"](16777216,null,null,1,null,Vl)),r["\u0275did"](2,16384,null,0,C,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),r["\u0275ncd"](null,0),r["\u0275ncd"](null,1),(t()(),r["\u0275and"](16777216,null,null,1,null,Fl)),r["\u0275did"](6,16384,null,0,C,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.hasBackdrop),t(e,6,0,!n._content)},null)}var Bl=n("QZHI"),ql=function(){function t(){this.cardColor=1,this.transformSwing={first:"10%",second:"30%"},this.color="1px 8px 6px #a5a5a5"}return t.prototype.ngOnInit=function(){},t.prototype.heroEvents=function(t){var e=window.pageYOffset;this.scrollPositionNew=e/5,this.scrollPositionNew2=e/10+3,this.cardColor=this.scrollPositionNew,this.color=this.scrollPositionNew+"px  "+this.scrollPositionNew2+"px 4px #a5a5a5"},t}(),zl=r["\u0275crt"]({encapsulation:0,styles:[["h1[_ngcontent-%COMP%]{font-size:2em;padding:10px}.heroPic1[_ngcontent-%COMP%]{height:634px;background:#c6ffdd;background:linear-gradient(to top,#f7797d,#fbd786,#c6ffdd);background-repeat:no-repeat;width:100%;grid-row-start:1;grid-row-end:1;position:relative;z-index:1}.heroPic2[_ngcontent-%COMP%]{background-image:url(hero-image-2.290573a2ab8ffc5cff0f.png);height:750px;background-size:100%;background-repeat:no-repeat;width:100%;grid-row-start:2;grid-row-end:2;position:relative;top:-201px;z-index:2;display:flex;justify-content:center;align-items:top}svg[_ngcontent-%COMP%]{overflow:visible}section.heroContainer[_ngcontent-%COMP%]{display:grid;grid-template-columns:100%;grid-template-rows:364px 300px 300px}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{-webkit-animation-name:fadeIn;animation-name:fadeIn}@-webkit-keyframes fadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@keyframes fadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}.fadeInDown[_ngcontent-%COMP%]{-webkit-animation-name:fadeInDown;animation-name:fadeInDown}.animated[_ngcontent-%COMP%]{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.delay-1s[_ngcontent-%COMP%]{-webkit-animation-delay:.5s;animation-delay:.5s}"]],data:{}});function Hl(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,8,"section",[["class","heroContainer "]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,2,"div",[["class","heroPic1 generalHero"],["parallax",""]],null,null,null,null,null)),r["\u0275did"](2,81920,null,0,Bl.Parallax,[r.ElementRef],{config:[0,"config"]},null),r["\u0275pod"](3,{initialValue:0,ratio:1}),(t()(),r["\u0275eld"](4,0,null,null,4,"div",[["class","heroPic2 generalHero delay-1s fadeIn animated"],["parallax",""]],null,null,null,null,null)),r["\u0275did"](5,81920,null,0,Bl.Parallax,[r.ElementRef],{config:[0,"config"]},null),r["\u0275pod"](6,{initialValue:0,ratio:1}),(t()(),r["\u0275eld"](7,0,null,null,1,"h1",[["class","fadeInDown animated delay-1s"]],[[4,"text-shadow",null]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Port Mac Business Associations"]))],function(t,e){var n=t(e,3,0,-20,.2);t(e,2,0,n);var r=t(e,6,0,10,.55);t(e,5,0,r)},function(t,e){t(e,7,0,e.component.color)})}var Kl=function(){function t(){this.surfOpacity1=0}return t.prototype.ngOnInit=function(){},t.prototype.contentEvents=function(t){var e=window.pageYOffset;e>950&&e<1950?(this.surfOpacity1=.0041*(e-950),console.log(e)):e>1951?this.surfOpacity1=1+(1950-e)/200:e<949&&(this.surfOpacity1=0)},t}(),Gl=r["\u0275crt"]({encapsulation:0,styles:[[".boardConatiner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.innerBoard[_ngcontent-%COMP%]{display:grid;grid-template-columns:100%;grid-template-rows:250px}.fieldsetContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}img.surferImage[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:1;grid-row-start:1;display:flex;justify-content:center;align-items:center;height:100%}.boardConatiner[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{grid-row-start:1;grid-row-end:1;grid-column-start:1;grid-column-end:1;font-weight:700;font-size:1.7em;display:flex;align-items:center;justify-content:center;color:#fff;text-shadow:1px 1px 3px #000}"]],data:{}});function Ql(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,20,"div",[["class","contantMajorContainer"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,4,"div",[["class","boardConatiner"]],[[4,"opacity",null]],null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,3,"div",[["class","innerBoard"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,0,"img",[["class","surferImage"],["src","../assets/SurfCin2.gif"],["width","400px"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["About"])),(t()(),r["\u0275eld"](6,0,null,null,14,"div",[["class","fieldsetContainer"]],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,13,"fieldset",[],[[4,"opacity",null]],null,null,null,null)),(t()(),r["\u0275eld"](8,0,null,null,1,"legend",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["About"])),(t()(),r["\u0275eld"](10,0,null,null,10,"article",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" The goal is to have a monthly business group that "])),(t()(),r["\u0275eld"](12,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["supports"])),(t()(),r["\u0275ted"](-1,null,[", "])),(t()(),r["\u0275eld"](15,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["mentors"])),(t()(),r["\u0275ted"](-1,null,[" and "])),(t()(),r["\u0275eld"](18,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["trades"])),(t()(),r["\u0275ted"](-1,null,[" resources with each other. We would understand each other's business and know how to best talk with our networks to promote each other. Instead of trying to pressure each other into creating leads we can just have leads develop organicly; it's best when the customer is truly in need of a service. Because we will have differenct companies, producs and servces we can give advice related to our skills and experience. And if someone wants to do a free exchange of services or products it could be a great deal for both members of the club. "]))],null,function(t,e){var n=e.component;t(e,1,0,n.surfOpacity1),t(e,7,0,n.surfOpacity1)})}var Wl=function(){function t(){this.whoWeAreOpacity=0}return t.prototype.ngOnInit=function(){},t.prototype.contentEvents=function(t){var e=window.pageYOffset;e>2250&&e<3e3?(this.whoWeAreOpacity=.0041*(e-2259),console.log(e)):e>3001?this.whoWeAreOpacity=1+(3e3-e)/400:e<2249&&(this.whoWeAreOpacity=0)},t}(),Yl=r["\u0275crt"]({encapsulation:0,styles:[[".boardConatiner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.innerBoard[_ngcontent-%COMP%]{display:grid;grid-template-columns:100%;grid-template-rows:250px}.fieldsetContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}img.surferImage[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:1;grid-row-start:1;display:flex;justify-content:center;align-items:center;height:100%}.boardConatiner[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{grid-row-start:1;grid-row-end:1;grid-column-start:1;grid-column-end:1;font-weight:700;font-size:1.7em;display:flex;align-items:center;justify-content:center;color:#fff;text-shadow:1px 1px 3px #000}"]],data:{}});function Zl(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,20,"div",[["class","contantMajorContainer"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,4,"div",[["class","boardConatiner"]],[[4,"opacity",null]],null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,3,"div",[["class","innerBoard"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,0,"img",[["class","surferImage"],["src","../assets/dogBeach.gif"],["width","400px"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Who We Are"])),(t()(),r["\u0275eld"](6,0,null,null,14,"div",[["class","fieldsetContainer"]],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,13,"fieldset",[],[[4,"opacity",null]],null,null,null,null)),(t()(),r["\u0275eld"](8,0,null,null,1,"legend",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Local Businesses"])),(t()(),r["\u0275eld"](10,0,null,null,10,"article",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" The goal is to have a monthly business group that "])),(t()(),r["\u0275eld"](12,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["supports"])),(t()(),r["\u0275ted"](-1,null,[", "])),(t()(),r["\u0275eld"](15,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["mentors"])),(t()(),r["\u0275ted"](-1,null,[" and "])),(t()(),r["\u0275eld"](18,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["trades"])),(t()(),r["\u0275ted"](-1,null,[" resources with each other. We would understand each other's business and know how to best talk with our networks to promote each other. Instead of trying to pressure each other into creating leads we can just have leads develop organicly; it's best when the customer is truly in need of a service. Because we will have differenct companies, producs and servces we can give advice related to our skills and experience. And if someone wants to do a free exchange of services or products it could be a great deal for both members of the club. "]))],null,function(t,e){var n=e.component;t(e,1,0,n.whoWeAreOpacity),t(e,7,0,n.whoWeAreOpacity)})}var Xl=function(){function t(){this.joinfOpacity1=0}return t.prototype.ngOnInit=function(){},t.prototype.contentEvents=function(t){var e=window.pageYOffset;e>3550&&e<6e3?(this.joinfOpacity1=.0041*(e-3550),this.joinLaz=!0):e>6001?this.joinfOpacity1=1+(6e3-e)/200:e<2e3&&(this.joinfOpacity1=0)},t}(),Jl=r["\u0275crt"]({encapsulation:0,styles:[[".boardConatiner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.innerBoard[_ngcontent-%COMP%]{display:grid;grid-template-columns:100%;grid-template-rows:250px}.fieldsetContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}img.surferImage[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:1;grid-row-start:1;display:flex;justify-content:center;align-items:center;height:100%}.boardConatiner[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{grid-row-start:1;grid-row-end:1;grid-column-start:1;grid-column-end:1;font-weight:700;font-size:1.7em;display:flex;align-items:center;justify-content:center;color:#fff;text-shadow:1px 1px 3px #000}"]],data:{}});function $l(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,"img",[["class","surferImage"],["src","../assets/whales.gif"],["width","400px"]],null,null,null,null,null))],null,null)}function th(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,21,"div",[["class","contantMajorContainer"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,5,"div",[["class","boardConatiner"]],[[4,"opacity",null]],null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,4,"div",[["class","innerBoard"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,$l)),r["\u0275did"](4,16384,null,0,C,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](5,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Join"])),(t()(),r["\u0275eld"](7,0,null,null,14,"div",[["class","fieldsetContainer"]],null,null,null,null,null)),(t()(),r["\u0275eld"](8,0,null,null,13,"fieldset",[],[[4,"opacity",null]],null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,1,"legend",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Join"])),(t()(),r["\u0275eld"](11,0,null,null,10,"article",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" The goal is to have a monthly business group that "])),(t()(),r["\u0275eld"](13,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["supports"])),(t()(),r["\u0275ted"](-1,null,[", "])),(t()(),r["\u0275eld"](16,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["mentors"])),(t()(),r["\u0275ted"](-1,null,[" and "])),(t()(),r["\u0275eld"](19,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["trades"])),(t()(),r["\u0275ted"](-1,null,[" resources with each other. We would understand each other's business and know how to best talk with our networks to promote each other. Instead of trying to pressure each other into creating leads we can just have leads develop organicly; it's best when the customer is truly in need of a service. Because we will have differenct companies, producs and servces we can give advice related to our skills and experience. And if someone wants to do a free exchange of services or products it could be a great deal for both members of the club. "]))],function(t,e){t(e,4,0,e.component.joinLaz)},function(t,e){var n=e.component;t(e,1,0,n.joinfOpacity1),t(e,8,0,n.joinfOpacity1)})}var eh=r["\u0275crt"]({encapsulation:0,styles:[["@media only screen and (min-width:601px){.mobileSideNav[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width:600px){.mobileSideNav[_ngcontent-%COMP%]{display:block}}.superContentContainer[_ngcontent-%COMP%]{height:5000px}.navbarContainer[_ngcontent-%COMP%]{position:fixed;z-index:3;width:100%;padding:0;margin:0;background-color:#d2daf738}.stickyContentM[_ngcontent-%COMP%]{width:100%;height:2000px;z-index:3;top:0}ul[_ngcontent-%COMP%]{margin:0 auto;display:flex;justify-content:space-around;width:50%;padding:0;font-size:1.5em;cursor:pointer}li[_ngcontent-%COMP%]{list-style:none;z-index:9999;position:relative}li[_ngcontent-%COMP%]:hover{color:red}"]],data:{}});function nh(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,50,"mat-sidenav-container",[["class","example-container mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,Ul,Ll)),r["\u0275did"](1,1490944,null,2,Nl,[[2,ws],r.ElementRef,r.NgZone,r.ChangeDetectorRef,Sl,Cl,[2,Yc]],null,null),r["\u0275qud"](603979776,1,{_drawers:1}),r["\u0275qud"](603979776,2,{_content:0}),(t()(),r["\u0275eld"](4,0,null,0,13,"mat-sidenav",[["class","mat-drawer mat-sidenav"],["mode","over"],["tabIndex","-1"]],[[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"],[40,"@transform",0]],[[null,"click"],["component","@transform.start"],["component","@transform.done"]],function(t,e,n){var i=!0;return"component:@transform.start"===e&&(i=!1!==r["\u0275nov"](t,5)._animationStartListener(n)&&i),"component:@transform.done"===e&&(i=!1!==r["\u0275nov"](t,5)._animationDoneListener(n)&&i),"click"===e&&(i=!1!==r["\u0275nov"](t,5).toggle()&&i),i},jl,Ml)),r["\u0275did"](5,3325952,[[1,4],["sidenav",4]],0,kl,[r.ElementRef,Xa,ts,ja,r.NgZone,[2,x]],{mode:[0,"mode"]},null),(t()(),r["\u0275eld"](6,0,null,0,11,"ul",[],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,2,"li",[],null,[[null,"mousedown"]],function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==r["\u0275nov"](t,8).onMouseClick()&&i),i},null,null)),r["\u0275did"](8,81920,null,0,s,[a],{scrollTo:[0,"scrollTo"],scrollDuration:[1,"scrollDuration"],scrollOffset:[2,"scrollOffset"]},null),(t()(),r["\u0275ted"](-1,null,["About"])),(t()(),r["\u0275eld"](10,0,null,null,2,"li",[],null,[[null,"mousedown"]],function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==r["\u0275nov"](t,11).onMouseClick()&&i),i},null,null)),r["\u0275did"](11,81920,null,0,s,[a],{scrollTo:[0,"scrollTo"],scrollDuration:[1,"scrollDuration"],scrollOffset:[2,"scrollOffset"]},null),(t()(),r["\u0275ted"](-1,null,["Our Compnaies"])),(t()(),r["\u0275eld"](13,0,null,null,2,"li",[],null,[[null,"mousedown"]],function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==r["\u0275nov"](t,14).onMouseClick()&&i),i},null,null)),r["\u0275did"](14,81920,null,0,s,[a],{scrollTo:[0,"scrollTo"],scrollDuration:[1,"scrollDuration"],scrollOffset:[2,"scrollOffset"]},null),(t()(),r["\u0275ted"](-1,null,["Join"])),(t()(),r["\u0275eld"](16,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Members Section"])),(t()(),r["\u0275eld"](18,0,null,1,32,"mat-sidenav-content",[["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,Rl,Pl)),r["\u0275did"](19,1294336,[[2,4]],0,xl,[r.ChangeDetectorRef,Nl,r.ElementRef,_l,r.NgZone],null,null),(t()(),r["\u0275eld"](20,0,null,0,30,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](21,0,null,null,2,"button",[["class","mobileSideNav"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,5).toggle()&&i),i},Jc,Xc)),r["\u0275did"](22,180224,null,0,gs,[r.ElementRef,ts,[2,Yc]],null,null),(t()(),r["\u0275ted"](-1,0,["\u2715"])),(t()(),r["\u0275eld"](24,0,null,null,12,"div",[["class","navbarContainer"]],[[4,"background-color",null]],null,null,null,null)),(t()(),r["\u0275eld"](25,0,null,null,11,"ul",[],null,null,null,null,null)),(t()(),r["\u0275eld"](26,0,null,null,2,"li",[],null,[[null,"mousedown"]],function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==r["\u0275nov"](t,27).onMouseClick()&&i),i},null,null)),r["\u0275did"](27,81920,null,0,s,[a],{scrollTo:[0,"scrollTo"],scrollDuration:[1,"scrollDuration"],scrollOffset:[2,"scrollOffset"]},null),(t()(),r["\u0275ted"](-1,null,["About"])),(t()(),r["\u0275eld"](29,0,null,null,2,"li",[],null,[[null,"mousedown"]],function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==r["\u0275nov"](t,30).onMouseClick()&&i),i},null,null)),r["\u0275did"](30,81920,null,0,s,[a],{scrollTo:[0,"scrollTo"],scrollDuration:[1,"scrollDuration"],scrollOffset:[2,"scrollOffset"]},null),(t()(),r["\u0275ted"](-1,null,["Our Compnaies"])),(t()(),r["\u0275eld"](32,0,null,null,2,"li",[],null,[[null,"mousedown"]],function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==r["\u0275nov"](t,33).onMouseClick()&&i),i},null,null)),r["\u0275did"](33,81920,null,0,s,[a],{scrollTo:[0,"scrollTo"],scrollDuration:[1,"scrollDuration"],scrollOffset:[2,"scrollOffset"]},null),(t()(),r["\u0275ted"](-1,null,["Join"])),(t()(),r["\u0275eld"](35,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Members Section"])),(t()(),r["\u0275eld"](37,0,null,null,1,"app-hero",[],null,[["window","scroll"]],function(t,e,n){var i=!0;return"window:scroll"===e&&(i=!1!==r["\u0275nov"](t,38).heroEvents(n)&&i),i},Hl,zl)),r["\u0275did"](38,114688,null,0,ql,[],null,null),(t()(),r["\u0275eld"](39,0,null,null,9,"div",[["class","superContentContainer"]],null,null,null,null,null)),(t()(),r["\u0275eld"](40,0,[["top",1]],null,0,"div",[],null,null,null,null,null)),(t()(),r["\u0275eld"](41,0,null,null,1,"app-contentmajor",[["class","stickyContentM"]],[[4,"position",null],[4,"top",null]],[["window","scroll"]],function(t,e,n){var i=!0;return"window:scroll"===e&&(i=!1!==r["\u0275nov"](t,42).contentEvents(n)&&i),i},Ql,Gl)),r["\u0275did"](42,114688,null,0,Kl,[],null,null),(t()(),r["\u0275eld"](43,0,[["companies",1]],null,0,"div",[],null,null,null,null,null)),(t()(),r["\u0275eld"](44,0,null,null,1,"app-whoweare",[["class","stickyContentM"]],[[4,"position",null],[4,"top",null]],[["window","scroll"]],function(t,e,n){var i=!0;return"window:scroll"===e&&(i=!1!==r["\u0275nov"](t,45).contentEvents(n)&&i),i},Zl,Yl)),r["\u0275did"](45,114688,null,0,Wl,[],null,null),(t()(),r["\u0275eld"](46,0,[["join",1]],null,0,"div",[],null,null,null,null,null)),(t()(),r["\u0275eld"](47,0,null,null,1,"app-join",[["class","stickyContentM"]],[[4,"position",null],[4,"display",null],[4,"top",null]],[["window","scroll"]],function(t,e,n){var i=!0;return"window:scroll"===e&&(i=!1!==r["\u0275nov"](t,48).contentEvents(n)&&i),i},th,Jl)),r["\u0275did"](48,114688,null,0,Xl,[],null,null),(t()(),r["\u0275eld"](49,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](50,212992,null,0,_i,[bi,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],function(t,e){t(e,1,0),t(e,5,0,"over"),t(e,8,0,r["\u0275nov"](e,40),1e3,500),t(e,11,0,r["\u0275nov"](e,43),1e3,1500),t(e,14,0,r["\u0275nov"](e,46),1e3,2500),t(e,19,0),t(e,27,0,r["\u0275nov"](e,40),1e3,500),t(e,30,0,r["\u0275nov"](e,43),1e3,1500),t(e,33,0,r["\u0275nov"](e,46),1e3,2500),t(e,38,0),t(e,42,0),t(e,45,0),t(e,48,0),t(e,50,0)},function(t,e){var n=e.component;t(e,0,0,r["\u0275nov"](e,1)._backdropOverride),t(e,4,0,null,"end"===r["\u0275nov"](e,5).position,"over"===r["\u0275nov"](e,5).mode,"push"===r["\u0275nov"](e,5).mode,"side"===r["\u0275nov"](e,5).mode,r["\u0275nov"](e,5).fixedInViewport,r["\u0275nov"](e,5).fixedInViewport?r["\u0275nov"](e,5).fixedTopGap:null,r["\u0275nov"](e,5).fixedInViewport?r["\u0275nov"](e,5).fixedBottomGap:null,r["\u0275nov"](e,5)._animationState),t(e,18,0,r["\u0275nov"](e,19)._container._contentMargins.left,r["\u0275nov"](e,19)._container._contentMargins.right),t(e,21,0,r["\u0275nov"](e,22).disabled||null,"NoopAnimations"===r["\u0275nov"](e,22)._animationMode),t(e,24,0,n.navBackgoundColorChange),t(e,41,0,n.stickyMajor,n.topNavFix),t(e,44,0,n.stickyMajor2,n.topNavFix),t(e,47,0,n.stickyMajor3,n.stickyMajor33,n.topNavFix)})}function rh(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-root",[],null,[["window","scroll"]],function(t,e,n){var i=!0;return"window:scroll"===e&&(i=!1!==r["\u0275nov"](t,1).contentEventsM(n)&&i),i},nh,eh)),r["\u0275did"](1,49152,null,0,c,[a],null,null)],null,null)}var ih=r["\u0275ccf"]("app-root",c,rh,{},{},[]),oh=function(){function t(){}return t.prototype.create=function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)},t.ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new t},token:t,providedIn:"root"}),t}(),ah=function(){return function(){}}(),sh=n("wj3C"),uh=n.n(sh);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.o),reject:t(this.g)}},e.prototype.o=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.u(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.l(t):this.h(t)}},e.prototype.l=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.m()},e.prototype.m=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.u=function(t){var e=this.f();t.Ja(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.Ja(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ja=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Ja(e,n)})},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e(function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Ja(i(a.length-1),e),r=n.next()}while(!r.done)})},e});var o=o||{},a=this;function s(t){return"string"==typeof t}function u(t){return"boolean"==typeof t}var c=/^[\w+\/_-]+[=]{0,2}$/,l=null;function h(){}function f(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return null===t}function d(t){return"array"==f(t)}function y(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function m(t){return"function"==f(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var g="closure_uid_"+(1e9*Math.random()>>>0),b=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function S(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.cd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function I(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function O(t){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function A(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");O.call(this,n+t[r])}function x(t,e){throw new A("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function k(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function N(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function D(){this.b=this.a=null}C(O,Error),O.prototype.name="CustomError",C(A,O),A.prototype.name="AssertionError",k.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var P=new k(function(){return new M},function(t){t.reset()});function R(){var t=vt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function M(){this.next=this.b=this.a=null}D.prototype.add=function(t,e){var n=P.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},M.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},M.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},L=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},V=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=s(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},F=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function U(t,e){return 0<=j(t,e)}function B(t,e){var n;return(n=0<=(e=j(t,e)))&&Array.prototype.splice.call(t,e,1),n}function q(t,e){!function(t,e){for(var n=s(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function z(t){return Array.prototype.concat.apply([],arguments)}function H(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var K,G=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Q=/&/g,W=/</g,Y=/>/g,Z=/"/g,X=/'/g,J=/\x00/g,$=/[\x00&<>"']/;function tt(t,e){return-1!=t.indexOf(e)}function et(t,e){return t<e?-1:t>e?1:0}t:{var nt=a.navigator;if(nt){var rt=nt.userAgent;if(rt){K=rt;break t}}K=""}function it(t){return tt(K,t)}function ot(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function at(t){for(var e in t)return!1;return!0}function st(t){var e,n={};for(e in t)n[e]=t[e];return n}var ut,ct,lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<lt.length;o++)n=lt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ft(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function pt(t){return $.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Q,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(W,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Y,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Z,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(X,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(J,"&#0;"))),t}function dt(t){a.setTimeout(function(){throw t},0)}function yt(t,e){ct||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);ct=function(){t.then(gt)}}else ct=function(){var t=gt;!m(a.setImmediate)||a.Window&&a.Window.prototype&&!it("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ut||(ut=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!it("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!it("Trident")&&!it("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){r.next={yb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){a.setTimeout(t,0)}}()),ut(t)):a.setImmediate(t)}}(),mt||(ct(),mt=!0),vt.add(t,e)}var mt=!1,vt=new D;function gt(){for(var t;t=R();){try{t.a.call(t.b)}catch(e){dt(e)}N(P,t)}mt=!1}function bt(t,e){if(this.a=_t,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){Dt(n,wt,t)},function(t){if(!(t instanceof Ft))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Dt(n,Et,t)})}catch(r){Dt(this,Et,r)}}var _t=0,wt=2,Et=3;function St(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}St.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Tt=new k(function(){return new St},function(t){t.reset()});function Ct(t,e,n){var r=Tt.get();return r.g=t,r.b=e,r.f=n,r}function It(t){if(t instanceof bt)return t;var e=new bt(h);return Dt(e,wt,t),e}function Ot(t){return new bt(function(e,n){n(t)})}function At(t,e,n){Pt(t,e,n,null)||yt(S(e,t))}function xt(t){return new bt(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Eb:!0,value:o}:{Eb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)At(t[o],S(i,o,!0),S(i,o,!1));else e(r)})}function kt(t,e){t.b||t.a!=wt&&t.a!=Et||Rt(t),t.f?t.f.next=e:t.b=e,t.f=e}function Nt(t,e,n,r){var i=Ct(null,null,null);return i.a=new bt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ft?o(e):t(i)}catch(a){o(a)}}:o}),i.a.c=t,kt(t,i),i.a}function Dt(t,e,n){t.a==_t&&(t===n&&(e=Et,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pt(n,t.Lc,t.Mc,t)||(t.i=n,t.a=e,t.c=null,Rt(t),e!=Et||n instanceof Ft||function(t,e){t.g=!0,yt(function(){t.g&&Vt.call(null,e)})}(t,n)))}function Pt(t,e,n,r){if(t instanceof bt)return kt(t,Ct(e||h,n||null,r)),!0;if(I(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(m(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Rt(t){t.h||(t.h=!0,yt(t.Wb,t))}function Mt(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function jt(t,e,n,r){if(n==Et&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Lt(e,n,r);else try{e.c?e.g.call(e.f):Lt(e,n,r)}catch(i){Vt.call(null,i)}N(Tt,e)}function Lt(t,e,n){e==wt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}bt.prototype.then=function(t,e,n){return Nt(this,m(t)?t:null,m(e)?e:null,n)},bt.prototype.$goog_Thenable=!0,(t=bt.prototype).ia=function(t,e){return(t=Ct(t,t,e)).c=!0,kt(this,t),this},t.s=function(t,e){return Nt(this,null,t,e)},t.cancel=function(t){this.a==_t&&yt(function(){!function t(e,n){if(e.a==_t)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==_t&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Mt(r),jt(r,o,Et,n)))}e.c=null}else Dt(e,Et,n)}(this,new Ft(t))},this)},t.Lc=function(t){this.a=_t,Dt(this,wt,t)},t.Mc=function(t){this.a=_t,Dt(this,Et,t)},t.Wb=function(){for(var t;t=Mt(this);)jt(this,t,this.a,this.i);this.h=!1};var Vt=dt;function Ft(t){O.call(this,t)}function Ut(){0!=Bt&&(qt[this[g]||(this[g]=++b)]=this),this.qa=this.qa,this.ja=this.ja}C(Ft,O),Ft.prototype.name="cancel";var Bt=0,qt={};function zt(t){if(!t.qa&&(t.qa=!0,t.va(),0!=Bt)){var e=t[g]||(t[g]=++b);if(0!=Bt&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete qt[e]}}function Ht(t){return Ht[" "](t),t}Ut.prototype.qa=!1,Ut.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Ht[" "]=h;var Kt,Gt,Qt=it("Opera"),Wt=it("Trident")||it("MSIE"),Yt=it("Edge"),Zt=Yt||Wt,Xt=it("Gecko")&&!(tt(K.toLowerCase(),"webkit")&&!it("Edge"))&&!(it("Trident")||it("MSIE"))&&!it("Edge"),Jt=tt(K.toLowerCase(),"webkit")&&!it("Edge");function $t(){var t=a.document;return t?t.documentMode:void 0}t:{var te="",ee=(Gt=K,Xt?/rv:([^\);]+)(\)|;)/.exec(Gt):Yt?/Edge\/([\d\.]+)/.exec(Gt):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):Jt?/WebKit\/(\S+)/.exec(Gt):Qt?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(ee&&(te=ee?ee[1]:""),Wt){var ne=$t();if(null!=ne&&ne>parseFloat(te)){Kt=String(ne);break t}}Kt=te}var re,ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=G(String(Kt)).split("."),r=G(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=et(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||et(0==a[2].length,0==s[2].length)||et(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var ae=a.document;re=ae&&Wt?$t()||("CSS1Compat"==ae.compatMode?parseInt(Kt,10):5):void 0;var se=Object.freeze||function(t){return t},ue=!Wt||9<=Number(re),ce=Wt&&!oe("9"),le=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function he(t,e){this.type=t,this.b=this.target=e,this.Kb=!0}function fe(t,e){if(he.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{Ht(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:pe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}he.prototype.preventDefault=function(){this.Kb=!1},C(fe,he);var pe=se({2:"touch",3:"pen",4:"mouse"});fe.prototype.preventDefault=function(){fe.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ce)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},fe.prototype.f=function(){return this.a};var de="closure_listenable_"+(1e6*Math.random()|0),ye=0;function me(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Na=i,this.key=++ye,this.oa=this.Ia=!1}function ve(t){t.oa=!0,t.listener=null,t.proxy=null,t.src=null,t.Na=null}function ge(t){this.src=t,this.a={},this.b=0}function be(t,e){var n=e.type;n in t.a&&B(t.a[n],e)&&(ve(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function _e(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.oa&&o.listener==e&&o.capture==!!n&&o.Na==r)return i}return-1}ge.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=_e(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new me(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var we="closure_lm_"+(1e6*Math.random()|0),Ee={};function Se(t,e,n,r,i){if(r&&r.once)Ce(t,e,n,r,i);else if(d(e))for(var o=0;o<e.length;o++)Se(t,e[o],n,r,i);else n=Re(n),t&&t[de]?je(t,e,n,v(r)?!!r.capture:!!r,i):Te(t,e,n,!1,r,i)}function Te(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=De(t);if(s||(t[we]=s=new ge(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=Ne,e=ue?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)le||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ae(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function Ce(t,e,n,r,i){if(d(e))for(var o=0;o<e.length;o++)Ce(t,e[o],n,r,i);else n=Re(n),t&&t[de]?Le(t,e,n,v(r)?!!r.capture:!!r,i):Te(t,e,n,!0,r,i)}function Ie(t,e,n,r,i){if(d(e))for(var o=0;o<e.length;o++)Ie(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=Re(n),t&&t[de]?(t=t.m,(e=String(e).toString())in t.a&&-1<(n=_e(o=t.a[e],n,r,i))&&(ve(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=De(t))&&(e=t.a[e.toString()],t=-1,e&&(t=_e(e,n,r,i)),(n=-1<t?e[t]:null)&&Oe(n))}function Oe(t){if("number"!=typeof t&&t&&!t.oa){var e=t.src;if(e&&e[de])be(e.m,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ae(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=De(e))?(be(n,t),0==n.b&&(n.src=null,e[we]=null)):ve(t)}}}function Ae(t){return t in Ee?Ee[t]:Ee[t]="on"+t}function xe(t,e,n,r){var i=!0;if((t=De(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.oa&&(o=ke(o,r),i=i&&!1!==o)}return i}function ke(t,e){var n=t.listener,r=t.Na||t.src;return t.Ia&&Oe(t),n.call(r,e)}function Ne(t,e){if(t.oa)return!0;if(!ue){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new fe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=xe(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=xe(r[i],t,!1,e),n=n&&o}return n}return ke(t,new fe(e,this))}function De(t){return(t=t[we])instanceof ge?t:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(t){return m(t)?t:(t[Pe]||(t[Pe]=function(e){return t.handleEvent(e)}),t[Pe])}function Me(){Ut.call(this),this.m=new ge(this),this.Pb=this,this.Wa=null}function je(t,e,n,r,i){t.m.add(String(e),n,!1,r,i)}function Le(t,e,n,r,i){t.m.add(String(e),n,!0,r,i)}function Ve(t,e,n,r){if(!(e=t.m.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.oa&&a.capture==n){var s=a.listener,u=a.Na||a.src;a.Ia&&be(t.m,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Kb}function Fe(t,e,n){if(m(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Ue(t){var e=null;return new bt(function(n,r){-1==(e=Fe(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw a.clearTimeout(e),t})}function Be(t){if(t.S&&"function"==typeof t.S)return t.S();if(s(t))return t.split("");if(y(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function qe(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(y(t)||s(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function ze(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ze)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function He(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ke(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ke(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ke(t,e){return Object.prototype.hasOwnProperty.call(t,e)}C(Me,Ut),Me.prototype[de]=!0,Me.prototype.addEventListener=function(t,e,n,r){Se(this,t,e,n,r)},Me.prototype.removeEventListener=function(t,e,n,r){Ie(this,t,e,n,r)},Me.prototype.dispatchEvent=function(t){var e,n=this.Wa;if(n)for(e=[];n;n=n.Wa)e.push(n);n=this.Pb;var r=t.type||t;if(s(t))t=new he(t,n);else if(t instanceof he)t.target=t.target||n;else{var i=t;ht(t=new he(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Ve(a,r,!0,t)&&i}if(i=Ve(a=t.b=n,r,!0,t)&&i,i=Ve(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ve(a=t.b=e[o],r,!1,t)&&i;return i},Me.prototype.va=function(){if(Me.qb.va.call(this),this.m){var t,e=this.m;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ve(n[r]);delete e.a[t],e.b--}}this.Wa=null},(t=ze.prototype).S=function(){He(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return He(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Ke(this.b,t)?this.b[t]:e},t.set=function(t,e){Ke(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ge=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qe(t,e){var n;this.b=this.i=this.f="",this.m=null,this.g=this.c="",this.h=!1,t instanceof Qe?(this.h=void 0!==e?e:t.h,We(this,t.f),this.i=t.i,this.b=t.b,Ye(this,t.m),this.c=t.c,Ze(this,mn(t.a)),this.g=t.g):t&&(n=String(t).match(Ge))?(this.h=!!e,We(this,n[1]||"",!0),this.i=en(n[2]||""),this.b=en(n[3]||"",!0),Ye(this,n[4]),this.c=en(n[5]||"",!0),Ze(this,n[6]||"",!0),this.g=en(n[7]||"")):(this.h=!!e,this.a=new ln(null,this.h))}function We(t,e,n){t.f=n?en(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ye(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ze(t,e,n){e instanceof ln?(t.a=e,function(t,e){e&&!t.f&&(hn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(pn(this,e),yn(this,n,t))},t)),t.f=e}(t.a,t.h)):(n||(e=nn(e,un)),t.a=new ln(e,t.h))}function Xe(t,e,n){t.a.set(e,n)}function Je(t,e){return t.a.get(e)}function $e(t){return t instanceof Qe?new Qe(t):new Qe(t,void 0)}function tn(t,e){var n=new Qe(null,void 0);return We(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function en(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nn(t,e,n){return s(t)?(t=encodeURI(t).replace(e,rn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Qe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(nn(e,on,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(nn(e,on,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(nn(n,"/"==n.charAt(0)?sn:an,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",nn(n,cn)),t.join("")},Qe.prototype.resolve=function(t){var e=new Qe(this),n=!!t.f;n?We(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.m;var r=t.c;if(n)Ye(e,t.m);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(tt(i,"./")||tt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Ze(e,mn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var on=/[#\/\?@]/g,an=/[#\?:]/g,sn=/[#\?]/g,un=/[#\?@]/g,cn=/#/g;function ln(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function hn(t){t.a||(t.a=new ze,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function fn(t){var e=qe(t);if(void 0===e)throw Error("Keys are undefined");var n=new ln(null,void 0);t=Be(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];d(o)?yn(n,i,o):n.add(i,o)}return n}function pn(t,e){hn(t),e=vn(t,e),Ke(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ke((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&He(t)))}function dn(t,e){return hn(t),e=vn(t,e),Ke(t.a.b,e)}function yn(t,e,n){pn(t,e),0<n.length&&(t.c=null,t.a.set(vn(t,e),H(n)),t.b+=n.length)}function mn(t){var e=new ln;return e.c=t.c,t.a&&(e.a=new ze(t.a),e.b=t.b),e}function vn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=ln.prototype).add=function(t,e){hn(this),this.c=null,t=vn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){hn(this),this.a.forEach(function(n,r){L(n,function(n){t.call(e,n,r,this)},this)},this)},t.U=function(){hn(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.S=function(t){hn(this);var e=[];if(s(t))dn(this,t)&&(e=z(e,this.a.get(vn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=z(e,t[n])}return e},t.set=function(t,e){return hn(this),this.c=null,dn(this,t=vn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.S(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var gn=!Wt||9<=Number(re);function bn(t,e){this.a=t===En&&e||"",this.b=wn}function _n(t){return t instanceof bn&&t.constructor===bn&&t.b===wn?t.a:(x("expected object of type Const, got '"+t+"'"),"type_error:Const")}bn.prototype.na=!0,bn.prototype.ma=function(){return this.a},bn.prototype.toString=function(){return"Const{"+this.a+"}"};var wn={},En={};function Sn(){this.a="",this.b=An}function Tn(t){return t instanceof Sn&&t.constructor===Sn&&t.b===An?t.a:(x("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function Cn(t,e){var n=_n(t);if(!On.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new Sn;return e.a=t,e}(t=n.replace(In,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bn?_n(t):encodeURIComponent(String(t))}))}Sn.prototype.na=!0,Sn.prototype.ma=function(){return this.a.toString()},Sn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var In=/%{(\w+)}/g,On=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,An={};function xn(){this.a="",this.b=Pn}function kn(t){return t instanceof xn&&t.constructor===xn&&t.b===Pn?t.a:(x("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}xn.prototype.na=!0,xn.prototype.ma=function(){return this.a.toString()},xn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nn=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Dn(t){return t instanceof xn?t:(t="object"==typeof t&&t.na?t.ma():String(t),Nn.test(t)||(t="about:invalid#zClosurez"),Rn(t))}var Pn={};function Rn(t){var e=new xn;return e.a=t,e}function Mn(){this.a="",this.b=jn}Rn("about:blank"),Mn.prototype.na=!0,Mn.prototype.ma=function(){return this.a.toString()},Mn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var jn={};function Ln(t){var e=new Mn;return e.a=t,e}function Vn(t){var e=document;return s(t)?e.getElementById(t):t}function Fn(t,e){ot(e,function(e,n){e&&"object"==typeof e&&e.na&&(e=e.ma()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Un.hasOwnProperty(n)?t.setAttribute(Un[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}Ln("<!DOCTYPE html>"),Ln(""),Ln("<br>");var Un={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Bn(t){if(t&&"number"==typeof t.length){if(v(t))return"function"==typeof t.item||"string"==typeof t.item;if(m(t))return"function"==typeof t.item}return!1}function qn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(d(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Gn(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Gn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new zn,t,e),e.join("")}function zn(){}var Hn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Kn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Gn(t,e){e.push('"',t.replace(Kn,function(t){var e=Hn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Hn[t]=e),e}),'"')}function Qn(){var t=fr();return Wt&&!!re&&11==re||/Edge\/\d+/.test(t)}function Wn(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function Yn(t,e){e=e||a.window;var n="about:blank";t&&(n=kn(Dn(t)).toString()),e.location.href=n}function Zn(t){return!!((t=(t||fr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Xn(t){t=t||a.window;try{t.close()}catch(e){}}function Jn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=fr().toLowerCase(),r&&(e.target=r,tt(n,"crios/")&&(e.target="_blank")),cr(fr())==sr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof xn?n:Dn(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((it("iPhone")&&!it("iPod")&&!it("iPad")||it("iPad")||it("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),e instanceof xn||e instanceof xn||(e="object"==typeof e&&e.na?e.ma():String(e),Nn.test(e)||(e="about:invalid#zClosurez"),e=Rn(e)),a.href=kn(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=kn(e).toString(),a&&(Zt&&tt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Ln('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+pt(t)+'">'),a.document.write(function(t){return t instanceof Mn&&t.constructor===Mn&&t.b===jn?t.a:(x("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),a.document.close())):(a=r.open(kn(e).toString(),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var $n=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tr=/^[^@]+@[^@]+$/;function er(){var t=null;return new bt(function(e){"complete"==a.document.readyState?e():(t=function(){e()},Ce(window,"load",t))}).s(function(e){throw Ie(window,"load",t),e})}function nr(t){return t=t||fr(),!("file:"!==vr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function rr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function ir(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function or(){return uh.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":uh.a.INTERNAL.hasOwnProperty("node")?"Node":ir()?"Worker":"Browser"}function ar(){var t=or();return"ReactNative"===t||"Node"===t}var sr="Firefox",ur="Chrome";function cr(t){var e=t.toLowerCase();return tt(e,"opera/")||tt(e,"opr/")||tt(e,"opios/")?"Opera":tt(e,"iemobile")?"IEMobile":tt(e,"msie")||tt(e,"trident/")?"IE":tt(e,"edge/")?"Edge":tt(e,"firefox/")?sr:tt(e,"silk/")?"Silk":tt(e,"blackberry")?"Blackberry":tt(e,"webos")?"Webos":!tt(e,"safari/")||tt(e,"chrome/")||tt(e,"crios/")||tt(e,"android")?!tt(e,"chrome/")&&!tt(e,"crios/")||tt(e,"edge/")?tt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":ur:"Safari"}var lr={Sc:"FirebaseCore-web",Uc:"FirebaseUI-web"};function hr(t,e){e=e||[];var n,r=[],i={};for(n in lr)i[lr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=or())?r=cr(i=fr()):"Worker"===r&&(r=cr(i=fr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function fr(){return a.navigator&&a.navigator.userAgent||""}function pr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function dr(){try{var t=a.localStorage,e=Er();if(t)return t.setItem(e,"1"),t.removeItem(e),!Qn()||!!a.indexedDB}catch(n){return ir()&&!!a.indexedDB}return!1}function yr(){return(mr()||"chrome-extension:"===vr()||nr())&&!ar()&&dr()&&!ir()}function mr(){return"http:"===vr()||"https:"===vr()}function vr(){return a.location&&a.location.protocol||null}function gr(t){return!Zn(t=t||fr())&&cr(t)!=sr}function br(t){return void 0===t?null:qn(t)}function _r(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function wr(t){if(null!==t)return JSON.parse(t)}function Er(t){return t||Math.floor(1e9*Math.random()).toString()}function Sr(t){return"Safari"!=cr(t=t||fr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Tr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Cr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=fr(),e=or(),this.b=Zn(t)||"ReactNative"===e}function Ir(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Or(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Ar(){return!(!pr("fireauth.oauthhelper",a)&&!pr("fireauth.iframe",a))}Cr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!mr()&&"chrome-extension:"!==vr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var xr,kr={};function Nr(t){kr[t]||(kr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Dr={};Object.defineProperty(Dr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Dr,"abcd",{configurable:!0,enumerable:!0,value:2}),xr=2==Dr.abcd}catch(Gt){xr=!1}function Pr(t,e,n){xr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Rr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Pr(t,n,e[n])}function Mr(t){var e={};return Rr(e,t),e}function jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Pr(e,n,jr(t[n]));return e}function Lr(t){var e={},n=t[Fr],r=t[Ur];if(!(t=t[Br])||t!=Vr&&!n)throw Error("Invalid provider user info!");e[zr]=r||null,e[qr]=n||null,Pr(this,Kr,t),Pr(this,Hr,jr(e))}var Vr="EMAIL_SIGNIN",Fr="email",Ur="newEmail",Br="requestType",qr="email",zr="fromEmail",Hr="data",Kr="operation";function Gr(t,e){this.code=Wr+t,this.message=e||Yr[t]||""}function Qr(t){var e=t&&t.code;return e?new Gr(e.substring(Wr.length),t.message):null}C(Gr,Error),Gr.prototype.w=function(){return{code:this.code,message:this.message}},Gr.prototype.toJSON=function(){return this.w()};var Wr="auth/",Yr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Zr(t){var e=t[ei];if(void 0===e)throw new Gr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Gr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Xr];if(n&&"object"==typeof n){e=n[ii];var r=n[ni];if(n=n[ri],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Gr("argument-error",ni+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Gr("argument-error",ri+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Gr("argument-error",ii+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Gr("missing-android-pkg-name")}}else if(void 0!==n)throw new Gr("argument-error",Xr+" property must be a non null object when specified.");if(this.f=null,(e=t[ti])&&"object"==typeof e){if("string"==typeof(e=e[oi])&&e.length)this.f=e;else if(void 0!==e)throw new Gr("argument-error",oi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Gr("argument-error",ti+" property must be a non null object when specified.");if(void 0!==(e=t[$r])&&"boolean"!=typeof e)throw new Gr("argument-error",$r+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Jr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Gr("argument-error",Jr+" property must be a non empty string when specified.");this.i=t||null}var Xr="android",Jr="dynamicLinkDomain",$r="handleCodeInApp",ti="iOS",ei="url",ni="installApp",ri="minimumVersion",ii="packageName",oi="bundleId";function ai(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var si=null,ui=null;function ci(t){this.c=t.sub,T(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function li(t){return(t=hi(t))&&t.sub&&t.iss&&t.aud&&t.exp?new ci(t):null}function hi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!si){si={},ui={};for(var t=0;65>t;t++)si[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),ui[si[t]]=t,62<=t&&(ui["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(r){}return null}ci.prototype.f=function(){return this.b};var fi,pi={Yc:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://securetoken.googleapis.com/v1/token",id:"p"},$c:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ad:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",jb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function di(t){for(var e in pi)if(pi[e].id===t)return{firebaseEndpoint:(t=pi[e]).bb,secureTokenEndpoint:t.jb};return null}fi=di("__EID__")?"__EID__":void 0;var yi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),mi=["client_id","response_type","scope","redirect_uri","state"],vi={Tc:{Oa:"locale",Ba:500,Aa:600,Pa:"facebook.com",ib:mi},Vc:{Oa:null,Ba:500,Aa:620,Pa:"github.com",ib:mi},Wc:{Oa:"hl",Ba:515,Aa:680,Pa:"google.com",ib:mi},bd:{Oa:"lang",Ba:485,Aa:705,Pa:"twitter.com",ib:yi}};function gi(t){for(var e in vi)if(vi[e].Pa==t)return vi[e];return null}function bi(t){var e={};e["facebook.com"]=Ti,e["google.com"]=Ii,e["github.com"]=Ci,e["twitter.com"]=Oi;var n=t&&t[wi];try{if(n)return e[n]?new e[n](t):new Si(t);if(void 0!==t[_i])return new Ei(t)}catch(r){}return null}var _i="idToken",wi="providerId";function Ei(t){var e=t[wi];if(!e&&t[_i]){var n=li(t[_i]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Pr(this,"providerId",e),Pr(this,"isNewUser",n)}function Si(t){Ei.call(this,t),Pr(this,"profile",jr((t=wr(t.rawUserInfo||"{}"))||{}))}function Ti(t){if(Si.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ci(t){if(Si.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Pr(this,"username",this.profile&&this.profile.login||null)}function Ii(t){if(Si.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Oi(t){if(Si.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Pr(this,"username",t.screenName||null)}function Ai(t){this.a=$e(t)}function xi(t){var e=$e(t),n=Je(e,"link"),r=Je($e(n),"link");return e=Je(e,"deep_link_id"),Je($e(e),"link")||e||r||n||t}function ki(){}function Ni(t,e){return t.then(function(t){if(t[va]){var n=li(t[va]);if(!n||e!=n.c)throw new Gr("user-mismatch");return t}throw new Gr("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==Wr+"user-not-found"?new Gr("user-mismatch"):t})}function Di(t,e){if(!e)throw new Gr("internal-error","failed to construct a credential");this.a=e,Pr(this,"providerId",t),Pr(this,"signInMethod",t)}function Pi(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Ri(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Di(t.providerId,t.pendingToken)}catch(e){}return null}function Mi(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Pr(this,"idToken",e.idToken),e.accessToken&&Pr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Pr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Gr("internal-error","failed to construct a credential");Pr(this,"accessToken",e.oauthToken),Pr(this,"secret",e.oauthTokenSecret)}Pr(this,"providerId",t),Pr(this,"signInMethod",n)}function ji(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:fn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Li(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Mi(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Vi(t,e){this.Cc=e||[],Rr(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.eb=(gi(t)||{}).Oa||null,this.ab=null}function Fi(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Gr("argument-error",'SAML provider IDs must be prefixed with "saml."');Vi.call(this,t,[])}function Ui(t){Vi.call(this,t,mi),this.a=[]}function Bi(){Ui.call(this,"facebook.com")}function qi(t){if(!t)throw new Gr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Bi).credential({accessToken:e})}function zi(){Ui.call(this,"github.com")}function Hi(t){if(!t)throw new Gr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new zi).credential({accessToken:e})}function Ki(){Ui.call(this,"google.com"),this.ua("profile")}function Gi(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new Ki).credential({idToken:n,accessToken:e})}function Qi(){Vi.call(this,"twitter.com",yi)}function Wi(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Gr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Mi("twitter.com",n,"twitter.com")}function Yi(t,e,n){this.a=t,this.c=e,Pr(this,"providerId","password"),Pr(this,"signInMethod",n===Xi.EMAIL_LINK_SIGN_IN_METHOD?Xi.EMAIL_LINK_SIGN_IN_METHOD:Xi.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Zi(t){return t&&t.email&&t.password?new Yi(t.email,t.password,t.signInMethod):null}function Xi(){Rr(this,{providerId:"password",isOAuthProvider:!1})}function Ji(t,e){if(!(e=$i(e)))throw new Gr("argument-error","Invalid email link!");return new Yi(t,e,Xi.EMAIL_LINK_SIGN_IN_METHOD)}function $i(t){var e=Je((t=new Ai(t=xi(t))).a,"oobCode")||null;return"signIn"===(Je(t.a,"mode")||null)&&e?e:null}function to(t){if(!(t.Ua&&t.Ta||t.Fa&&t.$))throw new Gr("internal-error");this.a=t,Pr(this,"providerId","phone"),Pr(this,"signInMethod","phone")}function eo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return L(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new to(e)}return null}function no(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Ua,code:t.a.Ta}}function ro(t){try{this.a=t||uh.a.auth()}catch(e){throw new Gr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Rr(this,{providerId:"phone",isOAuthProvider:!1})}function io(t,e){if(!t)throw new Gr("missing-verification-id");if(!e)throw new Gr("missing-verification-code");return new to({Ua:t,Ta:e})}function oo(t){if(t.temporaryProof&&t.phoneNumber)return new to({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Gi(o,n);case"facebook.com":return qi(n);case"github.com":return Hi(n);case"twitter.com":return Wi(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new Di(e,a):new Mi(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Ui(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function ao(t){if(!t.isOAuthProvider)throw new Gr("invalid-oauth-provider")}function so(t,e,n,r,i,o){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=o||null,this.a=i||null,!this.g&&!this.a)throw new Gr("invalid-auth-event");if(this.g&&this.a)throw new Gr("invalid-auth-event");if(this.g&&!this.f)throw new Gr("invalid-auth-event")}function uo(t){return(t=t||{}).type?new so(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Qr(t.error),t.postBody):null}function co(){this.b=null,this.a=[]}C(Si,Ei),C(Ti,Si),C(Ci,Si),C(Ii,Si),C(Oi,Si),Di.prototype.la=function(t){return Ma(t,Pi(this))},Di.prototype.b=function(t,e){var n=Pi(this);return n.idToken=e,ja(t,n)},Di.prototype.f=function(t,e){return Ni(La(t,Pi(this)),e)},Di.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Mi.prototype.la=function(t){return Ma(t,ji(this))},Mi.prototype.b=function(t,e){var n=ji(this);return n.idToken=e,ja(t,n)},Mi.prototype.f=function(t,e){return Ni(La(t,ji(this)),e)},Mi.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Vi.prototype.Da=function(t){return this.zb=st(t),this},C(Fi,Vi),C(Ui,Vi),Ui.prototype.ua=function(t){return U(this.a,t)||this.a.push(t),this},Ui.prototype.Fb=function(){return H(this.a)},Ui.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Gr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Mi(this.providerId,n,this.providerId)},C(Bi,Ui),Pr(Bi,"PROVIDER_ID","facebook.com"),Pr(Bi,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(zi,Ui),Pr(zi,"PROVIDER_ID","github.com"),Pr(zi,"GITHUB_SIGN_IN_METHOD","github.com"),C(Ki,Ui),Pr(Ki,"PROVIDER_ID","google.com"),Pr(Ki,"GOOGLE_SIGN_IN_METHOD","google.com"),C(Qi,Vi),Pr(Qi,"PROVIDER_ID","twitter.com"),Pr(Qi,"TWITTER_SIGN_IN_METHOD","twitter.com"),Yi.prototype.la=function(t){return this.signInMethod==Xi.EMAIL_LINK_SIGN_IN_METHOD?fs(t,Ka,{email:this.a,oobCode:this.c}):fs(t,us,{email:this.a,password:this.c})},Yi.prototype.b=function(t,e){return this.signInMethod==Xi.EMAIL_LINK_SIGN_IN_METHOD?fs(t,Ga,{idToken:e,email:this.a,oobCode:this.c}):fs(t,ns,{idToken:e,email:this.a,password:this.c})},Yi.prototype.f=function(t,e){return Ni(this.la(t),e)},Yi.prototype.w=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Rr(Xi,{PROVIDER_ID:"password"}),Rr(Xi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Rr(Xi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),to.prototype.la=function(t){return t.Va(no(this))},to.prototype.b=function(t,e){var n=no(this);return n.idToken=e,fs(t,ls,n)},to.prototype.f=function(t,e){var n=no(this);return n.operation="REAUTH",Ni(t=fs(t,hs,n),e)},to.prototype.w=function(){var t={providerId:"phone"};return this.a.Ua&&(t.verificationId=this.a.Ua),this.a.Ta&&(t.verificationCode=this.a.Ta),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},ro.prototype.Va=function(t,e){var n=this.a.c;return It(e.verify()).then(function(r){if(!s(r))throw new Gr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return fs(n,ts,e)}(0,{phoneNumber:t,recaptchaToken:r}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new Gr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Rr(ro,{PROVIDER_ID:"phone"}),Rr(ro,{PHONE_SIGN_IN_METHOD:"phone"}),so.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},so.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,error:this.a&&this.a.w()}};var lo,ho=null;function fo(t){var e="unauthorized-domain",n=void 0,r=$e(t);t=r.b,"chrome-extension"==(r=r.f)?n=ft("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=ft("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Gr.call(this,e,n)}function po(t,e,n){Gr.call(this,t,n),(t=e||{}).Ab&&Pr(this,"email",t.Ab),t.$&&Pr(this,"phoneNumber",t.$),t.credential&&Pr(this,"credential",t.credential)}function yo(t){if(t.code){var e=t.code||"";0==e.indexOf(Wr)&&(e=e.substring(Wr.length));var n={credential:oo(t)};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.$=t.phoneNumber;else if(!n.credential)return new Gr(e,t.message||void 0);return new po(e,n,t.message)}return null}function mo(){}function vo(){}function go(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function bo(){}function _o(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.cc,this),this.a.onerror=E(this.Gb,this),this.a.onprogress=E(this.dc,this),this.a.ontimeout=E(this.hc,this)}function wo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Eo(t,e,n){this.reset(t,e,n,void 0,void 0)}function So(t){this.f=t,this.b=this.c=this.a=null}function To(t,e){this.name=t,this.value=e}co.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=pr("universalLinks.subscribe",a))&&t(null,this.b))},co.prototype.unsubscribe=function(t){q(this.a,function(e){return e==t})},C(fo,Gr),C(po,Gr),po.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.w();return e&&ht(t,e),t},po.prototype.toJSON=function(){return this.w()},mo.prototype.c=null,C(vo,mo),vo.prototype.a=function(){var t=go(this);return t?new ActiveXObject(t):new XMLHttpRequest},vo.prototype.b=function(){var t={};return go(this)&&(t[0]=!0,t[1]=!0),t},lo=new vo,C(bo,mo),bo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new _o;throw Error("Unsupported browser")},bo.prototype.b=function(){return{}},(t=_o.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.cc=function(){this.status=200,this.response=this.responseText=this.a.responseText,wo(this,4)},t.Gb=function(){this.status=500,this.response=this.responseText="",wo(this,4)},t.hc=function(){this.Gb()},t.dc=function(){this.status=200,wo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Eo.prototype.a=null,Eo.prototype.reset=function(t,e,n,r,i){r||T(),delete this.a},To.prototype.toString=function(){return this.name};var Co=new To("SEVERE",1e3),Io=new To("WARNING",900),Oo=new To("CONFIG",700),Ao=new To("FINE",500);So.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(x("Root logger has no level set."),null)}(this).value)for(m(e)&&(e=e()),t=new Eo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var xo={},ko=null;function No(t){var e;if(ko||(ko=new So(""),xo[""]=ko,ko.c=Oo),!(e=xo[t])){e=new So(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=No(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,xo[t]=e}return e}function Do(t,e){t&&t.log(Ao,e,void 0)}function Po(t){this.f=t}function Ro(t){Me.call(this),this.u=t,this.readyState=Mo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.o="GET",this.g="",this.a=!1,this.h=No("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}C(Po,mo),Po.prototype.a=function(){return new Ro(this.f)},Po.prototype.b=function(t){return function(){return t}}({}),C(Ro,Me);var Mo=0;function jo(t){t.c.read().then(t.bc.bind(t)).catch(t.Ma.bind(t))}function Lo(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Vo(t)}function Vo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Fo(t){Me.call(this),this.headers=new ze,this.D=t||null,this.c=!1,this.A=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=Uo,this.v=this.O=!1}(t=Ro.prototype).open=function(t,e){if(this.readyState!=Mo)throw this.abort(),Error("Error reopening a connection");this.o=t,this.g=e,this.readyState=1,Vo(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.o,credentials:void 0,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.g,e)).then(this.gc.bind(this),this.Ma.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Lo(this,!1)),this.readyState=Mo},t.gc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Vo(this)),this.a&&(this.readyState=3,Vo(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.ec.bind(this),this.Ma.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,jo(this)):t.text().then(this.fc.bind(this),this.Ma.bind(this)))))},t.bc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Lo(this,!0):Vo(this),3==this.readyState&&jo(this)}},t.fc=function(t){this.a&&(this.response=this.responseText=t,Lo(this,!0))},t.ec=function(t){this.a&&(this.response=t,Lo(this,!0))},t.Ma=function(t){var e=this.h;e&&e.log(Io,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&Lo(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Io,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Io,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},C(Fo,Me);var Uo="";Fo.prototype.b=No("goog.net.XhrIo");var Bo=/^https?$/i,qo=["POST","PUT"];function zo(t){return"content-type"==t.toLowerCase()}function Ho(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ko(t),Qo(t)}function Ko(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Go(t){if(t.c&&void 0!==o)if(t.A[1]&&4==Yo(t)&&2==Zo(t))Do(t.b,Xo(t,"Local request error detected and ignored"));else if(t.i&&4==Yo(t))Fe(t.Jb,0,t);else if(t.dispatchEvent("readystatechange"),4==Yo(t)){Do(t.b,Xo(t,"Request complete")),t.c=!1;try{var e,n=Zo(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(Ge)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!Bo.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Yo(t)?t.a.statusText:""}catch(l){Do(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Zo(t)+"]",Ko(t)}}finally{Qo(t)}}}function Qo(t,e){if(t.a){Wo(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Co,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Wo(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(a.clearTimeout(t.u),t.u=null)}function Yo(t){return t.a?t.a.readyState:0}function Zo(t){try{return 2<Yo(t)?t.a.status:-1}catch(e){return-1}}function Xo(t,e){return e+" ["+t.N+" "+t.l+" "+Zo(t)+"]"}function Jo(t){var e=ca;this.g=[],this.v=e,this.u=t||null,this.f=this.a=!1,this.c=void 0,this.l=this.A=this.i=!1,this.h=0,this.b=null,this.m=0}function $o(t,e,n){t.a=!0,t.c=n,t.f=!e,ra(t)}function ta(t){if(t.a){if(!t.l)throw new ia(t);t.l=!1}}function ea(t,e,n,r){t.g.push([e,n,r]),t.a&&ra(t)}function na(t){return F(t.g,function(t){return m(t[1])})}function ra(t){if(t.h&&t.a&&na(t)){var e=t.h,n=sa[e];n&&(a.clearTimeout(n.a),delete sa[e]),t.h=0}t.b&&(t.b.m--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.u,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(I(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,na(t)||(n=!0)}}t.c=e,r&&(u=E(t.o,t,!0),r=E(t.o,t,!1),e instanceof Jo?(ea(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new aa(e),sa[e.a]=e,t.h=e.a)}function ia(){O.call(this)}function oa(){O.call(this)}function aa(t){this.a=a.setTimeout(E(this.c,this),0),this.b=t}(t=Fo.prototype).Ga=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Do(this.b,Xo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Do(this.b,Xo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Qo(this))},t.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Qo(this,!0)),Fo.qb.va.call(this)},t.Jb=function(){this.qa||(this.I||this.i||this.f?Go(this):this.vc())},t.vc=function(){Go(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case Uo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Co,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(e){return Do(this.b,"Can not get response: "+e.message),null}},Jo.prototype.cancel=function(t){if(this.a)this.c instanceof Jo&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.m--,0>=e.m&&e.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(t=new oa(this),ta(this),$o(this,!1,t))}},Jo.prototype.o=function(t,e){this.i=!1,$o(this,t,e)},Jo.prototype.then=function(t,e,n){var r,i,o=new bt(function(t,e){r=t,i=e});return ea(this,r,function(t){t instanceof oa?o.cancel():i(t)}),o.then(t,e,n)},Jo.prototype.$goog_Thenable=!0,C(ia,O),ia.prototype.message="Deferred has already fired",ia.prototype.name="AlreadyCalledError",C(oa,O),oa.prototype.message="Deferred was canceled",oa.prototype.name="CanceledError",aa.prototype.c=function(){throw delete sa[this.a],this.b};var sa={};function ua(t){var e={},n=e.document||document,r=Tn(t).toString(),i=document.createElement("SCRIPT"),o={Lb:i,Ga:void 0},s=new Jo(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){la(i,!0);var t=new pa(fa,"Timeout reached for loading script "+r);ta(s),$o(s,!1,t)},h),o.Ga=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(la(i,e.dd||!1,u),ta(s),$o(s,!0,null))},i.onerror=function(){la(i,!0,u);var t=new pa(ha,"Error while loading script "+r);ta(s),$o(s,!1,t)},ht(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Fn(i,o),function(t,e){t.src=Tn(e),null===l&&(l=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""),(e=l)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function ca(){if(this&&this.Lb){var t=this.Lb;t&&"SCRIPT"==t.tagName&&la(t,!0,this.Ga)}}function la(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var ha=0,fa=1;function pa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),O.call(this,n),this.code=t}function da(t){this.f=t}function ya(t,e,n){if(this.b=t,this.i=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||ga,this.f=st(t.secureTokenHeaders||ba),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||_a,this.a=st(t.firebaseHeaders||wa),n&&(this.a["X-Client-Version"]=n,this.f["X-Client-Version"]=n),n="Node"==or(),!(n=a.XMLHttpRequest||n&&uh.a.INTERNAL.node&&uh.a.INTERNAL.node.XMLHttpRequest)&&!ir())throw new Gr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,this.c=ir()?new Po(self):ar()?new da(n):new bo}C(pa,O),C(da,mo),da.prototype.a=function(){return new this.f},da.prototype.b=function(){return{}};var ma,va="idToken",ga=new Cr(3e4,6e4),ba={"Content-Type":"application/x-www-form-urlencoded"},_a=new Cr(3e4,6e4),wa={"Content-Type":"application/json"};function Ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Sa(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function Ta(t,e,n,r,i,o,s){(function(){var t=fr();return!((t=cr(t)!=ur?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&re&&!(9<re))})()||ir()?t=E(t.o,t):(ma||(ma=new bt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{a[Ia]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=Cn(Ca,{onload:Ia});!function(t,e){ea(ua(n),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=E(t.l,t)),t(e,n,r,i,o,s)}ya.prototype.o=function(t,e,n,r,i,o){if(ir()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new Gr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var u=new Fo(this.c);if(o){u.g=Math.max(0,o);var c=setTimeout(function(){u.dispatchEvent("timeout")},o)}je(u,"complete",function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Do(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Le(u,"ready",function(){c&&clearTimeout(c),zt(this)}),Le(u,"timeout",function(){c&&clearTimeout(c),zt(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.N=n,t.G=!1,t.c=!0,t.a=t.D?t.D.a():lo.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.D?t.D:lo),t.a.onreadystatechange=E(t.Jb,t);try{Do(t.b,Xo(t,"Opening Xhr")),t.I=!0,t.a.open(n,String(e),!0),t.I=!1}catch(u){return Do(t.b,Xo(t,"Error opening Xhr: "+u.message)),void Ho(t,u)}e=r||"";var o=new ze(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(y(t)||s(t))L(t,e,void 0);else for(var n=qe(t),r=Be(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=zo,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(o.U()),r=a.FormData&&e instanceof a.FormData,!U(qo,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{Wo(t),0<t.g&&(t.v=function(t){return Wt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Do(t.b,Xo(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ga,t)):t.u=Fe(t.Ga,t.g,t)),Do(t.b,Xo(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(u){Do(t.b,Xo(t,"Send error: "+u.message)),Ho(t,u)}}(u,t,n,r,i)};var Ca=new bn(En,"https://apis.google.com/js/client.js?onload=%{onload}"),Ia="__fcb"+Math.floor(1e6*Math.random()).toString();function Oa(t){if(!s(t=t.email)||!tr.test(t))throw new Gr("invalid-email")}function Aa(t){"email"in t&&Oa(t)}function xa(t){if(!t[va])throw new Gr("internal-error")}function ka(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Gr("internal-error")}else{if(!t.sessionInfo)throw new Gr("missing-verification-id");if(!t.code)throw new Gr("missing-verification-code")}}ya.prototype.l=function(t,e,n,r,i){var o=this;ma.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},ya.prototype.ob=function(){return fs(this,rs,{})},ya.prototype.rb=function(t,e){return fs(this,es,{idToken:t,email:e})},ya.prototype.sb=function(t,e){return fs(this,ns,{idToken:t,password:e})};var Na={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Da(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Gr("internal-error")}function Pa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&dn(t=new ln(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function Ra(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=yo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=yo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=yo(t)):t.errorMessage&&(e=ps(t.errorMessage)),e)throw e;if(!t[va])throw new Gr("internal-error")}function Ma(t,e){return e.returnIdpCredential=!0,fs(t,is,e)}function ja(t,e){return e.returnIdpCredential=!0,fs(t,as,e)}function La(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,fs(t,os,e)}function Va(t){if(!t.oobCode)throw new Gr("invalid-action-code")}(t=ya.prototype).tb=function(t,e){var n={idToken:t},r=[];return ot(Na,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),fs(this,es,n)},t.lb=function(t,e){return ht(t={requestType:"PASSWORD_RESET",email:t},e),fs(this,Za,t)},t.mb=function(t,e){return ht(t={requestType:"EMAIL_SIGNIN",email:t},e),fs(this,Wa,t)},t.kb=function(t,e){return ht(t={requestType:"VERIFY_EMAIL",idToken:t},e),fs(this,Ya,t)},t.Va=function(t){return fs(this,cs,t)},t.$a=function(t,e){return fs(this,$a,{oobCode:t,newPassword:e})},t.Ka=function(t){return fs(this,Ua,{oobCode:t})},t.Xa=function(t){return fs(this,Fa,{oobCode:t})};var Fa={endpoint:"setAccountInfo",C:Va,da:"email"},Ua={endpoint:"resetPassword",C:Va,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Gr("internal-error")}},Ba={endpoint:"signupNewUser",C:function(t){if(Oa(t),!t.password)throw new Gr("weak-password")},J:xa,R:!0},qa={endpoint:"createAuthUri"},za={endpoint:"deleteAccount",T:["idToken"]},Ha={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],C:function(t){if(!d(t.deleteProvider))throw new Gr("internal-error")}},Ka={endpoint:"emailLinkSignin",T:["email","oobCode"],C:Oa,J:xa,R:!0},Ga={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],C:Oa,J:xa,R:!0},Qa={endpoint:"getAccountInfo"},Wa={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Gr("internal-error");Oa(t)},da:"email"},Ya={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],C:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Gr("internal-error")},da:"email"},Za={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Gr("internal-error");Oa(t)},da:"email"},Xa={wb:!0,endpoint:"getProjectConfig",Ib:"GET"},Ja={wb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Gr("internal-error")}},$a={endpoint:"resetPassword",C:Va,da:"email"},ts={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},es={endpoint:"setAccountInfo",T:["idToken"],C:Aa,R:!0},ns={endpoint:"setAccountInfo",T:["idToken"],C:function(t){if(Aa(t),!t.password)throw new Gr("weak-password")},J:xa,R:!0},rs={endpoint:"signupNewUser",J:xa,R:!0},is={endpoint:"verifyAssertion",C:Da,Qa:Pa,J:Ra,R:!0},os={endpoint:"verifyAssertion",C:Da,Qa:Pa,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Gr("user-not-found");if(t.errorMessage)throw ps(t.errorMessage);if(!t[va])throw new Gr("internal-error")},R:!0},as={endpoint:"verifyAssertion",C:function(t){if(Da(t),!t.idToken)throw new Gr("internal-error")},Qa:Pa,J:Ra,R:!0},ss={endpoint:"verifyCustomToken",C:function(t){if(!t.token)throw new Gr("invalid-custom-token")},J:xa,R:!0},us={endpoint:"verifyPassword",C:function(t){if(Oa(t),!t.password)throw new Gr("wrong-password")},J:xa,R:!0},cs={endpoint:"verifyPhoneNumber",C:ka,J:xa},ls={endpoint:"verifyPhoneNumber",C:function(t){if(!t.idToken)throw new Gr("internal-error");ka(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",yo(t);xa(t)}},hs={Vb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:ka,J:xa};function fs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.T))return Ot(new Gr("internal-error"));var r,i=e.Ib||"POST";return It(n).then(e.C).then(function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,r,i,o){var a=$e(t.g+e);Xe(a,"key",t.b),o&&Xe(a,"cb",T().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&Xe(a,u,r[u]);return new bt(function(e,o){Ta(t,a.toString(),function(t){t?t.error?o(ds(t,i||{})):e(t):o(new Gr("network-request-failed"))},n,s?void 0:qn(_r(r)),t.a,t.h.get())})}(t,e.endpoint,i,n,e.Vb,e.wb||!1)}).then(function(t){return r=t,e.Qa?e.Qa(n,r):r}).then(e.J).then(function(){if(!e.da)return r;if(!(e.da in r))throw new Gr("internal-error");return r[e.da]})}function ps(t){return ds({error:{errors:[{message:t}],code:400,message:t}})}function ds(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Gr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",ht(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Gr(r[i],e);return!e&&t&&(e=br(t)),new Gr("internal-error",e)}function ys(t){this.b=t,this.a=null,this.gb=function(t){return(bs||(bs=new bt(function(t,e){function n(){Tr(),pr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Tr(),e(Error("Network Error"))},timeout:vs.get()})}if(pr("gapi.iframes.Iframe"))t();else if(pr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){pr("gapi.load")?n():e(Error("Network Error"))},It(ua(r=Cn(ms,{onload:r}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw bs=null,t}))).then(function(){return new bt(function(e,n){pr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},gs.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var ms=new bn(En,"https://apis.google.com/js/api.js?onload=%{onload}"),vs=new Cr(3e4,6e4),gs=new Cr(5e3,15e3),bs=null;function _s(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=tn(this.i,"/__/auth/iframe"),Xe(this.a,"apiKey",this.g),Xe(this.a,"appName",this.h),this.b=null,this.c=[]}function ws(t,e,n,r,i){this.o=t,this.l=e,this.c=n,this.m=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function Es(t){try{return uh.a.app(t).auth().ya()}catch(e){return[]}}function Ss(t,e,n,r,i){this.l=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.m=this.a=null}function Ts(t){var e=Wn();return function(t){return fs(t,Xa,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=$e(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=$e(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:$n.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new fo(Wn())})}function Cs(t){return t.m?t.m:(t.m=er().then(function(){if(!t.u){var e=t.c,n=t.h,r=Es(t.b),i=new _s(t.l,t.f,t.b);i.f=e,i.b=n,i.c=H(r||[]),t.u=i.toString()}t.i=new ys(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.gb.then(function(){t.a.register("authEvent",e,pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=uo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",It(n)}return n.status="ERROR",It(n)})}(t)}),t.m)}function Is(t){return t.o||(t.v=t.c?hr(t.c,Es(t.b)):null,t.o=new ya(t.f,di(t.h),t.v)),t.o}function Os(t,e,n,r,i,o,a,s,u,c){return(t=new ws(t,e,n,r,i)).i=o,t.g=a,t.h=s,t.b=st(u||null),t.f=c,t.toString()}function As(t){if(this.a=t||uh.a.INTERNAL.reactNative&&uh.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Gr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function xs(t){this.b=t,this.a={},this.c=E(this.f,this)}_s.prototype.toString=function(){return this.f?Xe(this.a,"v",this.f):pn(this.a.a,"v"),this.b?Xe(this.a,"eid",this.b):pn(this.a.a,"eid"),this.c.length?Xe(this.a,"fw",this.c.join(",")):pn(this.a.a,"fw"),this.a.toString()},ws.prototype.toString=function(){var t=tn(this.o,"/__/auth/handler");if(Xe(t,"apiKey",this.l),Xe(t,"appName",this.c),Xe(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=uh.a.app(this.c).auth().ea()}catch(s){n=null}for(var r in e.ab=n,Xe(t,"providerId",this.a.providerId),n=_r((e=this.a).zb))n[r]=n[r].toString();r=e.Cc,n=st(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.eb&&e.ab&&!n[e.eb]&&(n[e.eb]=e.ab),at(n)||Xe(t,"customParameters",br(n))}if("function"==typeof this.a.Fb&&(e=this.a.Fb()).length&&Xe(t,"scopes",e.join(",")),this.i?Xe(t,"redirectUrl",this.i):pn(t.a,"redirectUrl"),this.g?Xe(t,"eventId",this.g):pn(t.a,"eventId"),this.h?Xe(t,"v",this.h):pn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Je(t,a)&&Xe(t,a,this.b[a]);return this.f?Xe(t,"eid",this.f):pn(t.a,"eid"),(a=Es(this.c)).length&&Xe(t,"fw",a.join(",")),t.toString()},(t=Ss.prototype).Ea=function(t,e,n){var r=new Gr("popup-closed-by-user"),i=new Gr("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){(function(t){var e={type:"webStorageSupport"};return Cs(t).then(function(){return function(t,e){return t.gb.then(function(){return new bt(function(n){t.a.send(e.type,e,n,pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&Xn(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new bt(function(e){return function n(){Ue(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Ue(n).then(function(){e(r)})})},t.Mb=function(){var t=fr();return!gr(t)&&!Sr(t)},t.Hb=function(){return!1},t.Db=function(t,e,n,r,i,o,a){if(!t)return Ot(new Gr("popup-blocked"));if(a&&!gr())return this.ga().s(function(e){Xn(t),i(e)}),r(),It();this.a||(this.a=Ts(Is(this)));var s=this;return this.a.then(function(){var e=s.ga().s(function(e){throw Xn(t),i(e),e});return r(),e}).then(function(){ao(n),a||Yn(Os(s.l,s.f,s.b,e,n,null,o,s.c,void 0,s.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=Ts(Is(this)));var r=this;return this.a.then(function(){ao(e),Yn(Os(r.l,r.f,r.b,t,e,Wn(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ga=function(){var t=this;return Cs(this).then(function(){return t.i.gb}).s(function(){throw t.a=null,new Gr("network-request-failed")})},t.Ob=function(){return!0},t.wa=function(t){this.g.push(t)},t.La=function(t){q(this.g,function(e){return e==t})},(t=As.prototype).get=function(t){return It(this.a.getItem(t)).then(function(t){return t&&wr(t)})},t.set=function(t,e){return It(this.a.setItem(t,br(e)))},t.P=function(t){return It(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var ks,Ns=[];function Ds(t){this.a=t}function Ps(t){this.c=t,this.b=!1,this.a=[]}function Rs(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ot(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new bt(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Ms(t,c),e}).s(function(e){throw Ms(t,c),e})}function Ms(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),q(t.a,function(t){return t==e})}}function js(){if(!Vs())throw new Gr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.l=a.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.i=null,this.u=!1,this.h=null;var t=this;ir()&&self?(this.m=function(){var t=ir()?self:null;if(L(Ns,function(n){n.b==t&&(e=n)}),!e){var e=new xs(t);Ns.push(e)}return e}(),this.m.subscribe("keyChanged",function(e,n){return zs(t).then(function(e){return 0<e.length&&L(t.a,function(t){t(e)}),{keyProcessed:U(e,n.key)}})}),this.m.subscribe("ping",function(){return It(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?It().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):It(null)}().then(function(e){(t.h=e)&&(t.g=new Ps(new Ds(e)),Rs(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&U(e[0].value,"keyChanged")&&(t.u=!0)}).s(function(){}))})}function Ls(t){return t.o||(t.o=function t(e){return new bt(function(n,r){var i=e.l.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new bt(function(e,n){var r=t.l.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).s(function(t){r(t)})}})}(t)),t.o}function Vs(){try{return!!a.indexedDB}catch(Gt){return!1}}function Fs(t){return t.objectStore("firebaseLocalStorage")}function Us(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Bs(t){return new bt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function qs(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Rs(t.g,"keyChanged",{key:e},t.u).then(function(){}).s(function(){}):It()}function zs(t){return Ls(t).then(function(t){var e=Fs(Us(t,!1));return e.getAll?Bs(e.getAll()):new bt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function Hs(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ks(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=It().then(function(){if(Vs()){var t=Er(),r="__sak"+t;return ks||(ks=new js),(n=ks).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){L(e.a,function(e){e(t)})}),t})}function Gs(){this.a={},this.type="inMemory"}function Qs(){if(!function(){var t="Node"==or();if(!(t=Ws()||t&&uh.a.INTERNAL.node&&uh.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==or())throw new Gr("internal-error","The LocalStorage compatibility library was not found.");throw new Gr("web-storage-unsupported")}this.a=Ws()||uh.a.INTERNAL.node.localStorage,this.type="localStorage"}function Ws(){try{var t=a.localStorage,e=Er();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ys(){this.type="nullStorage"}function Zs(){if(!function(){var t="Node"==or();if(!(t=Xs()||t&&uh.a.INTERNAL.node&&uh.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==or())throw new Gr("internal-error","The SessionStorage compatibility library was not found.");throw new Gr("web-storage-unsupported")}this.a=Xs()||uh.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Xs(){try{var t=a.sessionStorage,e=Er();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Js(){var t={};t.Browser=eu,t.Node=nu,t.ReactNative=ru,t.Worker=iu,this.a=t[or()]}xs.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];L(r,function(e){i.push(It().then(function(){return e(t.origin,t.data.data)}))}),xt(i).then(function(r){var i=[];L(r,function(t){i.push({fulfilled:t.Eb,value:t.value,reason:t.reason?t.reason.message:void 0})}),L(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},xs.prototype.subscribe=function(t,e){at(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},xs.prototype.unsubscribe=function(t,e){void 0!==this.a[t]&&e?(q(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],at(this.a)&&this.b.removeEventListener("message",this.c)},Ds.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ps.prototype.close=function(){for(;0<this.a.length;)Ms(this,this.a[0]);this.b=!0},(t=js.prototype).set=function(t,e){var n,r=!1,i=this;return Ls(this).then(function(e){return Bs((e=Fs(Us(n=e,!0))).get(t))}).then(function(o){var a=Fs(Us(n,!0));return o?(o.value=e,Bs(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Bs(a.add(o)))}).then(function(){return i.c[t]=e,qs(i,t)}).ia(function(){r&&i.b--})},t.get=function(t){return Ls(this).then(function(e){return Bs(Fs(Us(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return Ls(this).then(function(r){return e=!0,n.b++,Bs(Fs(Us(r,!0)).delete(t))}).then(function(){return delete n.c[t],qs(n,t)}).ia(function(){e&&n.b--})},t.Y=function(t){0==this.a.length&&function(t){Hs(t),function e(){t.f=setTimeout(function(){t.i=zs(t).then(function(e){0<e.length&&L(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ca=function(t){q(this.a,function(e){return e==t}),0==this.a.length&&Hs(this)},(t=Ks.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){q(this.a,function(e){return e==t})},(t=Gs.prototype).get=function(t){return It(this.a[t])},t.set=function(t,e){return this.a[t]=e,It()},t.P=function(t){return delete this.a[t],It()},t.Y=function(){},t.ca=function(){},(t=Qs.prototype).get=function(t){var e=this;return It().then(function(){return wr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return It().then(function(){var r=br(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return It().then(function(){e.a.removeItem(t)})},t.Y=function(t){a.window&&Se(a.window,"storage",t)},t.ca=function(t){a.window&&Ie(a.window,"storage",t)},(t=Ys.prototype).get=function(){return It(null)},t.set=function(){return It()},t.P=function(){return It()},t.Y=function(){},t.ca=function(){},(t=Zs.prototype).get=function(t){var e=this;return It().then(function(){return wr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return It().then(function(){var r=br(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return It().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var $s,tu,eu={B:Qs,Sa:Zs},nu={B:Qs,Sa:Zs},ru={B:As,Sa:Ys},iu={B:Qs,Sa:Ys},ou={Xc:"local",NONE:"none",Zc:"session"};function au(){var t=!(Sr(fr())||!rr()),e=gr(),n=dr();this.o=t,this.h=e,this.m=n,this.a={},$s||($s=new Js),t=$s;try{this.g=!Qn()&&Ar()||!a.indexedDB?new t.a.B:new Ks(ir()?new Gs:new t.a.B)}catch(r){this.g=new Gs,this.h=!0}try{this.i=new t.a.Sa}catch(r){this.i=new Gs}this.l=new Gs,this.f=E(this.Nb,this),this.b={}}function su(){return tu||(tu=new au),tu}function uu(t,e){switch(e){case"session":return t.i;case"none":return t.l;default:return t.g}}function cu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function lu(t,e,n){return n=cu(e,n),"local"==e.B&&(t.b[n]=null),uu(t,e.B).P(n)}function hu(t){t.c&&(clearInterval(t.c),t.c=null)}function fu(t){this.a=t,this.b=su()}(t=au.prototype).get=function(t,e){return uu(this,t.B).get(cu(t,e))},t.set=function(t,e,n){var r=cu(t,n),i=this,o=uu(this,t.B);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.B&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=cu(t,e),this.m&&(this.b[t]=a.localStorage.getItem(t)),at(this.a)&&(uu(this,"local").Y(this.f),this.h||(Qn()||!Ar())&&a.indexedDB||!this.m||function(t){hu(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new fe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Nb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=cu(t,e),this.a[t]&&(q(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),at(this.a)&&(uu(this,"local").ca(this.f),hu(this))},t.Nb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Ya(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?uu(this,"local").ca(this.f):hu(this),this.o)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.Ya(e))},Wt&&re&&10==re&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else L(t,E(this.Ya,this))},t.Ya=function(t){this.a[t]&&L(this.a[t],function(t){t()})};var pu,du={name:"authEvent",B:"local"};function yu(){this.a=su()}function mu(t,e){this.b=vu,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.m=a.Int32Array?new Int32Array(64):Array(64),void 0!==pu||(pu=a.Int32Array?new Int32Array(Tu):Tu),this.reset()}C(mu,function(){this.b=-1});for(var vu=64,gu=vu-1,bu=[],_u=0;_u<gu;_u++)bu[_u]=0;var wu=z(128,bu);function Eu(t){for(var e=t.f,n=t.m,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|pu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Su(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(s(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Eu(t),i=0);else{if(!y(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Eu(t),i=0)}}t.c=i,t.g+=n}mu.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):H(this.h)};var Tu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Cu(){mu.call(this,8,Iu)}C(Cu,mu);var Iu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ou(t,e,n,r,i){this.l=t,this.i=e,this.m=n,this.o=r||null,this.u=i||null,this.h=e+":"+n,this.v=new yu,this.g=new fu(this.h),this.f=null,this.b=[],this.a=this.c=null}function Au(t){return new Gr("invalid-cordova-configuration",t)}function xu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function ku(t){return t.f||(t.f=t.ga().then(function(){return new bt(function(e){t.wa(function n(r){return e(r),t.La(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Nu(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=xi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=wr(Je(o=$e(i),"firebaseError")||null))?Qr(o):null)?new so(r.c,r.b,null,null,o):new so(r.c,r.b,i,r.f)),i=o||n}xu(t,i)})}var n=new so("unknown",null,null,null,new Gr("no-auth-event")),r=!1,i=Ue(500).then(function(){return Nu(t).then(function(){r||xu(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(pr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},ho||(ho=new co),ho.subscribe(e)}(t)})})),t.f}function Nu(t){var e=null;return function(t){return t.b.get(du,t.a).then(function(t){return uo(t)})}(t.g).then(function(n){return e=n,lu((n=t.g).b,du,n.a)}).then(function(){return e})}function Du(t){this.a=t,this.b=su()}(t=Ou.prototype).ga=function(){return this.za?this.za:this.za=(nr(void 0)?er().then(function(){return new bt(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ot(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof pr("universalLinks.subscribe",a))throw Au("cordova-universal-links-plugin-fix is not installed");if(void 0===pr("BuildInfo.packageName",a))throw Au("cordova-plugin-buildinfo is not installed");if("function"!=typeof pr("cordova.plugins.browsertab.openUrl",a))throw Au("cordova-plugin-browsertab is not installed");if("function"!=typeof pr("cordova.InAppBrowser.open",a))throw Au("cordova-plugin-inappbrowser is not installed")},function(){throw new Gr("cordova-not-ready")})},t.Ea=function(t,e){return e(new Gr("operation-not-supported-in-this-environment")),It()},t.Db=function(){return Ot(new Gr("operation-not-supported-in-this-environment"))},t.Ob=function(){return!1},t.Mb=function(){return!0},t.Hb=function(){return!0},t.Ca=function(t,e,n){if(this.c)return Ot(new Gr("redirect-operation-pending"));var r=this,i=a.document,o=null,s=null,u=null,c=null;return this.c=It().then(function(){return ao(e),ku(r)}).then(function(){return function(t,e,n,r){var i=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),o=new so(e,r,null,i,new Gr("no-auth-event")),s=pr("BuildInfo.packageName",a);if("string"!=typeof s)throw new Gr("invalid-cordova-configuration");var u=pr("BuildInfo.displayName",a),c={};if(fr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!fr().toLowerCase().match(/android/))return Ot(new Gr("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),i=function(t){var e=new Cu;Su(e,t),t=[];var n=8*e.g;Su(e,wu,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Eu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return V(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(i),c.sessionId=i;var l=Os(t.l,t.i,t.m,e,n,null,r,t.o,c,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(du,o.w(),e)}).then(function(){var e=pr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new Gr("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=pr("cordova.plugins.browsertab.openUrl",a)))throw new Gr("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=pr("cordova.InAppBrowser.open",a)))throw new Gr("invalid-cordova-configuration");e=fr(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(r,t,e,n)}).then(function(){return new bt(function(t,e){s=function(){var e=pr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.wa(s),c=function(){Ir()&&u()},i.addEventListener("resume",u=function(){o||(o=Ue(2e3).then(function(){e(new Gr("redirect-cancelled-by-user"))}))},!1),fr().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",c,!1)}).s(function(t){return Nu(r).then(function(){throw t})})}).ia(function(){u&&i.removeEventListener("resume",u,!1),c&&i.removeEventListener("visibilitychange",c,!1),o&&o.cancel(),s&&r.La(s),r.c=null})},t.wa=function(t){this.b.push(t),ku(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new so("unknown",null,null,null,new Gr("no-auth-event")),t(e))})},t.La=function(t){q(this.b,function(e){return e==t})};var Pu={name:"pendingRedirect",B:"session"};function Ru(t){return lu(t.b,Pu,t.a)}function Mu(t,e,n){this.i={},this.u=0,this.A=t,this.l=e,this.o=n,this.h=[],this.f=!1,this.m=E(this.cb,this),this.b=new Ku,this.v=new Yu,this.g=new Du(this.l+":"+this.o),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.v,this.c.linkViaPopup=this.v,this.c.reauthViaPopup=this.v,this.a=ju(this.A,this.l,this.o,fi)}function ju(t,e,n,r){var i=uh.a.SDK_VERSION||null;return nr()?new Ou(t,e,n,i,r):new Ss(t,e,n,i,r)}function Lu(t){t.f||(t.f=!0,t.a.wa(t.m));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function Vu(t){t.a.Mb()&&Lu(t).s(function(e){var n=new so("unknown",null,null,null,new Gr("operation-not-supported-in-this-environment"));qu(e)&&t.cb(n)}),t.a.Hb()||Gu(t.b)}(t=Mu.prototype).reset=function(){this.f=!1,this.a.La(this.m),this.a=ju(this.A,this.l,this.o),this.i={}},t.Za=function(){this.b.Za()},t.subscribe=function(t){if(U(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(Pu,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?Ru(e.g).then(function(){Lu(e).s(function(t){var n=new so("unknown",null,null,null,new Gr("operation-not-supported-in-this-environment"));qu(t)&&e.cb(n)})}):Vu(e)}).s(function(){Vu(e)})}},t.unsubscribe=function(t){q(this.h,function(e){return e==t})},t.cb=function(t){if(!t)throw new Gr("invalid-auth-event");if(6e5<=T()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=T())),e=!0;break}}return Gu(this.b),e};var Fu=new Cr(2e3,1e4),Uu=new Cr(3e4,6e4);function Bu(t,e,n,r,i,o){return t.a.Db(e,n,r,function(){t.f||(t.f=!0,t.a.wa(t.m))},function(){t.reset()},i,o)}function qu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}Mu.prototype.fa=function(){return this.b.fa()},Mu.prototype.Ca=function(t,e,n){var r,i=this;return function(t){return t.b.set(Pu,"pending",t.a)}(this.g).then(function(){return i.a.Ca(t,e,n).s(function(t){if(qu(t))throw new Gr("operation-not-supported-in-this-environment");return r=t,Ru(i.g).then(function(){throw r})}).then(function(){return i.a.Ob()?new bt(function(){}):Ru(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},Mu.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},Fu.get())};var zu={};function Hu(t,e,n){var r=e+":"+n;return zu[r]||(zu[r]=new Mu(t,e,n)),zu[r]}function Ku(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gu(t){t.g||(t.g=!0,Wu(t,!1,null,null))}function Qu(t,e){if(t.b=function(){return It(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Wu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ot(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Qu(t,n):Qu(t,{user:null}),t.f=[],t.c=[]}function Yu(){}function Zu(){this.ub=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ub},set:function(t){this.ub=t},enumerable:!1})}function Xu(t,e){this.a=e,Pr(this,"verificationId",t)}function Ju(t,e,n,r){return new ro(t).Va(e,n).then(function(t){return new Xu(t,r)})}function $u(t){var e=hi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Gr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Rr(this,{token:t,expirationTime:Or(1e3*e.exp),authTime:Or(1e3*e.auth_time),issuedAtTime:Or(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function tc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ec(t){this.f=t,this.b=this.a=null,this.c=0}function nc(t,e){var n=e[va],r=e.refreshToken;e=rc(e.expiresIn),t.b=n,t.c=e,t.a=r}function rc(t){return T()+1e3*parseInt(t,10)}function ic(t,e){this.a=t||null,this.b=e||null,Rr(this,{lastSignInTime:Or(e||null),creationTime:Or(t||null)})}function oc(t,e,n,r,i,o){Rr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ac(t,e){for(var n in he.call(this,t),e)this[n]=e[n]}function sc(t,e,n){this.G=[],this.l=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=uh.a.SDK_VERSION?hr(uh.a.SDK_VERSION):null,this.c=new ya(this.l,di(fi),t),this.h=new ec(this.c),dc(this,e[va]),nc(this.h,e),Pr(this,"refreshToken",this.h.a),vc(this,n||{}),Me.call(this),this.I=!1,this.u&&yr()&&(this.a=Hu(this.u,this.l,this.o)),this.N=[],this.i=null,this.A=function(t){return new tc(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-T()-3e5;return 0<e?e:0})}(this),this.V=E(this.Ha,this);var r=this;this.ka=null,this.ta=function(t){r.pa(t.g)},this.X=null,this.O=[],this.sa=function(t){cc(r,t.c)},this.W=null}function uc(t,e){t.X&&Ie(t.X,"languageCodeChanged",t.ta),(t.X=e)&&Se(e,"languageCodeChanged",t.ta)}function cc(t,e){t.O=e,Sa(t.c,uh.a.SDK_VERSION?hr(uh.a.SDK_VERSION,t.O):null)}function lc(t,e){t.W&&Ie(t.W,"frameworkChanged",t.sa),(t.W=e)&&Se(e,"frameworkChanged",t.sa)}function hc(t){try{return uh.a.app(t.o).auth()}catch(e){throw new Gr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function fc(t){t.D||t.A.b||(t.A.start(),Ie(t,"tokenChanged",t.V),Se(t,"tokenChanged",t.V))}function pc(t){Ie(t,"tokenChanged",t.V),t.A.stop()}function dc(t,e){t.ra=e,Pr(t,"_lat",e)}function yc(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return xt(e).then(function(){return t})}function mc(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function vc(t,e){Rr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new ic(e.createdAt,e.lastLoginAt),providerData:[]})}function gc(){}function bc(t){return It().then(function(){if(t.D)throw new Gr("app-deleted")})}function _c(t){return V(t.providerData,function(t){return t.providerId})}function wc(t,e){e&&(Ec(t,e.providerId),t.providerData.push(e))}function Ec(t,e){q(t.providerData,function(t){return t.providerId==e})}function Sc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Pr(t,e,n)}function Tc(t,e){t!=e&&(Rr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),Pr(t,"metadata",e.metadata?function(t){return new ic(t.a,t.b)}(e.metadata):new ic),L(e.providerData,function(e){wc(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Pr(t,"refreshToken",t.h.a))}function Cc(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return fs(t.c,Qa,{idToken:e}).then(E(t.wc,t))}(t,e).then(function(){return n||Sc(t,"isAnonymous",!1),e})})}function Ic(t,e){e[va]&&t.ra!=e[va]&&(nc(t.h,e),t.dispatchEvent(new ac("tokenChanged")),dc(t,e[va]),Sc(t,"refreshToken",t.h.a))}function Oc(t,e){return Cc(t).then(function(){if(U(_c(t),e))return yc(t).then(function(){throw new Gr("provider-already-linked")})})}function Ac(t,e,n){return Mr({user:t,credential:oo(e),additionalUserInfo:e=bi(e),operationType:n})}function xc(t,e){return Ic(t,e),t.reload().then(function(){return t})}function kc(t,e,n,r,i){if(!yr())return Ot(new Gr("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ot(t.i);var o=gi(n.providerId),a=Er(t.uid+":::"),s=null;(!gr()||rr())&&t.u&&n.isOAuthProvider&&(s=Os(t.u,t.l,t.o,e,n,null,a,uh.a.SDK_VERSION||null));var u=Jn(s,o&&o.Ba,o&&o.Aa);return r=r().then(function(){if(Dc(t),!i)return t.F().then(function(){})}).then(function(){return Bu(t.a,u,e,n,a,!!s)}).then(function(){return new bt(function(n,r){t.ha(e,null,new Gr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=a,t.b=t.a.Ea(t,e,u,a)})}).then(function(t){return u&&Xn(u),t?Mr(t):null}).s(function(t){throw u&&Xn(u),t}),Pc(t,r,i)}function Nc(t,e,n,r,i){if(!yr())return Ot(new Gr("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ot(t.i);var o=null,a=Er(t.uid+":::");return r=r().then(function(){if(Dc(t),!i)return t.F().then(function(){})}).then(function(){return t.aa=a,yc(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(jc,t.w(),e.a)),e}).then(function(){return t.a.Ca(e,n,a)}).s(function(e){if(o=e,t.ba)return Lc(t.ba);throw o}).then(function(){if(o)throw o}),Pc(t,r,i)}function Dc(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Gr("internal-error");throw new Gr("auth-domain-config-required")}}function Pc(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ot(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new ac("userInvalidated")),t.i=e),e})}(t,e,n);return t.G.push(r),r.ia(function(){B(t.G,r)}),r}function Rc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[va]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-T())/1e3;var r=new sc(e,n,t);return t.providerData&&L(t.providerData,function(t){t&&wc(r,Mr(t))}),t.redirectEventId&&(r.aa=t.redirectEventId),r}function Mc(t){this.a=t,this.b=su()}Ku.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ku.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Wu(this,!0,null,t.a),It()):e.xa(n,r)?function(t,e,n){n=n.xa(e.c,e.b);var r=e.g,i=e.f,o=e.h,a=!!e.c.match(/Redirect$/);n(r,i,o).then(function(e){Wu(t,a,e,null)}).s(function(e){Wu(t,a,null,e)})}(this,t,e):Ot(new Gr("invalid-auth-event")):(Wu(this,!1,null,null),It())}else Ot(new Gr("invalid-auth-event"))},Ku.prototype.Za=function(){this.g&&!this.i&&Wu(this,!1,null,null)},Ku.prototype.fa=function(){var t=this;return new bt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Gr("timeout");t.a&&t.a.cancel(),t.a=Ue(Uu.get()).then(function(){t.b||(t.g=!0,Wu(t,!0,null,e))})}(t))})},Yu.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ha(t.c,null,t.a,t.b),It()):e.xa(n,r)?function(t,e){var n=t.b,r=t.c;e.xa(r,n)(t.g,t.f,t.h).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}(t,e):Ot(new Gr("invalid-auth-event"))}else Ot(new Gr("invalid-auth-event"))},Xu.prototype.confirm=function(t){return t=io(this.verificationId,t),this.a(t)},tc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Ue(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return t=a.document,e=null,Ir()||!t?It():new bt(function(n){e=function(){Ir()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},tc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ec.prototype.w=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},ec.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ot(new Gr("user-token-expired")):t||!this.b||T()>this.c-3e4?this.a?function(t,e){return function(t,e){return new bt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ta(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(ds(t)):t.access_token&&t.refresh_token?n(t):r(new Gr("internal-error")):r(new Gr("network-request-failed"))},"POST",fn(e).toString(),t.f,t.m.get()):r(new Gr("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=rc(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):It(null):It({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},ic.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(ac,he),C(sc,Me),sc.prototype.pa=function(t){this.ka=t,Ea(this.c,t)},sc.prototype.ea=function(){return this.ka},sc.prototype.ya=function(){return H(this.O)},sc.prototype.Ha=function(){this.A.b&&(this.A.stop(),this.A.start())},Pr(sc.prototype,"providerId","firebase"),(t=sc.prototype).reload=function(){var t=this;return Pc(this,bc(this).then(function(){return Cc(t).then(function(){return yc(t)}).then(gc)}))},t.ac=function(t){return this.F(t).then(function(t){return new $u(t)})},t.F=function(t){var e=this;return Pc(this,bc(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Gr("internal-error");return t.accessToken!=e.ra&&(dc(e,t.accessToken),e.dispatchEvent(new ac("tokenChanged"))),Sc(e,"refreshToken",t.refreshToken),t.accessToken}))},t.wc=function(t){if(!(t=t.users)||!t.length)throw new Gr("internal-error");vc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?V(t,function(t){return new oc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)wc(this,e[n]);Sc(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.xc=function(t){return Nr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(t)},t.hb=function(t){var e=this,n=null;return Pc(this,t.f(this.c,this.uid).then(function(t){return Ic(e,t),n=Ac(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.oc=function(t){return Nr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(t)},t.fb=function(t){var e=this,n=null;return Pc(this,Oc(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.b(e.c,n)}).then(function(t){return n=Ac(e,t,"link"),xc(e,t)}).then(function(){return n}))},t.pc=function(t,e){var n=this;return Pc(this,Oc(this,"phone").then(function(){return Ju(hc(n),t,e,E(n.fb,n))}))},t.yc=function(t,e){var n=this;return Pc(this,It().then(function(){return Ju(hc(n),t,e,E(n.hb,n))}),!0)},t.rb=function(t){var e=this;return Pc(this,this.F().then(function(n){return e.c.rb(n,t)}).then(function(t){return Ic(e,t),e.reload()}))},t.Pc=function(t){var e=this;return Pc(this,this.F().then(function(n){return t.b(e.c,n)}).then(function(t){return Ic(e,t),e.reload()}))},t.sb=function(t){var e=this;return Pc(this,this.F().then(function(n){return e.c.sb(n,t)}).then(function(t){return Ic(e,t),e.reload()}))},t.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return bc(this);var e=this;return Pc(this,this.F().then(function(n){return e.c.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ic(e,t),Sc(e,"displayName",t.displayName||null),Sc(e,"photoURL",t.photoUrl||null),L(e.providerData,function(t){"password"===t.providerId&&(Pr(t,"displayName",e.displayName),Pr(t,"photoURL",e.photoURL))}),yc(e)}).then(gc))},t.Nc=function(t){var e=this;return Pc(this,Cc(this).then(function(n){return U(_c(e),t)?function(t,e,n){return fs(t,Ha,{idToken:e,deleteProvider:n})}(e.c,n,[t]).then(function(t){var n={};return L(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),L(_c(e),function(t){n[t]||Ec(e,t)}),n[ro.PROVIDER_ID]||Pr(e,"phoneNumber",null),yc(e)}):yc(e).then(function(){throw new Gr("no-such-provider")})}))},t.delete=function(){var t=this;return Pc(this,this.F().then(function(e){return fs(t.c,za,{idToken:e})}).then(function(){t.dispatchEvent(new ac("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");uc(t,null),lc(t,null),t.G=[],t.D=!0,pc(t),Pr(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},t.xa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?E(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?E(this.Cb,this):"linkViaRedirect"==t&&(this.aa||null)==e?E(this.Bb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?E(this.Cb,this):null},t.qc=function(t){var e=this;return kc(this,"linkViaPopup",t,function(){return Oc(e,t.providerId).then(function(){return yc(e)})},!1)},t.zc=function(t){return kc(this,"reauthViaPopup",t,function(){return It()},!0)},t.rc=function(t){var e=this;return Nc(this,"linkViaRedirect",t,function(){return Oc(e,t.providerId)},!1)},t.Ac=function(t){return Nc(this,"reauthViaRedirect",t,function(){return It()},!0)},t.Bb=function(t,e,n){var r=this;this.b&&(this.b.cancel(),this.b=null);var i=null;return Pc(this,this.F().then(function(i){return ja(r.c,{requestUri:t,postBody:n,sessionId:e,idToken:i})}).then(function(t){return i=Ac(r,t,"link"),xc(r,t)}).then(function(){return i}))},t.Cb=function(t,e,n){var r=this;this.b&&(this.b.cancel(),this.b=null);var i=null;return Pc(this,It().then(function(){return Ni(La(r.c,{requestUri:t,sessionId:e,postBody:n}),r.uid)}).then(function(t){return i=Ac(r,t,"reauthenticate"),Ic(r,t),r.i=null,r.reload()}).then(function(){return i}),!0)},t.kb=function(t){var e=this,n=null;return Pc(this,this.F().then(function(e){return n=e,void 0===t||at(t)?{}:ai(new Zr(t))}).then(function(t){return e.c.kb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.o,authDomain:this.u,stsTokenManager:this.h.w(),redirectEventId:this.aa||null};return this.metadata&&ht(t,this.metadata.w()),L(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var jc={name:"redirectUser",B:"session"};function Lc(t){return lu(t.b,jc,t.a)}function Vc(t){this.a=t,this.b=su(),this.c=null,this.f=function(t){var e=Bc("local"),n=Bc("session"),r=Bc("none");return function(t,e,n){var r=cu(e,n),i=uu(t,e.B);return t.get(e,n).then(function(o){var s=null;try{s=wr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Uc,t.a).then(function(t){return t?Bc(t):e})})})}).then(function(e){return t.c=e,Fc(t,e.B)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(Bc("local"),this.a,E(this.g,this))}function Fc(t,e){var n,r=[];for(n in ou)ou[n]!==e&&r.push(lu(t.b,Bc(ou[n]),t.a));return r.push(lu(t.b,Uc,t.a)),function(t){return new bt(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)At(t[s],S(o,s),a);else e(i)})}(r)}Vc.prototype.g=function(){var t=this,e=Bc("local");Kc(this,function(){return It().then(function(){return t.c&&"local"!=t.c.B?t.b.get(e,t.a):null}).then(function(n){if(n)return Fc(t,"local").then(function(){t.c=e})})})};var Uc={name:"persistence",B:"session"};function Bc(t){return{name:"authUser",B:t}}function qc(t,e){return Kc(t,function(){return t.b.set(t.c,e.w(),t.a)})}function zc(t){return Kc(t,function(){return lu(t.b,t.c,t.a)})}function Hc(t,e){return Kc(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Rc(t||{})})})}function Kc(t,e){return t.f=t.f.then(e,e),t.f}function Gc(t){if(this.l=!1,Pr(this,"settings",new Zu),Pr(this,"app",t),!$c(this).options||!$c(this).options.apiKey)throw new Gr("invalid-api-key");t=uh.a.SDK_VERSION?hr(uh.a.SDK_VERSION):null,this.c=new ya($c(this).options&&$c(this).options.apiKey,di(fi),t),this.N=[],this.o=[],this.I=[],this.Rb=uh.a.INTERNAL.createSubscribe(E(this.kc,this)),this.O=void 0,this.Sb=uh.a.INTERNAL.createSubscribe(E(this.mc,this)),Xc(this,null),this.h=new Vc($c(this).options.apiKey+":"+$c(this).name),this.A=new Mc($c(this).options.apiKey+":"+$c(this).name),this.V=rl(this,function(t){var e=$c(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(jc,t.a).then(function(t){return t&&e&&(t.authDomain=e),Rc(t||{})})}(t.A,$c(t).options.authDomain).then(function(e){return(t.D=e)&&(e.ba=t.A),Lc(t.A)});return rl(t,e)}(t).then(function(){return Hc(t.h,e)}).then(function(e){return e?(e.ba=t.A,t.D&&(t.D.aa||null)==(e.aa||null)?e:e.reload().then(function(){return qc(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:zc(t.h)})):null}).then(function(e){Xc(t,e||null)});return rl(t,n)}(this)),this.i=rl(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.l)return t.ka()}).s(function(){}).then(function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(Bc("local"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=E(this.Kc,this),this.Ha=E(this.Z,this),this.ra=E(this.Zb,this),this.sa=E(this.ic,this),this.ta=E(this.jc,this),function(t){var e=$c(t).options.authDomain,n=$c(t).options.apiKey;e&&yr()&&(t.Qb=t.V.then(function(){if(!t.l){if(t.a=Hu(e,n,$c(t).name),t.a.subscribe(t),tl(t)&&mc(tl(t)),t.D){mc(t.D);var r=t.D;r.pa(t.ea()),uc(r,t),cc(r=t.D,t.G),lc(r,t),t.D=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.sc,this),this.u=0,Me.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.pa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function Qc(t){he.call(this,"languageCodeChanged"),this.g=t}function Wc(t){he.call(this,"frameworkChanged"),this.c=t}function Yc(t){return t.Qb||Ot(new Gr("auth-domain-config-required"))}function Zc(t,e){var n={};return n.apiKey=$c(t).options.apiKey,n.authDomain=$c(t).options.authDomain,n.appName=$c(t).name,t.V.then(function(){return function(t,e,n,r){var i=new sc(t,e);return n&&(i.ba=n),r&&cc(i,r),i.reload().then(function(){return i})}(n,e,t.A,t.ya())}).then(function(e){return tl(t)&&e.uid==tl(t).uid?(Tc(tl(t),e),t.Z(e)):(Xc(t,e),mc(e),t.Z(e))}).then(function(){nl(t)})}function Xc(t,e){tl(t)&&(function(t,e){q(t.N,function(t){return t==e})}(tl(t),t.Ha),Ie(tl(t),"tokenChanged",t.ra),Ie(tl(t),"userDeleted",t.sa),Ie(tl(t),"userInvalidated",t.ta),pc(tl(t))),e&&(e.N.push(t.Ha),Se(e,"tokenChanged",t.ra),Se(e,"userDeleted",t.sa),Se(e,"userInvalidated",t.ta),0<t.u&&fc(e)),Pr(t,"currentUser",e),e&&(e.pa(t.ea()),uc(e,t),cc(e,t.G),lc(e,t))}function Jc(t,e){var n=null,r=null;return rl(t,e.then(function(e){return n=oo(e),r=bi(e),Zc(t,e)}).then(function(){return Mr({user:tl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function $c(t){return t.app}function tl(t){return t.currentUser}function el(t){return tl(t)&&tl(t)._lat||null}function nl(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](el(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](el(t))}}function rl(t,e){return t.N.push(e),e.ia(function(){B(t.N,e)}),e}function il(){}function ol(){this.a={},this.b=1e12}Vc.prototype.nb=function(t){var e=null,n=this;return function(t){var e=new Gr("invalid-persistence-type"),n=new Gr("unsupported-persistence-type");t:{for(r in ou)if(ou[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(or()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!dr()&&"none"!==t)throw n}}(t),Kc(this,function(){return t!=n.c.B?n.b.get(n.c,n.a).then(function(r){return e=r,Fc(n,t)}).then(function(){if(n.c=Bc(t),e)return n.b.set(n.c,e,n.a)}):It()})},C(Gc,Me),C(Qc,he),C(Wc,he),(t=Gc.prototype).nb=function(t){return rl(this,t=this.h.nb(t))},t.pa=function(t){this.W===t||this.l||(this.W=t,Ea(this.c,this.W),this.dispatchEvent(new Qc(this.ea())))},t.ea=function(){return this.W},t.Qc=function(){var t=a.navigator;this.pa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.sc=function(t){this.G.push(t),Sa(this.c,uh.a.SDK_VERSION?hr(uh.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Wc(this.G))},t.ya=function(){return H(this.G)},t.toJSON=function(){return{apiKey:$c(this).options.apiKey,authDomain:$c(this).options.authDomain,appName:$c(this).name,currentUser:tl(this)&&tl(this).w()}},t.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},t.xa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?E(this.Yb,this):null},t.Yb=function(t,e,n){var r=this;t={requestUri:t,postBody:n,sessionId:e},this.b&&(this.b.cancel(),this.b=null);var i=null,o=null,a=Ma(r.c,t).then(function(t){return i=oo(t),o=bi(t),t});return rl(this,t=r.V.then(function(){return a}).then(function(t){return Zc(r,t)}).then(function(){return Mr({user:tl(r),credential:i,additionalUserInfo:o,operationType:"signIn"})}))},t.Ic=function(t){if(!yr())return Ot(new Gr("operation-not-supported-in-this-environment"));var e=this,n=gi(t.providerId),r=Er(),i=null;(!gr()||rr())&&$c(this).options.authDomain&&t.isOAuthProvider&&(i=Os($c(this).options.authDomain,$c(this).options.apiKey,$c(this).name,"signInViaPopup",t,null,r,uh.a.SDK_VERSION||null));var o=Jn(i,n&&n.Ba,n&&n.Aa);return rl(this,n=Yc(this).then(function(e){return Bu(e,o,"signInViaPopup",t,r,!!i)}).then(function(){return new bt(function(t,n){e.ha("signInViaPopup",null,new Gr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.b=e.a.Ea(e,"signInViaPopup",o,r)})}).then(function(t){return o&&Xn(o),t?Mr(t):null}).s(function(t){throw o&&Xn(o),t}))},t.Jc=function(t){if(!yr())return Ot(new Gr("operation-not-supported-in-this-environment"));var e=this;return rl(this,Yc(this).then(function(){return Kc(t=e.h,function(){return t.b.set(Uc,t.c.B,t.a)});var t}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},t.fa=function(){if(!yr())return Ot(new Gr("operation-not-supported-in-this-environment"));var t=this;return rl(this,Yc(this).then(function(){return t.a.fa()}).then(function(t){return t?Mr(t):null}))},t.Oc=function(t){if(!t)return Ot(new Gr("null-user"));var e=this,n={};n.apiKey=$c(this).options.apiKey,n.authDomain=$c(this).options.authDomain,n.appName=$c(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.u,appName:t.o};var i=t.h,o={};return o[va]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-T())/1e3,e=new sc(e,o),n&&(e.ba=n),r&&cc(e,r),Tc(e,t),e}(t,n,e.A,e.ya());return rl(this,this.i.then(function(){if($c(e).options.apiKey!=t.l)return r.reload()}).then(function(){return tl(e)&&t.uid==tl(e).uid?(Tc(tl(e),t),e.Z(t)):(Xc(e,r),mc(r),e.Z(r))}).then(function(){nl(e)}))},t.pb=function(){var t=this;return rl(this,this.i.then(function(){return tl(t)?(Xc(t,null),zc(t.h).then(function(){nl(t)})):It()}))},t.Kc=function(){var t=this;return Hc(this.h,$c(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=tl(t)&&e){n=tl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Tc(tl(t),e),tl(t).F();(tl(t)||e)&&(Xc(t,e),e&&(mc(e),e.ba=t.A),t.a&&t.a.subscribe(t),nl(t))}})},t.Z=function(t){return qc(this.h,t)},t.Zb=function(){nl(this),this.Z(tl(this))},t.ic=function(){this.pb()},t.jc=function(){this.pb()},t.kc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(tl(e))})},t.mc=function(t){var e=this;!function(t,e){t.I.push(e),rl(t,t.i.then(function(){!t.l&&U(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(el(t)))}))}(this,function(){t.next(tl(e))})},t.uc=function(t,e,n){var r=this;return this.X&&Promise.resolve().then(function(){m(t)?t(tl(r)):m(t.next)&&t.next(tl(r))}),this.Rb(t,e,n)},t.tc=function(t,e,n){var r=this;return this.X&&Promise.resolve().then(function(){r.O=r.getUid(),m(t)?t(tl(r)):m(t.next)&&t.next(tl(r))}),this.Sb(t,e,n)},t.$b=function(t){var e=this;return rl(this,this.i.then(function(){return tl(e)?tl(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Ec=function(t){var e=this;return this.i.then(function(){return Jc(e,fs(e.c,ss,{token:t}))}).then(function(t){var n=t.user;return Sc(n,"isAnonymous",!1),e.Z(n),t})},t.Fc=function(t,e){var n=this;return this.i.then(function(){return Jc(n,fs(n.c,us,{email:t,password:e}))})},t.Ub=function(t,e){var n=this;return this.i.then(function(){return Jc(n,fs(n.c,Ba,{email:t,password:e}))})},t.Ra=function(t){var e=this;return this.i.then(function(){return Jc(e,t.la(e.c))})},t.Dc=function(t){return Nr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(t)},t.ob=function(){var t=this;return this.i.then(function(){var e=tl(t);if(e&&e.isAnonymous){var n=Mr({providerId:null,isNewUser:!1});return Mr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Jc(t,t.c.ob()).then(function(e){var n=e.user;return Sc(n,"isAnonymous",!0),t.Z(n),e})})},t.getUid=function(){return tl(this)&&tl(this).uid||null},t.Tb=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&tl(this)&&fc(tl(this))},t.Bc=function(t){var e=this;L(this.o,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&tl(this)&&pc(tl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.o.push(t),rl(this,this.i.then(function(){e.l||U(e.o,t)&&t(el(e))}))},t.removeAuthTokenListener=function(t){q(this.o,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(Bc("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Za()),Promise.resolve()},t.Xb=function(t){return rl(this,function(t,e){return fs(t,qa,{identifier:e,continueUri:mr()?Wn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.c,t))},t.nc=function(t){return!!$i(t)},t.mb=function(t,e){var n=this;return rl(this,It().then(function(){var t=new Zr(e);if(!t.c)throw new Gr("argument-error",$r+" must be true when sending sign in link to email");return ai(t)}).then(function(e){return n.c.mb(t,e)}).then(function(){}))},t.Rc=function(t){return this.Ka(t).then(function(t){return t.data.email})},t.$a=function(t,e){return rl(this,this.c.$a(t,e).then(function(){}))},t.Ka=function(t){return rl(this,this.c.Ka(t).then(function(t){return new Lr(t)}))},t.Xa=function(t){return rl(this,this.c.Xa(t).then(function(){}))},t.lb=function(t,e){var n=this;return rl(this,It().then(function(){return void 0===e||at(e)?{}:ai(new Zr(e))}).then(function(e){return n.c.lb(t,e)}).then(function(){}))},t.Hc=function(t,e){return rl(this,Ju(this,t,e,E(this.Ra,this)))},t.Gc=function(t,e){var n=this;return rl(this,It().then(function(){var r=Ji(t,e||Wn());return n.Ra(r)}))},il.prototype.render=function(){},il.prototype.reset=function(){},il.prototype.getResponse=function(){},il.prototype.execute=function(){};var al=null;function sl(t,e){return(e=ul(e))&&t.a[e]||null}function ul(t){return(t=void 0===t?1e12:t)?t.toString():null}function cl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Vn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Se(this.f,"click",this.i)}function ll(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function hl(){}ol.prototype.render=function(t,e){return this.a[this.b.toString()]=new cl(t,e),this.b++},ol.prototype.reset=function(t){var e=sl(this,t);t=ul(t),e&&t&&(e.delete(),delete this.a[t])},ol.prototype.getResponse=function(t){return(t=sl(this,t))?t.getResponse():null},ol.prototype.execute=function(t){(t=sl(this,t))&&t.execute()},cl.prototype.getResponse=function(){return ll(this),this.b},cl.prototype.execute=function(){ll(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},cl.prototype.delete=function(){ll(this),this.g=!0,clearTimeout(this.a),this.a=null,Ie(this.f,"click",this.i)},hl.prototype.g=function(){return al||(al=new ol),It(al)},hl.prototype.c=function(){};var fl=null;function pl(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var dl=new bn(En,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),yl=new Cr(3e4,6e4);pl.prototype.g=function(t){var e=this;return new bt(function(n,r){var i=setTimeout(function(){r(new Gr("network-request-failed"))},yl.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new Gr("internal-error"));delete a[e.a]},It(ua(Cn(dl,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(i),r(new Gr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},pl.prototype.c=function(){this.b--};var ml=null;function vl(t,e,n,r,i,o,s){if(Pr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.l=e,this.g=null,s?(fl||(fl=new hl),s=fl):(ml||(ml=new pl),s=ml),this.o=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[_l])throw new Gr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[wl],!a.document)throw new Gr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Vn(e)||!this.i&&Vn(e).hasChildNodes())throw new Gr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new ya(t,o||null,i||null),this.v=r||function(){return null};var u=this;this.m=[];var c=this.a[gl];this.a[gl]=function(t){if(El(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=pr(c,a);"function"==typeof e&&e(t)}};var l=this.a[bl];this.a[bl]=function(){if(El(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=pr(l,a);"function"==typeof t&&t()}}}var gl="callback",bl="expired-callback",_l="sitekey",wl="size";function El(t,e){for(var n=0;n<t.m.length;n++)try{t.m[n](e)}catch(r){}}function Sl(t,e){return t.h.push(e),e.ia(function(){B(t.h,e)}),e}function Tl(t){if(t.D)throw new Gr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Cl(t,e,n){var r=!1;try{this.b=n||uh.a.app()}catch(a){throw new Gr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Gr("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().ya()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=uh.a.SDK_VERSION?hr(uh.a.SDK_VERSION,o):null,vl.call(this,n,t,e,function(){try{var t=i.b.auth().ea()}catch(e){t=null}return t},o,di(fi),r)}function Il(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Gr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Ol.length)throw new Gr("internal-error","Argument validator received an unsupported number of arguments.");n=Ol[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Gr("argument-error",t+" failed: "+r)}(t=vl.prototype).za=function(){var t=this;return this.f?this.f:this.f=Sl(this,It().then(function(){if(mr()&&!ir())return er();throw new Gr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,fs(t.u,Ja,{})}).then(function(e){t.a[_l]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){Tl(this);var t=this;return Sl(this,this.za().then(function(){if(null===t.c){var e=t.l;if(!t.i){var n=Vn(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!gn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',pt(a.name),'"'),a.type){o.push(' type="',pt(a.type),'"');var u={};ht(u,a),delete u.type,a=u}o.push(">"),o=o.join("")}return o=i.createElement(o),a&&(s(a)?o.className=a:d(a)?o.className=a.join(" "):Fn(o,a)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(s(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!y(o)||v(o)&&0<o.nodeType?r(o):L(Bn(o)?H(o):o,r)}}(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Tl(this);var t=this;return Sl(this,this.render().then(function(e){return new bt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){q(t.m,function(t){return t==e})}(t,i),n(e))};t.m.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Tl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Tl(this),this.D=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Vn(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}},C(Cl,vl);var Ol="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Al(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:s}}function xl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:u}}function kl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:v}}function Nl(t,e){return{name:t||"",K:"a function",optional:!!e,M:m}}function Dl(t,e){return{name:t||"",K:"null",optional:!!e,M:p}}function Pl(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.la||t&&e.providerId!==t)}}}function Rl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&s(t.type)&&m(t.verify))}}}function Ml(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function jl(t,e){for(var n in e){var r=e[n].name;t[r]=Fl(r,t[n],e[n].j)}}function Ll(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:S(function(t){return this[t]},n),set:S(function(t,e,n,r){Il(t,[n],[r],!0),this[e]=r},r,n,e[n].vb),enumerable:!0})}}function Vl(t,e,n,r){t[e]=Fl(e,n,r)}function Fl(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Il(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}jl(Gc.prototype,{Xa:{name:"applyActionCode",j:[Al("code")]},Ka:{name:"checkActionCode",j:[Al("code")]},$a:{name:"confirmPasswordReset",j:[Al("code"),Al("newPassword")]},Ub:{name:"createUserWithEmailAndPassword",j:[Al("email"),Al("password")]},Xb:{name:"fetchSignInMethodsForEmail",j:[Al("email")]},fa:{name:"getRedirectResult",j:[]},nc:{name:"isSignInWithEmailLink",j:[Al("emailLink")]},tc:{name:"onAuthStateChanged",j:[Ml(kl(),Nl(),"nextOrObserver"),Nl("opt_error",!0),Nl("opt_completed",!0)]},uc:{name:"onIdTokenChanged",j:[Ml(kl(),Nl(),"nextOrObserver"),Nl("opt_error",!0),Nl("opt_completed",!0)]},lb:{name:"sendPasswordResetEmail",j:[Al("email"),Ml(kl("opt_actionCodeSettings",!0),Dl(null,!0),"opt_actionCodeSettings",!0)]},mb:{name:"sendSignInLinkToEmail",j:[Al("email"),kl("actionCodeSettings")]},nb:{name:"setPersistence",j:[Al("persistence")]},Dc:{name:"signInAndRetrieveDataWithCredential",j:[Pl()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[Pl()]},Ec:{name:"signInWithCustomToken",j:[Al("token")]},Fc:{name:"signInWithEmailAndPassword",j:[Al("email"),Al("password")]},Gc:{name:"signInWithEmailLink",j:[Al("email"),Al("emailLink",!0)]},Hc:{name:"signInWithPhoneNumber",j:[Al("phoneNumber"),Rl()]},Ic:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"updateCurrentUser",j:[Ml({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof sc)}},Dl(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Al(null,!0)]},Qc:{name:"useDeviceLanguage",j:[]},Rc:{name:"verifyPasswordResetCode",j:[Al("code")]}}),Ll(Gc.prototype,{lc:{name:"languageCode",vb:Ml(Al(),Dl(),"languageCode")}}),(Gc.Persistence=ou).LOCAL="local",Gc.Persistence.SESSION="session",Gc.Persistence.NONE="none",jl(sc.prototype,{delete:{name:"delete",j:[]},ac:{name:"getIdTokenResult",j:[xl("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[xl("opt_forceRefresh",!0)]},oc:{name:"linkAndRetrieveDataWithCredential",j:[Pl()]},fb:{name:"linkWithCredential",j:[Pl()]},pc:{name:"linkWithPhoneNumber",j:[Al("phoneNumber"),Rl()]},qc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},rc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},xc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Pl()]},hb:{name:"reauthenticateWithCredential",j:[Pl()]},yc:{name:"reauthenticateWithPhoneNumber",j:[Al("phoneNumber"),Rl()]},zc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},kb:{name:"sendEmailVerification",j:[Ml(kl("opt_actionCodeSettings",!0),Dl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Al(null,!0)]},Nc:{name:"unlink",j:[Al("provider")]},rb:{name:"updateEmail",j:[Al("email")]},sb:{name:"updatePassword",j:[Al("password")]},Pc:{name:"updatePhoneNumber",j:[Pl("phone")]},tb:{name:"updateProfile",j:[kl("profile")]}}),jl(ol.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),jl(il.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),jl(bt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Ll(Zu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",vb:xl("appVerificationDisabledForTesting")}}),jl(Xu.prototype,{confirm:{name:"confirm",j:[Al("verificationCode")]}}),Vl(ki,"fromJSON",function(t){t=s(t)?JSON.parse(t):t;for(var e,n=[Li,Zi,eo,Ri],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Ml(Al(),kl(),"json")]),Vl(Xi,"credential",function(t,e){return new Yi(t,e)},[Al("email"),Al("password")]),jl(Yi.prototype,{w:{name:"toJSON",j:[Al(null,!0)]}}),jl(Bi.prototype,{ua:{name:"addScope",j:[Al("scope")]},Da:{name:"setCustomParameters",j:[kl("customOAuthParameters")]}}),Vl(Bi,"credential",qi,[Ml(Al(),kl(),"token")]),Vl(Xi,"credentialWithLink",Ji,[Al("email"),Al("emailLink")]),jl(zi.prototype,{ua:{name:"addScope",j:[Al("scope")]},Da:{name:"setCustomParameters",j:[kl("customOAuthParameters")]}}),Vl(zi,"credential",Hi,[Ml(Al(),kl(),"token")]),jl(Ki.prototype,{ua:{name:"addScope",j:[Al("scope")]},Da:{name:"setCustomParameters",j:[kl("customOAuthParameters")]}}),Vl(Ki,"credential",Gi,[Ml(Al(),Ml(kl(),Dl()),"idToken"),Ml(Al(),Dl(),"accessToken",!0)]),jl(Qi.prototype,{Da:{name:"setCustomParameters",j:[kl("customOAuthParameters")]}}),Vl(Qi,"credential",Wi,[Ml(Al(),kl(),"token"),Al("secret",!0)]),jl(Ui.prototype,{ua:{name:"addScope",j:[Al("scope")]},credential:{name:"credential",j:[Ml(Al(),Ml(kl(),Dl()),"optionsOrIdToken"),Ml(Al(),Dl(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[kl("customOAuthParameters")]}}),jl(Mi.prototype,{w:{name:"toJSON",j:[Al(null,!0)]}}),jl(Di.prototype,{w:{name:"toJSON",j:[Al(null,!0)]}}),Vl(ro,"credential",io,[Al("verificationId"),Al("verificationCode")]),jl(ro.prototype,{Va:{name:"verifyPhoneNumber",j:[Al("phoneNumber"),Rl()]}}),jl(to.prototype,{w:{name:"toJSON",j:[Al(null,!0)]}}),jl(Gr.prototype,{toJSON:{name:"toJSON",j:[Al(null,!0)]}}),jl(po.prototype,{toJSON:{name:"toJSON",j:[Al(null,!0)]}}),jl(fo.prototype,{toJSON:{name:"toJSON",j:[Al(null,!0)]}}),jl(Cl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===uh.a||!uh.a.INTERNAL||!uh.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:Gc,AuthCredential:ki,Error:Gr};Vl(t,"EmailAuthProvider",Xi,[]),Vl(t,"FacebookAuthProvider",Bi,[]),Vl(t,"GithubAuthProvider",zi,[]),Vl(t,"GoogleAuthProvider",Ki,[]),Vl(t,"TwitterAuthProvider",Qi,[]),Vl(t,"OAuthProvider",Ui,[Al("providerId")]),Vl(t,"SAMLAuthProvider",Fi,[Al("providerId")]),Vl(t,"PhoneAuthProvider",ro,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Gc)}}]),Vl(t,"RecaptchaVerifier",Cl,[Ml(Al(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),kl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof uh.a.app.App)}}]),uh.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:E((t=new Gc(t)).getUid,t),getToken:E(t.$b,t),addAuthTokenListener:E(t.Tb,t),removeAuthTokenListener:E(t.Bc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(n){}}),uh.a.INTERNAL.extendNamespace({User:sc})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ch=function(){return function(){}}(),lh=(n("6Joi"),function(){function t(){}var e;return e=t,t.enablePersistence=function(t){return{ngModule:e,providers:[{provide:la,useValue:!0},{provide:ha,useValue:t}]}},t}()),hh=n("DuvN"),fh=function(){return function(){}}(),ph=function(){return function(){}}(),dh=function(){return function(){}}(),yh=r["\u0275cmf"](i,[c],function(t){return r["\u0275mod"]([r["\u0275mpd"](512,r.ComponentFactoryResolver,r["\u0275CodegenComponentFactoryResolver"],[[8,[Ki,Sa,ka,ul,ih]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["\u0275mpd"](5120,r.LOCALE_ID,r["\u0275angular_packages_core_core_q"],[[3,r.LOCALE_ID]]),r["\u0275mpd"](4608,S,T,[r.LOCALE_ID,[2,E]]),r["\u0275mpd"](5120,r["\u0275angular_packages_core_core_bb"],r["\u0275angular_packages_core_core_s"],[r.NgZone]),r["\u0275mpd"](5120,r.APP_ID,r["\u0275angular_packages_core_core_f"],[]),r["\u0275mpd"](5120,r.IterableDiffers,r["\u0275angular_packages_core_core_o"],[]),r["\u0275mpd"](5120,r.KeyValueDiffers,r["\u0275angular_packages_core_core_p"],[]),r["\u0275mpd"](4608,Ue,Be,[x]),r["\u0275mpd"](6144,r.Sanitizer,null,[Ue]),r["\u0275mpd"](4608,Pe,Me,[]),r["\u0275mpd"](5120,ae,function(t,e,n,r,i,o,a,s){return[new Ne(t,e,n),new Fe(r),new je(i,o,a,s)]},[x,r.NgZone,r.PLATFORM_ID,x,x,Pe,r["\u0275Console"],[2,Re]]),r["\u0275mpd"](4608,se,se,[ae,r.NgZone]),r["\u0275mpd"](135680,le,le,[x]),r["\u0275mpd"](4608,ve,ve,[se,le,r.APP_ID]),r["\u0275mpd"](5120,Js,Gc,[]),r["\u0275mpd"](5120,qu,Qc,[]),r["\u0275mpd"](4608,vc,Kc,[x,Js,qu]),r["\u0275mpd"](5120,r.RendererFactory2,Wc,[ve,vc,r.NgZone]),r["\u0275mpd"](6144,ce,null,[le]),r["\u0275mpd"](4608,r.Testability,r.Testability,[r.NgZone]),r["\u0275mpd"](4608,po,po,[]),r["\u0275mpd"](4608,Ss,Vc,[r.RendererFactory2,x]),r["\u0275mpd"](4608,oh,oh,[]),r["\u0275mpd"](5120,sr,Li,[vi]),r["\u0275mpd"](4608,Ti,Ti,[]),r["\u0275mpd"](6144,Ei,null,[Ti]),r["\u0275mpd"](135680,Ci,Ci,[vi,r.NgModuleFactoryLoader,r.Compiler,r.Injector,Ei]),r["\u0275mpd"](4608,Si,Si,[]),r["\u0275mpd"](5120,Ii,Di,[vi,P,Oi]),r["\u0275mpd"](5120,Bi,Ui,[Vi]),r["\u0275mpd"](5120,r.APP_BOOTSTRAP_LISTENER,function(t){return[t]},[Bi]),r["\u0275mpd"](5120,Zo,Xo,[Wo,[2,Yo]]),r["\u0275mpd"](4608,$o,$o,[Wo,[2,Yo],r.PLATFORM_ID,r.NgZone]),r["\u0275mpd"](4608,ma,ma,[Wo,[2,Yo],[2,la],[2,fa],r.PLATFORM_ID,r.NgZone,[2,ha]]),r["\u0275mpd"](4608,a,a,[]),r["\u0275mpd"](1073742336,A,A,[]),r["\u0275mpd"](1024,r.ErrorHandler,Ze,[]),r["\u0275mpd"](1024,r.NgProbeToken,function(){return[ki()]},[]),r["\u0275mpd"](512,Vi,Vi,[r.Injector]),r["\u0275mpd"](1024,r.APP_INITIALIZER,function(t,e){return[(n=t,re("probe",oe),re("coreTokens",Object(l.__assign)({},ie,(n||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return oe}),Fi(e)];var n},[[2,r.NgProbeToken],Vi]),r["\u0275mpd"](512,r.ApplicationInitStatus,r.ApplicationInitStatus,[[2,r.APP_INITIALIZER]]),r["\u0275mpd"](131584,r.ApplicationRef,r.ApplicationRef,[r.NgZone,r["\u0275Console"],r.Injector,r.ErrorHandler,r.ComponentFactoryResolver,r.ApplicationInitStatus]),r["\u0275mpd"](1073742336,r.ApplicationModule,r.ApplicationModule,[r.ApplicationRef]),r["\u0275mpd"](1073742336,Xe,Xe,[[3,Xe]]),r["\u0275mpd"](1073742336,Bo,Bo,[]),r["\u0275mpd"](1073742336,qo,qo,[]),r["\u0275mpd"](1073742336,hh.ParallaxModule,hh.ParallaxModule,[]),r["\u0275mpd"](1073742336,Zc,Zc,[]),r["\u0275mpd"](1073742336,Es,Es,[]),r["\u0275mpd"](1073742336,rs,rs,[[2,ns],[2,Re]]),r["\u0275mpd"](1073742336,La,La,[]),r["\u0275mpd"](1073742336,ys,ys,[]),r["\u0275mpd"](1073742336,bs,bs,[]),r["\u0275mpd"](1073742336,ah,ah,[]),r["\u0275mpd"](1073742336,fh,fh,[]),r["\u0275mpd"](1073742336,ph,ph,[]),r["\u0275mpd"](1073742336,El,El,[]),r["\u0275mpd"](1073742336,Dl,Dl,[]),r["\u0275mpd"](1024,Ai,Ri,[[3,vi]]),r["\u0275mpd"](512,Fn,Un,[]),r["\u0275mpd"](512,bi,bi,[]),r["\u0275mpd"](256,Oi,{useHash:!0},[]),r["\u0275mpd"](1024,p,Pi,[h,[2,d],Oi]),r["\u0275mpd"](512,y,y,[p,h]),r["\u0275mpd"](512,r.Compiler,r.Compiler,[]),r["\u0275mpd"](512,r.NgModuleFactoryLoader,r.SystemJsNgModuleLoader,[r.Compiler,[2,r.SystemJsNgModuleLoaderConfig]]),r["\u0275mpd"](1024,li,function(){return[[{path:"login",component:ga},{path:"register",component:Ta},{path:"home",component:$c},{path:"",redirectTo:"/home",pathMatch:"full"}]]},[]),r["\u0275mpd"](1024,vi,ji,[r.ApplicationRef,Fn,bi,y,r.Injector,r.NgModuleFactoryLoader,r.Compiler,li,Oi,[2,fi],[2,ui]]),r["\u0275mpd"](1073742336,Ni,Ni,[[2,Ai],[2,vi]]),r["\u0275mpd"](1073742336,dh,dh,[]),r["\u0275mpd"](1073742336,Jo,Jo,[]),r["\u0275mpd"](1073742336,ch,ch,[]),r["\u0275mpd"](1073742336,lh,lh,[]),r["\u0275mpd"](1073742336,u,u,[]),r["\u0275mpd"](1073742336,i,i,[]),r["\u0275mpd"](256,r["\u0275APP_ROOT"],!0,[]),r["\u0275mpd"](256,Yc,"BrowserAnimations",[]),r["\u0275mpd"](256,Wo,{apiKey:"AIzaSyCaGBqe_6EuOU3TNzo_FMOX8D-UITf26lw",authDomain:"portmacbusinessassociations.firebaseapp.com",databaseURL:"https://portmacbusinessassociations.firebaseio.com",projectId:"portmacbusinessassociations",storageBucket:"portmacbusinessassociations.appspot.com",messagingSenderId:"210855222436",appId:"1:210855222436:web:48627dc7f8036429"},[]),r["\u0275mpd"](256,Yo,void 0,[])])});Object(r.enableProdMode)(),Ye().bootstrapModuleFactory(yh).catch(function(t){return console.error(t)})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},c=new(function(){function t(){this.byteToCharMap_=null,this.charToByteMap_=null,this.byteToCharMapWebSafe_=null,this.charToByteMapWebSafe_=null,this.ENCODED_VALS_BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",this.HAS_NATIVE_SUPPORT="function"==typeof atob}return Object.defineProperty(t.prototype,"ENCODED_VALS",{get:function(){return this.ENCODED_VALS_BASE+"+/="},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ENCODED_VALS_WEBSAFE",{get:function(){return this.ENCODED_VALS_BASE+"-_."},enumerable:!0,configurable:!0}),t.prototype.encodeByteArray=function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},t.prototype.encodeString=function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},t.prototype.decodeString=function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},t.prototype.decodeStringToByteArray=function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},t.prototype.init_=function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}},t}());function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",d=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,y.prototype.create),i}return r.__extends(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=i[0]||{},s=this.service+"/"+t,u=this.errors[t],c=u?function(t,e){return t.replace(m,function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"})}(u,a):"Error",l=new d(s,this.serviceName+": "+c+" ("+s+").");try{for(var h=r.__values(Object.keys(a)),f=h.next();!f.done;f=h.next()){var p=f.value;"_"!==p.slice(-1)&&(p in l&&console.warn('Overwriting FirebaseError base field "'+p+'" can cause unexpected behavior.'),l[p]=a[p])}}catch(y){e={error:y}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}return l},t}(),m=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var g=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(u(o[0])||""),n=v(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),_=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){var n,i;if("object"!=typeof t||null===t)return!1;try{for(var o=r.__values(["next","error","complete"]),a=o.next();!a.done;a=o.next()){var s=a.value;if(s in t&&"function"==typeof t[s])return!0}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=w),void 0===i.error&&(i.error=w),void 0===i.complete&&(i.complete=w);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?i.error(o.finalError):i.complete()}catch(t){}}),this.observers.push(i),a},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function w(){}function E(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=y,e.FirebaseError=d,e.Sha1=b,e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then(function(){t.apply(void 0,r.__spread(n))}).catch(function(t){e&&e(t)})}},e.base64=c,e.base64Decode=u,e.base64Encode=function(t){var e=s(t);return c.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new _(t,e);return n.subscribe.bind(n)},e.decode=g,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=E,e.getUA=f,e.isAdmin=function(t){var e=g(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=g(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=g(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=g(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){var e,n,i=[],o=function(t,e){Array.isArray(e)?e.forEach(function(e){i.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}):i.push(encodeURIComponent(t)+"="+encodeURIComponent(e))};try{for(var a=r.__values(Object.entries(t)),s=a.next();!s.done;s=a.next()){var u=r.__read(s.value,2);o(u[0],u[1])}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i.length?"&"+i.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zo3G:function(t,e,n){"use strict";var r=n("mrSG"),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.__extends(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n("h9Dq").a),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(n("CS9Q").a);n.d(e,"a",function(){return a});var a=new o(i)},zotm:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("rPjj"),i=n("Fxb1");function o(t,e,n,o,a){if(void 0===a&&(a=new r.a(t,n,o)),!a.closed)return Object(i.a)(e)(a)}}},[[0,0]]]);